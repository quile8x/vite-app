{
  "version": 3,
  "sources": ["../penpal/lib/index.js", "../@portis/web3/node_modules/keccak/lib/api/keccak.js", "../@portis/web3/node_modules/keccak/lib/api/shake.js", "../@portis/web3/node_modules/keccak/lib/api/index.js", "../@portis/web3/node_modules/keccak/lib/keccak-state-unroll.js", "../@portis/web3/node_modules/keccak/lib/keccak.js", "../@portis/web3/node_modules/keccak/js.js", "../@portis/web3/node_modules/ethereumjs-util/dist/index.js", "../async/internal/breakLoop.js", "../async/internal/once.js", "../async/internal/getIterator.js", "../async/internal/iterator.js", "../async/internal/onlyOnce.js", "../async/internal/eachOfLimit.js", "../async/internal/slice.js", "../async/internal/initialParams.js", "../async/internal/setImmediate.js", "../async/asyncify.js", "../async/internal/wrapAsync.js", "../async/eachOfLimit.js", "../async/internal/doLimit.js", "../async/eachOf.js", "../async/internal/doParallel.js", "../async/internal/map.js", "../async/map.js", "../async/internal/withoutIndex.js", "../async/eachLimit.js", "../async/eachSeries.js", "../web3-provider-engine/util/stoplight.js", "../web3-provider-engine/util/rpc-cache-utils.js", "../web3-provider-engine/util/random-id.js", "../web3-provider-engine/util/create-payload.js", "../web3-provider-engine/index.js", "../web3-provider-engine/dist/es5/util/random-id.js", "../web3-provider-engine/dist/es5/util/create-payload.js", "../web3-provider-engine/dist/es5/subproviders/subprovider.js", "../web3-provider-engine/dist/es5/subproviders/json-rpc-engine-middleware.js", "../eth-json-rpc-middleware/cache-utils.js", "../json-rpc-engine/src/createAsyncMiddleware.js", "../eth-json-rpc-middleware/block-cache.js", "../web3-provider-engine/dist/es5/subproviders/cache.js", "../web3-provider-engine/dist/es5/subproviders/fixture.js", "../web3-provider-engine/dist/es5/subproviders/filters.js", "../async/waterfall.js", "../async/internal/parallel.js", "../async/parallel.js", "../web3-provider-engine/dist/es5/util/estimate-gas.js", "../web3-provider-engine/dist/es5/subproviders/hooked-wallet.js", "../ethereumjs-tx/es5/index.js", "../web3-provider-engine/dist/es5/util/rpc-cache-utils.js", "../web3-provider-engine/dist/es5/subproviders/nonce-tracker.js", "../web3-provider-engine/dist/es5/subproviders/subscriptions.js", "dep:@portis_web3", "../@portis/web3/src/networks.ts", "../@portis/web3/src/utils/onWindowLoad.ts", "../@portis/web3/src/utils/isClientSide.ts", "../@portis/web3/src/utils/secureOrigin.ts", "../@portis/web3/src/widget/widgetManager.ts", "../@portis/web3/src/styles.ts", "../@portis/web3/src/utils/getTxGas.ts", "../@portis/web3/src/utils/query.ts", "../@portis/web3/src/web3/web3Manager.ts", "../@portis/web3/src/utils/mockify.ts", "../@portis/web3/src/index.ts"],
  "sourcesContent": ["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.ERR_NOT_IN_IFRAME = exports.ERR_CONNECTION_TIMEOUT = exports.ERR_CONNECTION_DESTROYED = void 0;\nvar HANDSHAKE = 'handshake';\nvar HANDSHAKE_REPLY = 'handshake-reply';\nvar CALL = 'call';\nvar REPLY = 'reply';\nvar FULFILLED = 'fulfilled';\nvar REJECTED = 'rejected';\nvar MESSAGE = 'message';\nvar DATA_CLONE_ERROR = 'DataCloneError';\nvar ERR_CONNECTION_DESTROYED = 'ConnectionDestroyed';\nexports.ERR_CONNECTION_DESTROYED = ERR_CONNECTION_DESTROYED;\nvar ERR_CONNECTION_TIMEOUT = 'ConnectionTimeout';\nexports.ERR_CONNECTION_TIMEOUT = ERR_CONNECTION_TIMEOUT;\nvar ERR_NOT_IN_IFRAME = 'NotInIframe';\nexports.ERR_NOT_IN_IFRAME = ERR_NOT_IN_IFRAME;\nvar DEFAULT_PORTS = {\n  'http:': '80',\n  'https:': '443'\n};\nvar URL_REGEX = /^(https?:)?\\/\\/([^/:]+)(:(\\d+))?/;\nvar Penpal = {\n  ERR_CONNECTION_DESTROYED: ERR_CONNECTION_DESTROYED,\n  ERR_CONNECTION_TIMEOUT: ERR_CONNECTION_TIMEOUT,\n  ERR_NOT_IN_IFRAME: ERR_NOT_IN_IFRAME,\n\n  /**\n   * Promise implementation.\n   * @type {Constructor}\n   */\n  Promise: function () {\n    try {\n      return window ? window.Promise : null;\n    } catch (e) {\n      return null;\n    }\n  }(),\n\n  /**\n   * Whether debug messages should be logged.\n   * @type {boolean}\n   */\n  debug: false\n};\n/**\n * @return {number} A unique ID (not universally unique)\n */\n\nvar generateId = function () {\n  var id = 0;\n  return function () {\n    return ++id;\n  };\n}();\n/**\n * Logs a message.\n * @param {...*} args One or more items to log\n */\n\n\nvar log = function log() {\n  if (Penpal.debug) {\n    var _console;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    (_console = console).log.apply(_console, ['[Penpal]'].concat(args)); // eslint-disable-line no-console\n\n  }\n};\n/**\n * Converts a URL into an origin.\n * @param {string} url\n * @return {string} The URL's origin\n */\n\n\nvar getOriginFromUrl = function getOriginFromUrl(url) {\n  var location = document.location;\n  var regexResult = URL_REGEX.exec(url);\n  var protocol;\n  var hostname;\n  var port;\n\n  if (regexResult) {\n    // It's an absolute URL. Use the parsed info.\n    // regexResult[1] will be undefined if the URL starts with //\n    protocol = regexResult[1] ? regexResult[1] : location.protocol;\n    hostname = regexResult[2];\n    port = regexResult[4];\n  } else {\n    // It's a relative path. Use the current location's info.\n    protocol = location.protocol;\n    hostname = location.hostname;\n    port = location.port;\n  } // If the port is the default for the protocol, we don't want to add it to the origin string\n  // or it won't match the message's event.origin.\n\n\n  var portSuffix = port && port !== DEFAULT_PORTS[protocol] ? \":\".concat(port) : '';\n  return \"\".concat(protocol, \"//\").concat(hostname).concat(portSuffix);\n};\n/**\n * A simplified promise class only used internally for when destroy() is called. This is\n * used to destroy connections synchronously while promises typically resolve asynchronously.\n *\n * @param {Function} executor\n * @returns {Object}\n * @constructor\n */\n\n\nvar DestructionPromise = function DestructionPromise(executor) {\n  var handlers = [];\n  executor(function () {\n    handlers.forEach(function (handler) {\n      handler();\n    });\n  });\n  return {\n    then: function then(handler) {\n      handlers.push(handler);\n    }\n  };\n};\n/**\n * Converts an error object into a plain object.\n * @param {Error} Error object.\n * @returns {Object}\n */\n\n\nvar serializeError = function serializeError(_ref) {\n  var name = _ref.name,\n      message = _ref.message,\n      stack = _ref.stack;\n  return {\n    name: name,\n    message: message,\n    stack: stack\n  };\n};\n/**\n * Converts a plain object into an error object.\n * @param {Object} Object with error properties.\n * @returns {Error}\n */\n\n\nvar deserializeError = function deserializeError(obj) {\n  var deserializedError = new Error();\n  Object.keys(obj).forEach(function (key) {\n    return deserializedError[key] = obj[key];\n  });\n  return deserializedError;\n};\n/**\n * Augments an object with methods that match those defined by the remote. When these methods are\n * called, a \"call\" message will be sent to the remote, the remote's corresponding method will be\n * executed, and the method's return value will be returned via a message.\n * @param {Object} callSender Sender object that should be augmented with methods.\n * @param {Object} info Information about the local and remote windows.\n * @param {Array} methodNames Names of methods available to be called on the remote.\n * @param {Promise} destructionPromise A promise resolved when destroy() is called on the penpal\n * connection.\n * @returns {Object} The call sender object with methods that may be called.\n */\n\n\nvar connectCallSender = function connectCallSender(callSender, info, methodNames, destructionPromise) {\n  var localName = info.localName,\n      local = info.local,\n      remote = info.remote,\n      remoteOrigin = info.remoteOrigin;\n  var destroyed = false;\n  log(\"\".concat(localName, \": Connecting call sender\"));\n\n  var createMethodProxy = function createMethodProxy(methodName) {\n    return function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      log(\"\".concat(localName, \": Sending \").concat(methodName, \"() call\"));\n\n      if (destroyed) {\n        var error = new Error(\"Unable to send \".concat(methodName, \"() call due \") + \"to destroyed connection\");\n        error.code = ERR_CONNECTION_DESTROYED;\n        throw error;\n      }\n\n      return new Penpal.Promise(function (resolve, reject) {\n        var id = generateId();\n\n        var handleMessageEvent = function handleMessageEvent(event) {\n          if (event.source === remote && event.origin === remoteOrigin && event.data.penpal === REPLY && event.data.id === id) {\n            log(\"\".concat(localName, \": Received \").concat(methodName, \"() reply\"));\n            local.removeEventListener(MESSAGE, handleMessageEvent);\n            var returnValue = event.data.returnValue;\n\n            if (event.data.returnValueIsError) {\n              returnValue = deserializeError(returnValue);\n            }\n\n            (event.data.resolution === FULFILLED ? resolve : reject)(returnValue);\n          }\n        };\n\n        local.addEventListener(MESSAGE, handleMessageEvent);\n        remote.postMessage({\n          penpal: CALL,\n          id: id,\n          methodName: methodName,\n          args: args\n        }, remoteOrigin);\n      });\n    };\n  };\n\n  destructionPromise.then(function () {\n    destroyed = true;\n  });\n  methodNames.reduce(function (api, methodName) {\n    api[methodName] = createMethodProxy(methodName);\n    return api;\n  }, callSender);\n};\n/**\n * Listens for \"call\" messages coming from the remote, executes the corresponding method, and\n * responds with the return value.\n * @param {Object} info Information about the local and remote windows.\n * @param {Object} methods The keys are the names of the methods that can be called by the remote\n * while the values are the method functions.\n * @param {Promise} destructionPromise A promise resolved when destroy() is called on the penpal\n * connection.\n * @returns {Function} A function that may be called to disconnect the receiver.\n */\n\n\nvar connectCallReceiver = function connectCallReceiver(info, methods, destructionPromise) {\n  var localName = info.localName,\n      local = info.local,\n      remote = info.remote,\n      remoteOrigin = info.remoteOrigin;\n  var destroyed = false;\n  log(\"\".concat(localName, \": Connecting call receiver\"));\n\n  var handleMessageEvent = function handleMessageEvent(event) {\n    if (event.source === remote && event.origin === remoteOrigin && event.data.penpal === CALL) {\n      var _event$data = event.data,\n          methodName = _event$data.methodName,\n          args = _event$data.args,\n          id = _event$data.id;\n      log(\"\".concat(localName, \": Received \").concat(methodName, \"() call\"));\n\n      if (methodName in methods) {\n        var createPromiseHandler = function createPromiseHandler(resolution) {\n          return function (returnValue) {\n            log(\"\".concat(localName, \": Sending \").concat(methodName, \"() reply\"));\n\n            if (destroyed) {\n              // It's possible to throw an error here, but it would need to be thrown asynchronously\n              // and would only be catchable using window.onerror. This is because the consumer\n              // is merely returning a value from their method and not calling any function\n              // that they could wrap in a try-catch. Even if the consumer were to catch the error,\n              // the value of doing so is questionable. Instead, we'll just log a message.\n              log(\"\".concat(localName, \": Unable to send \").concat(methodName, \"() reply due to destroyed connection\"));\n              return;\n            }\n\n            var message = {\n              penpal: REPLY,\n              id: id,\n              resolution: resolution,\n              returnValue: returnValue\n            };\n\n            if (resolution === REJECTED && returnValue instanceof Error) {\n              message.returnValue = serializeError(returnValue);\n              message.returnValueIsError = true;\n            }\n\n            try {\n              remote.postMessage(message, remoteOrigin);\n            } catch (err) {\n              // If a consumer attempts to send an object that's not cloneable (e.g., window),\n              // we want to ensure the receiver's promise gets rejected.\n              if (err.name === DATA_CLONE_ERROR) {\n                remote.postMessage({\n                  penpal: REPLY,\n                  id: id,\n                  resolution: REJECTED,\n                  returnValue: serializeError(err),\n                  returnValueIsError: true\n                }, remoteOrigin);\n              }\n\n              throw err;\n            }\n          };\n        };\n\n        new Penpal.Promise(function (resolve) {\n          return resolve(methods[methodName].apply(methods, args));\n        }).then(createPromiseHandler(FULFILLED), createPromiseHandler(REJECTED));\n      }\n    }\n  };\n\n  local.addEventListener(MESSAGE, handleMessageEvent);\n  destructionPromise.then(function () {\n    destroyed = true;\n    local.removeEventListener(MESSAGE, handleMessageEvent);\n  });\n};\n/**\n * @typedef {Object} Child\n * @property {Promise} promise A promise which will be resolved once a connection has\n * been established.\n * @property {HTMLIframeElement} iframe The created iframe element.\n * @property {Function} destroy A method that, when called, will remove the iframe element from\n * the DOM and clean up event listeners.\n */\n\n/**\n * Creates an iframe, loads a webpage into the URL, and attempts to establish communication with\n * the iframe.\n * @param {Object} options\n * @param {string} options.url The URL of the webpage that should be loaded into the created iframe.\n * @param {HTMLElement} [options.appendTo] The container to which the iframe should be appended.\n * @param {Object} [options.methods={}] Methods that may be called by the iframe.\n * @param {Number} [options.timeout] The amount of time, in milliseconds, Penpal should wait\n * for the child to respond before rejecting the connection promise.\n * @return {Child}\n */\n\n\nPenpal.connectToChild = function (_ref2) {\n  var url = _ref2.url,\n      appendTo = _ref2.appendTo,\n      _ref2$methods = _ref2.methods,\n      methods = _ref2$methods === void 0 ? {} : _ref2$methods,\n      timeout = _ref2.timeout;\n  var destroy;\n  var connectionDestructionPromise = new DestructionPromise(function (resolveConnectionDestructionPromise) {\n    destroy = resolveConnectionDestructionPromise;\n  });\n  var parent = window;\n  var iframe = document.createElement('iframe');\n  (appendTo || document.body).appendChild(iframe);\n  connectionDestructionPromise.then(function () {\n    if (iframe.parentNode) {\n      iframe.parentNode.removeChild(iframe);\n    }\n  });\n  var child = iframe.contentWindow || iframe.contentDocument.parentWindow;\n  var childOrigin = getOriginFromUrl(url);\n  var promise = new Penpal.Promise(function (resolveConnectionPromise, reject) {\n    var connectionTimeoutId;\n\n    if (timeout !== undefined) {\n      connectionTimeoutId = setTimeout(function () {\n        var error = new Error(\"Connection to child timed out after \".concat(timeout, \"ms\"));\n        error.code = ERR_CONNECTION_TIMEOUT;\n        reject(error);\n        destroy();\n      }, timeout);\n    } // We resolve the promise with the call sender. If the child reconnects (for example, after\n    // refreshing or navigating to another page that uses Penpal, we'll update the call sender\n    // with methods that match the latest provided by the child.\n\n\n    var callSender = {};\n    var receiverMethodNames;\n    var destroyCallReceiver;\n\n    var handleMessage = function handleMessage(event) {\n      if (event.source === child && event.origin === childOrigin && event.data.penpal === HANDSHAKE) {\n        log('Parent: Received handshake, sending reply');\n        event.source.postMessage({\n          penpal: HANDSHAKE_REPLY,\n          methodNames: Object.keys(methods)\n        }, event.origin);\n        var info = {\n          localName: 'Parent',\n          local: parent,\n          remote: child,\n          remoteOrigin: event.origin\n        }; // If the child reconnected, we need to destroy the previous call receiver before setting\n        // up a new one.\n\n        if (destroyCallReceiver) {\n          destroyCallReceiver();\n        } // When this promise is resolved, it will destroy the call receiver (stop listening to\n        // method calls from the child) and delete its methods off the call sender.\n\n\n        var callReceiverDestructionPromise = new DestructionPromise(function (resolveCallReceiverDestructionPromise) {\n          connectionDestructionPromise.then(resolveCallReceiverDestructionPromise);\n          destroyCallReceiver = resolveCallReceiverDestructionPromise;\n        });\n        connectCallReceiver(info, methods, callReceiverDestructionPromise); // If the child reconnected, we need to remove the methods from the previous call receiver\n        // off the sender.\n\n        if (receiverMethodNames) {\n          receiverMethodNames.forEach(function (receiverMethodName) {\n            delete callSender[receiverMethodName];\n          });\n        }\n\n        receiverMethodNames = event.data.methodNames;\n        connectCallSender(callSender, info, receiverMethodNames, connectionDestructionPromise);\n        clearTimeout(connectionTimeoutId);\n        resolveConnectionPromise(callSender);\n      }\n    };\n\n    parent.addEventListener(MESSAGE, handleMessage);\n    connectionDestructionPromise.then(function () {\n      parent.removeEventListener(MESSAGE, handleMessage);\n      var error = new Error('Connection destroyed');\n      error.code = ERR_CONNECTION_DESTROYED;\n      reject(error);\n    });\n    log('Parent: Loading iframe');\n    iframe.src = url;\n  });\n  return {\n    promise: promise,\n    iframe: iframe,\n    destroy: destroy\n  };\n};\n/**\n * @typedef {Object} Parent\n * @property {Promise} promise A promise which will be resolved once a connection has\n * been established.\n */\n\n/**\n * Attempts to establish communication with the parent window.\n * @param {Object} options\n * @param {string} [options.parentOrigin=*] Valid parent origin used to restrict communication.\n * @param {Object} [options.methods={}] Methods that may be called by the parent window.\n * @param {Number} [options.timeout] The amount of time, in milliseconds, Penpal should wait\n * for the parent to respond before rejecting the connection promise.\n * @return {Parent}\n */\n\n\nPenpal.connectToParent = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref3$parentOrigin = _ref3.parentOrigin,\n      parentOrigin = _ref3$parentOrigin === void 0 ? '*' : _ref3$parentOrigin,\n      _ref3$methods = _ref3.methods,\n      methods = _ref3$methods === void 0 ? {} : _ref3$methods,\n      timeout = _ref3.timeout;\n\n  if (window === window.top) {\n    var error = new Error('connectToParent() must be called within an iframe');\n    error.code = ERR_NOT_IN_IFRAME;\n    throw error;\n  }\n\n  var destroy;\n  var connectionDestructionPromise = new DestructionPromise(function (resolveConnectionDestructionPromise) {\n    destroy = resolveConnectionDestructionPromise;\n  });\n  var child = window;\n  var parent = child.parent;\n  var promise = new Penpal.Promise(function (resolveConnectionPromise, reject) {\n    var connectionTimeoutId;\n\n    if (timeout !== undefined) {\n      connectionTimeoutId = setTimeout(function () {\n        var error = new Error(\"Connection to parent timed out after \".concat(timeout, \"ms\"));\n        error.code = ERR_CONNECTION_TIMEOUT;\n        reject(error);\n        destroy();\n      }, timeout);\n    }\n\n    var handleMessageEvent = function handleMessageEvent(event) {\n      if ((parentOrigin === '*' || parentOrigin === event.origin) && event.source === parent && event.data.penpal === HANDSHAKE_REPLY) {\n        log('Child: Received handshake reply');\n        child.removeEventListener(MESSAGE, handleMessageEvent);\n        var info = {\n          localName: 'Child',\n          local: child,\n          remote: parent,\n          remoteOrigin: event.origin\n        };\n        var callSender = {};\n        connectCallReceiver(info, methods, connectionDestructionPromise);\n        connectCallSender(callSender, info, event.data.methodNames, connectionDestructionPromise);\n        clearTimeout(connectionTimeoutId);\n        resolveConnectionPromise(callSender);\n      }\n    };\n\n    child.addEventListener(MESSAGE, handleMessageEvent);\n    connectionDestructionPromise.then(function () {\n      child.removeEventListener(MESSAGE, handleMessageEvent);\n      var error = new Error('Connection destroyed');\n      error.code = ERR_CONNECTION_DESTROYED;\n      reject(error);\n    });\n    log('Child: Sending handshake');\n    parent.postMessage({\n      penpal: HANDSHAKE,\n      methodNames: Object.keys(methods)\n    }, parentOrigin);\n  });\n  return {\n    promise: promise,\n    destroy: destroy\n  };\n};\n\nvar _default = Penpal;\nexports.default = _default;", "'use strict'\nvar Buffer = require('safe-buffer').Buffer\nvar Transform = require('stream').Transform\nvar inherits = require('inherits')\n\nmodule.exports = function (KeccakState) {\n  function Keccak (rate, capacity, delimitedSuffix, hashBitLength, options) {\n    Transform.call(this, options)\n\n    this._rate = rate\n    this._capacity = capacity\n    this._delimitedSuffix = delimitedSuffix\n    this._hashBitLength = hashBitLength\n    this._options = options\n\n    this._state = new KeccakState()\n    this._state.initialize(rate, capacity)\n    this._finalized = false\n  }\n\n  inherits(Keccak, Transform)\n\n  Keccak.prototype._transform = function (chunk, encoding, callback) {\n    var error = null\n    try {\n      this.update(chunk, encoding)\n    } catch (err) {\n      error = err\n    }\n\n    callback(error)\n  }\n\n  Keccak.prototype._flush = function (callback) {\n    var error = null\n    try {\n      this.push(this.digest())\n    } catch (err) {\n      error = err\n    }\n\n    callback(error)\n  }\n\n  Keccak.prototype.update = function (data, encoding) {\n    if (!Buffer.isBuffer(data) && typeof data !== 'string') throw new TypeError('Data must be a string or a buffer')\n    if (this._finalized) throw new Error('Digest already called')\n    if (!Buffer.isBuffer(data)) data = Buffer.from(data, encoding)\n\n    this._state.absorb(data)\n\n    return this\n  }\n\n  Keccak.prototype.digest = function (encoding) {\n    if (this._finalized) throw new Error('Digest already called')\n    this._finalized = true\n\n    if (this._delimitedSuffix) this._state.absorbLastFewBits(this._delimitedSuffix)\n    var digest = this._state.squeeze(this._hashBitLength / 8)\n    if (encoding !== undefined) digest = digest.toString(encoding)\n\n    this._resetState()\n\n    return digest\n  }\n\n  // remove result from memory\n  Keccak.prototype._resetState = function () {\n    this._state.initialize(this._rate, this._capacity)\n    return this\n  }\n\n  // because sometimes we need hash right now and little later\n  Keccak.prototype._clone = function () {\n    var clone = new Keccak(this._rate, this._capacity, this._delimitedSuffix, this._hashBitLength, this._options)\n    this._state.copy(clone._state)\n    clone._finalized = this._finalized\n\n    return clone\n  }\n\n  return Keccak\n}\n", "'use strict'\nvar Buffer = require('safe-buffer').Buffer\nvar Transform = require('stream').Transform\nvar inherits = require('inherits')\n\nmodule.exports = function (KeccakState) {\n  function Shake (rate, capacity, delimitedSuffix, options) {\n    Transform.call(this, options)\n\n    this._rate = rate\n    this._capacity = capacity\n    this._delimitedSuffix = delimitedSuffix\n    this._options = options\n\n    this._state = new KeccakState()\n    this._state.initialize(rate, capacity)\n    this._finalized = false\n  }\n\n  inherits(Shake, Transform)\n\n  Shake.prototype._transform = function (chunk, encoding, callback) {\n    var error = null\n    try {\n      this.update(chunk, encoding)\n    } catch (err) {\n      error = err\n    }\n\n    callback(error)\n  }\n\n  Shake.prototype._flush = function () {}\n\n  Shake.prototype._read = function (size) {\n    this.push(this.squeeze(size))\n  }\n\n  Shake.prototype.update = function (data, encoding) {\n    if (!Buffer.isBuffer(data) && typeof data !== 'string') throw new TypeError('Data must be a string or a buffer')\n    if (this._finalized) throw new Error('Squeeze already called')\n    if (!Buffer.isBuffer(data)) data = Buffer.from(data, encoding)\n\n    this._state.absorb(data)\n\n    return this\n  }\n\n  Shake.prototype.squeeze = function (dataByteLength, encoding) {\n    if (!this._finalized) {\n      this._finalized = true\n      this._state.absorbLastFewBits(this._delimitedSuffix)\n    }\n\n    var data = this._state.squeeze(dataByteLength)\n    if (encoding !== undefined) data = data.toString(encoding)\n\n    return data\n  }\n\n  Shake.prototype._resetState = function () {\n    this._state.initialize(this._rate, this._capacity)\n    return this\n  }\n\n  Shake.prototype._clone = function () {\n    var clone = new Shake(this._rate, this._capacity, this._delimitedSuffix, this._options)\n    this._state.copy(clone._state)\n    clone._finalized = this._finalized\n\n    return clone\n  }\n\n  return Shake\n}\n", "'use strict'\nvar createKeccak = require('./keccak')\nvar createShake = require('./shake')\n\nmodule.exports = function (KeccakState) {\n  var Keccak = createKeccak(KeccakState)\n  var Shake = createShake(KeccakState)\n\n  return function (algorithm, options) {\n    var hash = typeof algorithm === 'string' ? algorithm.toLowerCase() : algorithm\n    switch (hash) {\n      case 'keccak224': return new Keccak(1152, 448, null, 224, options)\n      case 'keccak256': return new Keccak(1088, 512, null, 256, options)\n      case 'keccak384': return new Keccak(832, 768, null, 384, options)\n      case 'keccak512': return new Keccak(576, 1024, null, 512, options)\n\n      case 'sha3-224': return new Keccak(1152, 448, 0x06, 224, options)\n      case 'sha3-256': return new Keccak(1088, 512, 0x06, 256, options)\n      case 'sha3-384': return new Keccak(832, 768, 0x06, 384, options)\n      case 'sha3-512': return new Keccak(576, 1024, 0x06, 512, options)\n\n      case 'shake128': return new Shake(1344, 256, 0x1f, options)\n      case 'shake256': return new Shake(1088, 512, 0x1f, options)\n\n      default: throw new Error('Invald algorithm: ' + algorithm)\n    }\n  }\n}\n", "'use strict'\nvar P1600_ROUND_CONSTANTS = [1, 0, 32898, 0, 32906, 2147483648, 2147516416, 2147483648, 32907, 0, 2147483649, 0, 2147516545, 2147483648, 32777, 2147483648, 138, 0, 136, 0, 2147516425, 0, 2147483658, 0, 2147516555, 0, 139, 2147483648, 32905, 2147483648, 32771, 2147483648, 32770, 2147483648, 128, 2147483648, 32778, 0, 2147483658, 2147483648, 2147516545, 2147483648, 32896, 2147483648, 2147483649, 0, 2147516424, 2147483648]\n\nexports.p1600 = function (s) {\n  for (var round = 0; round < 24; ++round) {\n    // theta\n    var lo0 = s[0] ^ s[10] ^ s[20] ^ s[30] ^ s[40]\n    var hi0 = s[1] ^ s[11] ^ s[21] ^ s[31] ^ s[41]\n    var lo1 = s[2] ^ s[12] ^ s[22] ^ s[32] ^ s[42]\n    var hi1 = s[3] ^ s[13] ^ s[23] ^ s[33] ^ s[43]\n    var lo2 = s[4] ^ s[14] ^ s[24] ^ s[34] ^ s[44]\n    var hi2 = s[5] ^ s[15] ^ s[25] ^ s[35] ^ s[45]\n    var lo3 = s[6] ^ s[16] ^ s[26] ^ s[36] ^ s[46]\n    var hi3 = s[7] ^ s[17] ^ s[27] ^ s[37] ^ s[47]\n    var lo4 = s[8] ^ s[18] ^ s[28] ^ s[38] ^ s[48]\n    var hi4 = s[9] ^ s[19] ^ s[29] ^ s[39] ^ s[49]\n\n    var lo = lo4 ^ (lo1 << 1 | hi1 >>> 31)\n    var hi = hi4 ^ (hi1 << 1 | lo1 >>> 31)\n    var t1slo0 = s[0] ^ lo\n    var t1shi0 = s[1] ^ hi\n    var t1slo5 = s[10] ^ lo\n    var t1shi5 = s[11] ^ hi\n    var t1slo10 = s[20] ^ lo\n    var t1shi10 = s[21] ^ hi\n    var t1slo15 = s[30] ^ lo\n    var t1shi15 = s[31] ^ hi\n    var t1slo20 = s[40] ^ lo\n    var t1shi20 = s[41] ^ hi\n    lo = lo0 ^ (lo2 << 1 | hi2 >>> 31)\n    hi = hi0 ^ (hi2 << 1 | lo2 >>> 31)\n    var t1slo1 = s[2] ^ lo\n    var t1shi1 = s[3] ^ hi\n    var t1slo6 = s[12] ^ lo\n    var t1shi6 = s[13] ^ hi\n    var t1slo11 = s[22] ^ lo\n    var t1shi11 = s[23] ^ hi\n    var t1slo16 = s[32] ^ lo\n    var t1shi16 = s[33] ^ hi\n    var t1slo21 = s[42] ^ lo\n    var t1shi21 = s[43] ^ hi\n    lo = lo1 ^ (lo3 << 1 | hi3 >>> 31)\n    hi = hi1 ^ (hi3 << 1 | lo3 >>> 31)\n    var t1slo2 = s[4] ^ lo\n    var t1shi2 = s[5] ^ hi\n    var t1slo7 = s[14] ^ lo\n    var t1shi7 = s[15] ^ hi\n    var t1slo12 = s[24] ^ lo\n    var t1shi12 = s[25] ^ hi\n    var t1slo17 = s[34] ^ lo\n    var t1shi17 = s[35] ^ hi\n    var t1slo22 = s[44] ^ lo\n    var t1shi22 = s[45] ^ hi\n    lo = lo2 ^ (lo4 << 1 | hi4 >>> 31)\n    hi = hi2 ^ (hi4 << 1 | lo4 >>> 31)\n    var t1slo3 = s[6] ^ lo\n    var t1shi3 = s[7] ^ hi\n    var t1slo8 = s[16] ^ lo\n    var t1shi8 = s[17] ^ hi\n    var t1slo13 = s[26] ^ lo\n    var t1shi13 = s[27] ^ hi\n    var t1slo18 = s[36] ^ lo\n    var t1shi18 = s[37] ^ hi\n    var t1slo23 = s[46] ^ lo\n    var t1shi23 = s[47] ^ hi\n    lo = lo3 ^ (lo0 << 1 | hi0 >>> 31)\n    hi = hi3 ^ (hi0 << 1 | lo0 >>> 31)\n    var t1slo4 = s[8] ^ lo\n    var t1shi4 = s[9] ^ hi\n    var t1slo9 = s[18] ^ lo\n    var t1shi9 = s[19] ^ hi\n    var t1slo14 = s[28] ^ lo\n    var t1shi14 = s[29] ^ hi\n    var t1slo19 = s[38] ^ lo\n    var t1shi19 = s[39] ^ hi\n    var t1slo24 = s[48] ^ lo\n    var t1shi24 = s[49] ^ hi\n\n    // rho & pi\n    var t2slo0 = t1slo0\n    var t2shi0 = t1shi0\n    var t2slo16 = (t1shi5 << 4 | t1slo5 >>> 28)\n    var t2shi16 = (t1slo5 << 4 | t1shi5 >>> 28)\n    var t2slo7 = (t1slo10 << 3 | t1shi10 >>> 29)\n    var t2shi7 = (t1shi10 << 3 | t1slo10 >>> 29)\n    var t2slo23 = (t1shi15 << 9 | t1slo15 >>> 23)\n    var t2shi23 = (t1slo15 << 9 | t1shi15 >>> 23)\n    var t2slo14 = (t1slo20 << 18 | t1shi20 >>> 14)\n    var t2shi14 = (t1shi20 << 18 | t1slo20 >>> 14)\n    var t2slo10 = (t1slo1 << 1 | t1shi1 >>> 31)\n    var t2shi10 = (t1shi1 << 1 | t1slo1 >>> 31)\n    var t2slo1 = (t1shi6 << 12 | t1slo6 >>> 20)\n    var t2shi1 = (t1slo6 << 12 | t1shi6 >>> 20)\n    var t2slo17 = (t1slo11 << 10 | t1shi11 >>> 22)\n    var t2shi17 = (t1shi11 << 10 | t1slo11 >>> 22)\n    var t2slo8 = (t1shi16 << 13 | t1slo16 >>> 19)\n    var t2shi8 = (t1slo16 << 13 | t1shi16 >>> 19)\n    var t2slo24 = (t1slo21 << 2 | t1shi21 >>> 30)\n    var t2shi24 = (t1shi21 << 2 | t1slo21 >>> 30)\n    var t2slo20 = (t1shi2 << 30 | t1slo2 >>> 2)\n    var t2shi20 = (t1slo2 << 30 | t1shi2 >>> 2)\n    var t2slo11 = (t1slo7 << 6 | t1shi7 >>> 26)\n    var t2shi11 = (t1shi7 << 6 | t1slo7 >>> 26)\n    var t2slo2 = (t1shi12 << 11 | t1slo12 >>> 21)\n    var t2shi2 = (t1slo12 << 11 | t1shi12 >>> 21)\n    var t2slo18 = (t1slo17 << 15 | t1shi17 >>> 17)\n    var t2shi18 = (t1shi17 << 15 | t1slo17 >>> 17)\n    var t2slo9 = (t1shi22 << 29 | t1slo22 >>> 3)\n    var t2shi9 = (t1slo22 << 29 | t1shi22 >>> 3)\n    var t2slo5 = (t1slo3 << 28 | t1shi3 >>> 4)\n    var t2shi5 = (t1shi3 << 28 | t1slo3 >>> 4)\n    var t2slo21 = (t1shi8 << 23 | t1slo8 >>> 9)\n    var t2shi21 = (t1slo8 << 23 | t1shi8 >>> 9)\n    var t2slo12 = (t1slo13 << 25 | t1shi13 >>> 7)\n    var t2shi12 = (t1shi13 << 25 | t1slo13 >>> 7)\n    var t2slo3 = (t1slo18 << 21 | t1shi18 >>> 11)\n    var t2shi3 = (t1shi18 << 21 | t1slo18 >>> 11)\n    var t2slo19 = (t1shi23 << 24 | t1slo23 >>> 8)\n    var t2shi19 = (t1slo23 << 24 | t1shi23 >>> 8)\n    var t2slo15 = (t1slo4 << 27 | t1shi4 >>> 5)\n    var t2shi15 = (t1shi4 << 27 | t1slo4 >>> 5)\n    var t2slo6 = (t1slo9 << 20 | t1shi9 >>> 12)\n    var t2shi6 = (t1shi9 << 20 | t1slo9 >>> 12)\n    var t2slo22 = (t1shi14 << 7 | t1slo14 >>> 25)\n    var t2shi22 = (t1slo14 << 7 | t1shi14 >>> 25)\n    var t2slo13 = (t1slo19 << 8 | t1shi19 >>> 24)\n    var t2shi13 = (t1shi19 << 8 | t1slo19 >>> 24)\n    var t2slo4 = (t1slo24 << 14 | t1shi24 >>> 18)\n    var t2shi4 = (t1shi24 << 14 | t1slo24 >>> 18)\n\n    // chi\n    s[0] = t2slo0 ^ (~t2slo1 & t2slo2)\n    s[1] = t2shi0 ^ (~t2shi1 & t2shi2)\n    s[10] = t2slo5 ^ (~t2slo6 & t2slo7)\n    s[11] = t2shi5 ^ (~t2shi6 & t2shi7)\n    s[20] = t2slo10 ^ (~t2slo11 & t2slo12)\n    s[21] = t2shi10 ^ (~t2shi11 & t2shi12)\n    s[30] = t2slo15 ^ (~t2slo16 & t2slo17)\n    s[31] = t2shi15 ^ (~t2shi16 & t2shi17)\n    s[40] = t2slo20 ^ (~t2slo21 & t2slo22)\n    s[41] = t2shi20 ^ (~t2shi21 & t2shi22)\n    s[2] = t2slo1 ^ (~t2slo2 & t2slo3)\n    s[3] = t2shi1 ^ (~t2shi2 & t2shi3)\n    s[12] = t2slo6 ^ (~t2slo7 & t2slo8)\n    s[13] = t2shi6 ^ (~t2shi7 & t2shi8)\n    s[22] = t2slo11 ^ (~t2slo12 & t2slo13)\n    s[23] = t2shi11 ^ (~t2shi12 & t2shi13)\n    s[32] = t2slo16 ^ (~t2slo17 & t2slo18)\n    s[33] = t2shi16 ^ (~t2shi17 & t2shi18)\n    s[42] = t2slo21 ^ (~t2slo22 & t2slo23)\n    s[43] = t2shi21 ^ (~t2shi22 & t2shi23)\n    s[4] = t2slo2 ^ (~t2slo3 & t2slo4)\n    s[5] = t2shi2 ^ (~t2shi3 & t2shi4)\n    s[14] = t2slo7 ^ (~t2slo8 & t2slo9)\n    s[15] = t2shi7 ^ (~t2shi8 & t2shi9)\n    s[24] = t2slo12 ^ (~t2slo13 & t2slo14)\n    s[25] = t2shi12 ^ (~t2shi13 & t2shi14)\n    s[34] = t2slo17 ^ (~t2slo18 & t2slo19)\n    s[35] = t2shi17 ^ (~t2shi18 & t2shi19)\n    s[44] = t2slo22 ^ (~t2slo23 & t2slo24)\n    s[45] = t2shi22 ^ (~t2shi23 & t2shi24)\n    s[6] = t2slo3 ^ (~t2slo4 & t2slo0)\n    s[7] = t2shi3 ^ (~t2shi4 & t2shi0)\n    s[16] = t2slo8 ^ (~t2slo9 & t2slo5)\n    s[17] = t2shi8 ^ (~t2shi9 & t2shi5)\n    s[26] = t2slo13 ^ (~t2slo14 & t2slo10)\n    s[27] = t2shi13 ^ (~t2shi14 & t2shi10)\n    s[36] = t2slo18 ^ (~t2slo19 & t2slo15)\n    s[37] = t2shi18 ^ (~t2shi19 & t2shi15)\n    s[46] = t2slo23 ^ (~t2slo24 & t2slo20)\n    s[47] = t2shi23 ^ (~t2shi24 & t2shi20)\n    s[8] = t2slo4 ^ (~t2slo0 & t2slo1)\n    s[9] = t2shi4 ^ (~t2shi0 & t2shi1)\n    s[18] = t2slo9 ^ (~t2slo5 & t2slo6)\n    s[19] = t2shi9 ^ (~t2shi5 & t2shi6)\n    s[28] = t2slo14 ^ (~t2slo10 & t2slo11)\n    s[29] = t2shi14 ^ (~t2shi10 & t2shi11)\n    s[38] = t2slo19 ^ (~t2slo15 & t2slo16)\n    s[39] = t2shi19 ^ (~t2shi15 & t2shi16)\n    s[48] = t2slo24 ^ (~t2slo20 & t2slo21)\n    s[49] = t2shi24 ^ (~t2shi20 & t2shi21)\n\n    // iota\n    s[0] ^= P1600_ROUND_CONSTANTS[round * 2]\n    s[1] ^= P1600_ROUND_CONSTANTS[round * 2 + 1]\n  }\n}\n", "'use strict'\nvar Buffer = require('safe-buffer').Buffer\nvar keccakState = require('./keccak-state-unroll')\n\nfunction Keccak () {\n  // much faster than `new Array(50)`\n  this.state = [\n    0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0\n  ]\n\n  this.blockSize = null\n  this.count = 0\n  this.squeezing = false\n}\n\nKeccak.prototype.initialize = function (rate, capacity) {\n  for (var i = 0; i < 50; ++i) this.state[i] = 0\n  this.blockSize = rate / 8\n  this.count = 0\n  this.squeezing = false\n}\n\nKeccak.prototype.absorb = function (data) {\n  for (var i = 0; i < data.length; ++i) {\n    this.state[~~(this.count / 4)] ^= data[i] << (8 * (this.count % 4))\n    this.count += 1\n    if (this.count === this.blockSize) {\n      keccakState.p1600(this.state)\n      this.count = 0\n    }\n  }\n}\n\nKeccak.prototype.absorbLastFewBits = function (bits) {\n  this.state[~~(this.count / 4)] ^= bits << (8 * (this.count % 4))\n  if ((bits & 0x80) !== 0 && this.count === (this.blockSize - 1)) keccakState.p1600(this.state)\n  this.state[~~((this.blockSize - 1) / 4)] ^= 0x80 << (8 * ((this.blockSize - 1) % 4))\n  keccakState.p1600(this.state)\n  this.count = 0\n  this.squeezing = true\n}\n\nKeccak.prototype.squeeze = function (length) {\n  if (!this.squeezing) this.absorbLastFewBits(0x01)\n\n  var output = Buffer.alloc(length)\n  for (var i = 0; i < length; ++i) {\n    output[i] = (this.state[~~(this.count / 4)] >>> (8 * (this.count % 4))) & 0xff\n    this.count += 1\n    if (this.count === this.blockSize) {\n      keccakState.p1600(this.state)\n      this.count = 0\n    }\n  }\n\n  return output\n}\n\nKeccak.prototype.copy = function (dest) {\n  for (var i = 0; i < 50; ++i) dest.state[i] = this.state[i]\n  dest.blockSize = this.blockSize\n  dest.count = this.count\n  dest.squeezing = this.squeezing\n}\n\nmodule.exports = Keccak\n", "'use strict'\nmodule.exports = require('./lib/api')(require('./lib/keccak'))\n", "'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar createKeccakHash = require('keccak');\nvar secp256k1 = require('secp256k1');\nvar assert = require('assert');\nvar rlp = require('rlp');\nvar BN = require('bn.js');\nvar createHash = require('create-hash');\nvar Buffer = require('safe-buffer').Buffer;\nObject.assign(exports, require('ethjs-util'));\n\n/**\n * the max integer that this VM can handle (a ```BN```)\n * @var {BN} MAX_INTEGER\n */\nexports.MAX_INTEGER = new BN('ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff', 16);\n\n/**\n * 2^256 (a ```BN```)\n * @var {BN} TWO_POW256\n */\nexports.TWO_POW256 = new BN('10000000000000000000000000000000000000000000000000000000000000000', 16);\n\n/**\n * Keccak-256 hash of null (a ```String```)\n * @var {String} KECCAK256_NULL_S\n */\nexports.KECCAK256_NULL_S = 'c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470';\nexports.SHA3_NULL_S = exports.KECCAK256_NULL_S;\n\n/**\n * Keccak-256 hash of null (a ```Buffer```)\n * @var {Buffer} KECCAK256_NULL\n */\nexports.KECCAK256_NULL = Buffer.from(exports.KECCAK256_NULL_S, 'hex');\nexports.SHA3_NULL = exports.KECCAK256_NULL;\n\n/**\n * Keccak-256 of an RLP of an empty array (a ```String```)\n * @var {String} KECCAK256_RLP_ARRAY_S\n */\nexports.KECCAK256_RLP_ARRAY_S = '1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347';\nexports.SHA3_RLP_ARRAY_S = exports.KECCAK256_RLP_ARRAY_S;\n\n/**\n * Keccak-256 of an RLP of an empty array (a ```Buffer```)\n * @var {Buffer} KECCAK256_RLP_ARRAY\n */\nexports.KECCAK256_RLP_ARRAY = Buffer.from(exports.KECCAK256_RLP_ARRAY_S, 'hex');\nexports.SHA3_RLP_ARRAY = exports.KECCAK256_RLP_ARRAY;\n\n/**\n * Keccak-256 hash of the RLP of null  (a ```String```)\n * @var {String} KECCAK256_RLP_S\n */\nexports.KECCAK256_RLP_S = '56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421';\nexports.SHA3_RLP_S = exports.KECCAK256_RLP_S;\n\n/**\n * Keccak-256 hash of the RLP of null (a ```Buffer```)\n * @var {Buffer} KECCAK256_RLP\n */\nexports.KECCAK256_RLP = Buffer.from(exports.KECCAK256_RLP_S, 'hex');\nexports.SHA3_RLP = exports.KECCAK256_RLP;\n\n/**\n * [`BN`](https://github.com/indutny/bn.js)\n * @var {Function}\n */\nexports.BN = BN;\n\n/**\n * [`rlp`](https://github.com/ethereumjs/rlp)\n * @var {Function}\n */\nexports.rlp = rlp;\n\n/**\n * [`secp256k1`](https://github.com/cryptocoinjs/secp256k1-node/)\n * @var {Object}\n */\nexports.secp256k1 = secp256k1;\n\n/**\n * Returns a buffer filled with 0s\n * @method zeros\n * @param {Number} bytes  the number of bytes the buffer should be\n * @return {Buffer}\n */\nexports.zeros = function (bytes) {\n  return Buffer.allocUnsafe(bytes).fill(0);\n};\n\n/**\n  * Returns a zero address\n  * @method zeroAddress\n  * @return {String}\n  */\nexports.zeroAddress = function () {\n  var addressLength = 20;\n  var zeroAddress = exports.zeros(addressLength);\n  return exports.bufferToHex(zeroAddress);\n};\n\n/**\n * Left Pads an `Array` or `Buffer` with leading zeros till it has `length` bytes.\n * Or it truncates the beginning if it exceeds.\n * @method lsetLength\n * @param {Buffer|Array} msg the value to pad\n * @param {Number} length the number of bytes the output should be\n * @param {Boolean} [right=false] whether to start padding form the left or right\n * @return {Buffer|Array}\n */\nexports.setLengthLeft = exports.setLength = function (msg, length, right) {\n  var buf = exports.zeros(length);\n  msg = exports.toBuffer(msg);\n  if (right) {\n    if (msg.length < length) {\n      msg.copy(buf);\n      return buf;\n    }\n    return msg.slice(0, length);\n  } else {\n    if (msg.length < length) {\n      msg.copy(buf, length - msg.length);\n      return buf;\n    }\n    return msg.slice(-length);\n  }\n};\n\n/**\n * Right Pads an `Array` or `Buffer` with leading zeros till it has `length` bytes.\n * Or it truncates the beginning if it exceeds.\n * @param {Buffer|Array} msg the value to pad\n * @param {Number} length the number of bytes the output should be\n * @return {Buffer|Array}\n */\nexports.setLengthRight = function (msg, length) {\n  return exports.setLength(msg, length, true);\n};\n\n/**\n * Trims leading zeros from a `Buffer` or an `Array`\n * @param {Buffer|Array|String} a\n * @return {Buffer|Array|String}\n */\nexports.unpad = exports.stripZeros = function (a) {\n  a = exports.stripHexPrefix(a);\n  var first = a[0];\n  while (a.length > 0 && first.toString() === '0') {\n    a = a.slice(1);\n    first = a[0];\n  }\n  return a;\n};\n/**\n * Attempts to turn a value into a `Buffer`. As input it supports `Buffer`, `String`, `Number`, null/undefined, `BN` and other objects with a `toArray()` method.\n * @param {*} v the value\n */\nexports.toBuffer = function (v) {\n  if (!Buffer.isBuffer(v)) {\n    if (Array.isArray(v)) {\n      v = Buffer.from(v);\n    } else if (typeof v === 'string') {\n      if (exports.isHexString(v)) {\n        v = Buffer.from(exports.padToEven(exports.stripHexPrefix(v)), 'hex');\n      } else {\n        v = Buffer.from(v);\n      }\n    } else if (typeof v === 'number') {\n      v = exports.intToBuffer(v);\n    } else if (v === null || v === undefined) {\n      v = Buffer.allocUnsafe(0);\n    } else if (BN.isBN(v)) {\n      v = v.toArrayLike(Buffer);\n    } else if (v.toArray) {\n      // converts a BN to a Buffer\n      v = Buffer.from(v.toArray());\n    } else {\n      throw new Error('invalid type');\n    }\n  }\n  return v;\n};\n\n/**\n * Converts a `Buffer` to a `Number`\n * @param {Buffer} buf\n * @return {Number}\n * @throws If the input number exceeds 53 bits.\n */\nexports.bufferToInt = function (buf) {\n  return new BN(exports.toBuffer(buf)).toNumber();\n};\n\n/**\n * Converts a `Buffer` into a hex `String`\n * @param {Buffer} buf\n * @return {String}\n */\nexports.bufferToHex = function (buf) {\n  buf = exports.toBuffer(buf);\n  return '0x' + buf.toString('hex');\n};\n\n/**\n * Interprets a `Buffer` as a signed integer and returns a `BN`. Assumes 256-bit numbers.\n * @param {Buffer} num\n * @return {BN}\n */\nexports.fromSigned = function (num) {\n  return new BN(num).fromTwos(256);\n};\n\n/**\n * Converts a `BN` to an unsigned integer and returns it as a `Buffer`. Assumes 256-bit numbers.\n * @param {BN} num\n * @return {Buffer}\n */\nexports.toUnsigned = function (num) {\n  return Buffer.from(num.toTwos(256).toArray());\n};\n\n/**\n * Creates Keccak hash of the input\n * @param {Buffer|Array|String|Number} a the input data\n * @param {Number} [bits=256] the Keccak width\n * @return {Buffer}\n */\nexports.keccak = function (a, bits) {\n  a = exports.toBuffer(a);\n  if (!bits) bits = 256;\n\n  return createKeccakHash('keccak' + bits).update(a).digest();\n};\n\n/**\n * Creates Keccak-256 hash of the input, alias for keccak(a, 256)\n * @param {Buffer|Array|String|Number} a the input data\n * @return {Buffer}\n */\nexports.keccak256 = function (a) {\n  return exports.keccak(a);\n};\n\n/**\n * Creates SHA-3 (Keccak) hash of the input [OBSOLETE]\n * @param {Buffer|Array|String|Number} a the input data\n * @param {Number} [bits=256] the SHA-3 width\n * @return {Buffer}\n */\nexports.sha3 = exports.keccak;\n\n/**\n * Creates SHA256 hash of the input\n * @param {Buffer|Array|String|Number} a the input data\n * @return {Buffer}\n */\nexports.sha256 = function (a) {\n  a = exports.toBuffer(a);\n  return createHash('sha256').update(a).digest();\n};\n\n/**\n * Creates RIPEMD160 hash of the input\n * @param {Buffer|Array|String|Number} a the input data\n * @param {Boolean} padded whether it should be padded to 256 bits or not\n * @return {Buffer}\n */\nexports.ripemd160 = function (a, padded) {\n  a = exports.toBuffer(a);\n  var hash = createHash('rmd160').update(a).digest();\n  if (padded === true) {\n    return exports.setLength(hash, 32);\n  } else {\n    return hash;\n  }\n};\n\n/**\n * Creates SHA-3 hash of the RLP encoded version of the input\n * @param {Buffer|Array|String|Number} a the input data\n * @return {Buffer}\n */\nexports.rlphash = function (a) {\n  return exports.keccak(rlp.encode(a));\n};\n\n/**\n * Checks if the private key satisfies the rules of the curve secp256k1.\n * @param {Buffer} privateKey\n * @return {Boolean}\n */\nexports.isValidPrivate = function (privateKey) {\n  return secp256k1.privateKeyVerify(privateKey);\n};\n\n/**\n * Checks if the public key satisfies the rules of the curve secp256k1\n * and the requirements of Ethereum.\n * @param {Buffer} publicKey The two points of an uncompressed key, unless sanitize is enabled\n * @param {Boolean} [sanitize=false] Accept public keys in other formats\n * @return {Boolean}\n */\nexports.isValidPublic = function (publicKey, sanitize) {\n  if (publicKey.length === 64) {\n    // Convert to SEC1 for secp256k1\n    return secp256k1.publicKeyVerify(Buffer.concat([Buffer.from([4]), publicKey]));\n  }\n\n  if (!sanitize) {\n    return false;\n  }\n\n  return secp256k1.publicKeyVerify(publicKey);\n};\n\n/**\n * Returns the ethereum address of a given public key.\n * Accepts \"Ethereum public keys\" and SEC1 encoded keys.\n * @param {Buffer} pubKey The two points of an uncompressed key, unless sanitize is enabled\n * @param {Boolean} [sanitize=false] Accept public keys in other formats\n * @return {Buffer}\n */\nexports.pubToAddress = exports.publicToAddress = function (pubKey, sanitize) {\n  pubKey = exports.toBuffer(pubKey);\n  if (sanitize && pubKey.length !== 64) {\n    pubKey = secp256k1.publicKeyConvert(pubKey, false).slice(1);\n  }\n  assert(pubKey.length === 64);\n  // Only take the lower 160bits of the hash\n  return exports.keccak(pubKey).slice(-20);\n};\n\n/**\n * Returns the ethereum public key of a given private key\n * @param {Buffer} privateKey A private key must be 256 bits wide\n * @return {Buffer}\n */\nvar privateToPublic = exports.privateToPublic = function (privateKey) {\n  privateKey = exports.toBuffer(privateKey);\n  // skip the type flag and use the X, Y points\n  return secp256k1.publicKeyCreate(privateKey, false).slice(1);\n};\n\n/**\n * Converts a public key to the Ethereum format.\n * @param {Buffer} publicKey\n * @return {Buffer}\n */\nexports.importPublic = function (publicKey) {\n  publicKey = exports.toBuffer(publicKey);\n  if (publicKey.length !== 64) {\n    publicKey = secp256k1.publicKeyConvert(publicKey, false).slice(1);\n  }\n  return publicKey;\n};\n\n/**\n * ECDSA sign\n * @param {Buffer} msgHash\n * @param {Buffer} privateKey\n * @return {Object}\n */\nexports.ecsign = function (msgHash, privateKey) {\n  var sig = secp256k1.sign(msgHash, privateKey);\n\n  var ret = {};\n  ret.r = sig.signature.slice(0, 32);\n  ret.s = sig.signature.slice(32, 64);\n  ret.v = sig.recovery + 27;\n  return ret;\n};\n\n/**\n * Returns the keccak-256 hash of `message`, prefixed with the header used by the `eth_sign` RPC call.\n * The output of this function can be fed into `ecsign` to produce the same signature as the `eth_sign`\n * call for a given `message`, or fed to `ecrecover` along with a signature to recover the public key\n * used to produce the signature.\n * @param message\n * @returns {Buffer} hash\n */\nexports.hashPersonalMessage = function (message) {\n  var prefix = exports.toBuffer('\\x19Ethereum Signed Message:\\n' + message.length.toString());\n  return exports.keccak(Buffer.concat([prefix, message]));\n};\n\n/**\n * ECDSA public key recovery from signature\n * @param {Buffer} msgHash\n * @param {Number} v\n * @param {Buffer} r\n * @param {Buffer} s\n * @return {Buffer} publicKey\n */\nexports.ecrecover = function (msgHash, v, r, s) {\n  var signature = Buffer.concat([exports.setLength(r, 32), exports.setLength(s, 32)], 64);\n  var recovery = v - 27;\n  if (recovery !== 0 && recovery !== 1) {\n    throw new Error('Invalid signature v value');\n  }\n  var senderPubKey = secp256k1.recover(msgHash, signature, recovery);\n  return secp256k1.publicKeyConvert(senderPubKey, false).slice(1);\n};\n\n/**\n * Convert signature parameters into the format of `eth_sign` RPC method\n * @param {Number} v\n * @param {Buffer} r\n * @param {Buffer} s\n * @return {String} sig\n */\nexports.toRpcSig = function (v, r, s) {\n  // NOTE: with potential introduction of chainId this might need to be updated\n  if (v !== 27 && v !== 28) {\n    throw new Error('Invalid recovery id');\n  }\n\n  // geth (and the RPC eth_sign method) uses the 65 byte format used by Bitcoin\n  // FIXME: this might change in the future - https://github.com/ethereum/go-ethereum/issues/2053\n  return exports.bufferToHex(Buffer.concat([exports.setLengthLeft(r, 32), exports.setLengthLeft(s, 32), exports.toBuffer(v - 27)]));\n};\n\n/**\n * Convert signature format of the `eth_sign` RPC method to signature parameters\n * NOTE: all because of a bug in geth: https://github.com/ethereum/go-ethereum/issues/2053\n * @param {String} sig\n * @return {Object}\n */\nexports.fromRpcSig = function (sig) {\n  sig = exports.toBuffer(sig);\n\n  // NOTE: with potential introduction of chainId this might need to be updated\n  if (sig.length !== 65) {\n    throw new Error('Invalid signature length');\n  }\n\n  var v = sig[64];\n  // support both versions of `eth_sign` responses\n  if (v < 27) {\n    v += 27;\n  }\n\n  return {\n    v: v,\n    r: sig.slice(0, 32),\n    s: sig.slice(32, 64)\n  };\n};\n\n/**\n * Returns the ethereum address of a given private key\n * @param {Buffer} privateKey A private key must be 256 bits wide\n * @return {Buffer}\n */\nexports.privateToAddress = function (privateKey) {\n  return exports.publicToAddress(privateToPublic(privateKey));\n};\n\n/**\n * Checks if the address is a valid. Accepts checksummed addresses too\n * @param {String} address\n * @return {Boolean}\n */\nexports.isValidAddress = function (address) {\n  return (/^0x[0-9a-fA-F]{40}$/.test(address)\n  );\n};\n\n/**\n  * Checks if a given address is a zero address\n  * @method isZeroAddress\n  * @param {String} address\n  * @return {Boolean}\n  */\nexports.isZeroAddress = function (address) {\n  var zeroAddress = exports.zeroAddress();\n  return zeroAddress === exports.addHexPrefix(address);\n};\n\n/**\n * Returns a checksummed address\n * @param {String} address\n * @return {String}\n */\nexports.toChecksumAddress = function (address) {\n  address = exports.stripHexPrefix(address).toLowerCase();\n  var hash = exports.keccak(address).toString('hex');\n  var ret = '0x';\n\n  for (var i = 0; i < address.length; i++) {\n    if (parseInt(hash[i], 16) >= 8) {\n      ret += address[i].toUpperCase();\n    } else {\n      ret += address[i];\n    }\n  }\n\n  return ret;\n};\n\n/**\n * Checks if the address is a valid checksummed address\n * @param {Buffer} address\n * @return {Boolean}\n */\nexports.isValidChecksumAddress = function (address) {\n  return exports.isValidAddress(address) && exports.toChecksumAddress(address) === address;\n};\n\n/**\n * Generates an address of a newly created contract\n * @param {Buffer} from the address which is creating this new address\n * @param {Buffer} nonce the nonce of the from account\n * @return {Buffer}\n */\nexports.generateAddress = function (from, nonce) {\n  from = exports.toBuffer(from);\n  nonce = new BN(nonce);\n\n  if (nonce.isZero()) {\n    // in RLP we want to encode null in the case of zero nonce\n    // read the RLP documentation for an answer if you dare\n    nonce = null;\n  } else {\n    nonce = Buffer.from(nonce.toArray());\n  }\n\n  // Only take the lower 160bits of the hash\n  return exports.rlphash([from, nonce]).slice(-20);\n};\n\n/**\n * Returns true if the supplied address belongs to a precompiled account (Byzantium)\n * @param {Buffer|String} address\n * @return {Boolean}\n */\nexports.isPrecompiled = function (address) {\n  var a = exports.unpad(address);\n  return a.length === 1 && a[0] >= 1 && a[0] <= 8;\n};\n\n/**\n * Adds \"0x\" to a given `String` if it does not already start with \"0x\"\n * @param {String} str\n * @return {String}\n */\nexports.addHexPrefix = function (str) {\n  if (typeof str !== 'string') {\n    return str;\n  }\n\n  return exports.isHexPrefixed(str) ? str : '0x' + str;\n};\n\n/**\n * Validate ECDSA signature\n * @method isValidSignature\n * @param {Buffer} v\n * @param {Buffer} r\n * @param {Buffer} s\n * @param {Boolean} [homestead=true]\n * @return {Boolean}\n */\n\nexports.isValidSignature = function (v, r, s, homestead) {\n  var SECP256K1_N_DIV_2 = new BN('7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0', 16);\n  var SECP256K1_N = new BN('fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141', 16);\n\n  if (r.length !== 32 || s.length !== 32) {\n    return false;\n  }\n\n  if (v !== 27 && v !== 28) {\n    return false;\n  }\n\n  r = new BN(r);\n  s = new BN(s);\n\n  if (r.isZero() || r.gt(SECP256K1_N) || s.isZero() || s.gt(SECP256K1_N)) {\n    return false;\n  }\n\n  if (homestead === false && new BN(s).cmp(SECP256K1_N_DIV_2) === 1) {\n    return false;\n  }\n\n  return true;\n};\n\n/**\n * Converts a `Buffer` or `Array` to JSON\n * @param {Buffer|Array} ba\n * @return {Array|String|null}\n */\nexports.baToJSON = function (ba) {\n  if (Buffer.isBuffer(ba)) {\n    return '0x' + ba.toString('hex');\n  } else if (ba instanceof Array) {\n    var array = [];\n    for (var i = 0; i < ba.length; i++) {\n      array.push(exports.baToJSON(ba[i]));\n    }\n    return array;\n  }\n};\n\n/**\n * Defines properties on a `Object`. It make the assumption that underlying data is binary.\n * @param {Object} self the `Object` to define properties on\n * @param {Array} fields an array fields to define. Fields can contain:\n * * `name` - the name of the properties\n * * `length` - the number of bytes the field can have\n * * `allowLess` - if the field can be less than the length\n * * `allowEmpty`\n * @param {*} data data to be validated against the definitions\n */\nexports.defineProperties = function (self, fields, data) {\n  self.raw = [];\n  self._fields = [];\n\n  // attach the `toJSON`\n  self.toJSON = function (label) {\n    if (label) {\n      var obj = {};\n      self._fields.forEach(function (field) {\n        obj[field] = '0x' + self[field].toString('hex');\n      });\n      return obj;\n    }\n    return exports.baToJSON(this.raw);\n  };\n\n  self.serialize = function serialize() {\n    return rlp.encode(self.raw);\n  };\n\n  fields.forEach(function (field, i) {\n    self._fields.push(field.name);\n    function getter() {\n      return self.raw[i];\n    }\n    function setter(v) {\n      v = exports.toBuffer(v);\n\n      if (v.toString('hex') === '00' && !field.allowZero) {\n        v = Buffer.allocUnsafe(0);\n      }\n\n      if (field.allowLess && field.length) {\n        v = exports.stripZeros(v);\n        assert(field.length >= v.length, 'The field ' + field.name + ' must not have more ' + field.length + ' bytes');\n      } else if (!(field.allowZero && v.length === 0) && field.length) {\n        assert(field.length === v.length, 'The field ' + field.name + ' must have byte length of ' + field.length);\n      }\n\n      self.raw[i] = v;\n    }\n\n    Object.defineProperty(self, field.name, {\n      enumerable: true,\n      configurable: true,\n      get: getter,\n      set: setter\n    });\n\n    if (field.default) {\n      self[field.name] = field.default;\n    }\n\n    // attach alias\n    if (field.alias) {\n      Object.defineProperty(self, field.alias, {\n        enumerable: false,\n        configurable: true,\n        set: setter,\n        get: getter\n      });\n    }\n  });\n\n  // if the constuctor is passed data\n  if (data) {\n    if (typeof data === 'string') {\n      data = Buffer.from(exports.stripHexPrefix(data), 'hex');\n    }\n\n    if (Buffer.isBuffer(data)) {\n      data = rlp.decode(data);\n    }\n\n    if (Array.isArray(data)) {\n      if (data.length > self._fields.length) {\n        throw new Error('wrong number of fields in data');\n      }\n\n      // make sure all the items are buffers\n      data.forEach(function (d, i) {\n        self[self._fields[i]] = exports.toBuffer(d);\n      });\n    } else if ((typeof data === 'undefined' ? 'undefined' : _typeof(data)) === 'object') {\n      var keys = Object.keys(data);\n      fields.forEach(function (field) {\n        if (keys.indexOf(field.name) !== -1) self[field.name] = data[field.name];\n        if (keys.indexOf(field.alias) !== -1) self[field.alias] = data[field.alias];\n      });\n    } else {\n      throw new Error('invalid data');\n    }\n  }\n};", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// A temporary value used to identify if the loop should be broken.\n// See #1064, #1293\nexports.default = {};\nmodule.exports = exports[\"default\"];", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = once;\nfunction once(fn) {\n    return function () {\n        if (fn === null) return;\n        var callFn = fn;\n        fn = null;\n        callFn.apply(this, arguments);\n    };\n}\nmodule.exports = exports[\"default\"];", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function (coll) {\n    return iteratorSymbol && coll[iteratorSymbol] && coll[iteratorSymbol]();\n};\n\nvar iteratorSymbol = typeof Symbol === 'function' && Symbol.iterator;\n\nmodule.exports = exports['default'];", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = iterator;\n\nvar _isArrayLike = require('lodash/isArrayLike');\n\nvar _isArrayLike2 = _interopRequireDefault(_isArrayLike);\n\nvar _getIterator = require('./getIterator');\n\nvar _getIterator2 = _interopRequireDefault(_getIterator);\n\nvar _keys = require('lodash/keys');\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction createArrayIterator(coll) {\n    var i = -1;\n    var len = coll.length;\n    return function next() {\n        return ++i < len ? { value: coll[i], key: i } : null;\n    };\n}\n\nfunction createES2015Iterator(iterator) {\n    var i = -1;\n    return function next() {\n        var item = iterator.next();\n        if (item.done) return null;\n        i++;\n        return { value: item.value, key: i };\n    };\n}\n\nfunction createObjectIterator(obj) {\n    var okeys = (0, _keys2.default)(obj);\n    var i = -1;\n    var len = okeys.length;\n    return function next() {\n        var key = okeys[++i];\n        return i < len ? { value: obj[key], key: key } : null;\n    };\n}\n\nfunction iterator(coll) {\n    if ((0, _isArrayLike2.default)(coll)) {\n        return createArrayIterator(coll);\n    }\n\n    var iterator = (0, _getIterator2.default)(coll);\n    return iterator ? createES2015Iterator(iterator) : createObjectIterator(coll);\n}\nmodule.exports = exports['default'];", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = onlyOnce;\nfunction onlyOnce(fn) {\n    return function () {\n        if (fn === null) throw new Error(\"Callback was already called.\");\n        var callFn = fn;\n        fn = null;\n        callFn.apply(this, arguments);\n    };\n}\nmodule.exports = exports[\"default\"];", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _eachOfLimit;\n\nvar _noop = require('lodash/noop');\n\nvar _noop2 = _interopRequireDefault(_noop);\n\nvar _once = require('./once');\n\nvar _once2 = _interopRequireDefault(_once);\n\nvar _iterator = require('./iterator');\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _onlyOnce = require('./onlyOnce');\n\nvar _onlyOnce2 = _interopRequireDefault(_onlyOnce);\n\nvar _breakLoop = require('./breakLoop');\n\nvar _breakLoop2 = _interopRequireDefault(_breakLoop);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _eachOfLimit(limit) {\n    return function (obj, iteratee, callback) {\n        callback = (0, _once2.default)(callback || _noop2.default);\n        if (limit <= 0 || !obj) {\n            return callback(null);\n        }\n        var nextElem = (0, _iterator2.default)(obj);\n        var done = false;\n        var running = 0;\n        var looping = false;\n\n        function iterateeCallback(err, value) {\n            running -= 1;\n            if (err) {\n                done = true;\n                callback(err);\n            } else if (value === _breakLoop2.default || done && running <= 0) {\n                done = true;\n                return callback(null);\n            } else if (!looping) {\n                replenish();\n            }\n        }\n\n        function replenish() {\n            looping = true;\n            while (running < limit && !done) {\n                var elem = nextElem();\n                if (elem === null) {\n                    done = true;\n                    if (running <= 0) {\n                        callback(null);\n                    }\n                    return;\n                }\n                running += 1;\n                iteratee(elem.value, elem.key, (0, _onlyOnce2.default)(iterateeCallback));\n            }\n            looping = false;\n        }\n\n        replenish();\n    };\n}\nmodule.exports = exports['default'];", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = slice;\nfunction slice(arrayLike, start) {\n    start = start | 0;\n    var newLen = Math.max(arrayLike.length - start, 0);\n    var newArr = Array(newLen);\n    for (var idx = 0; idx < newLen; idx++) {\n        newArr[idx] = arrayLike[start + idx];\n    }\n    return newArr;\n}\nmodule.exports = exports[\"default\"];", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function (fn) {\n    return function () /*...args, callback*/{\n        var args = (0, _slice2.default)(arguments);\n        var callback = args.pop();\n        fn.call(this, args, callback);\n    };\n};\n\nvar _slice = require('./slice');\n\nvar _slice2 = _interopRequireDefault(_slice);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = exports['default'];", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.hasNextTick = exports.hasSetImmediate = undefined;\nexports.fallback = fallback;\nexports.wrap = wrap;\n\nvar _slice = require('./slice');\n\nvar _slice2 = _interopRequireDefault(_slice);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar hasSetImmediate = exports.hasSetImmediate = typeof setImmediate === 'function' && setImmediate;\nvar hasNextTick = exports.hasNextTick = typeof process === 'object' && typeof process.nextTick === 'function';\n\nfunction fallback(fn) {\n    setTimeout(fn, 0);\n}\n\nfunction wrap(defer) {\n    return function (fn /*, ...args*/) {\n        var args = (0, _slice2.default)(arguments, 1);\n        defer(function () {\n            fn.apply(null, args);\n        });\n    };\n}\n\nvar _defer;\n\nif (hasSetImmediate) {\n    _defer = setImmediate;\n} else if (hasNextTick) {\n    _defer = process.nextTick;\n} else {\n    _defer = fallback;\n}\n\nexports.default = wrap(_defer);", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = asyncify;\n\nvar _isObject = require('lodash/isObject');\n\nvar _isObject2 = _interopRequireDefault(_isObject);\n\nvar _initialParams = require('./internal/initialParams');\n\nvar _initialParams2 = _interopRequireDefault(_initialParams);\n\nvar _setImmediate = require('./internal/setImmediate');\n\nvar _setImmediate2 = _interopRequireDefault(_setImmediate);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Take a sync function and make it async, passing its return value to a\n * callback. This is useful for plugging sync functions into a waterfall,\n * series, or other async functions. Any arguments passed to the generated\n * function will be passed to the wrapped function (except for the final\n * callback argument). Errors thrown will be passed to the callback.\n *\n * If the function passed to `asyncify` returns a Promise, that promises's\n * resolved/rejected state will be used to call the callback, rather than simply\n * the synchronous return value.\n *\n * This also means you can asyncify ES2017 `async` functions.\n *\n * @name asyncify\n * @static\n * @memberOf module:Utils\n * @method\n * @alias wrapSync\n * @category Util\n * @param {Function} func - The synchronous function, or Promise-returning\n * function to convert to an {@link AsyncFunction}.\n * @returns {AsyncFunction} An asynchronous wrapper of the `func`. To be\n * invoked with `(args..., callback)`.\n * @example\n *\n * // passing a regular synchronous function\n * async.waterfall([\n *     async.apply(fs.readFile, filename, \"utf8\"),\n *     async.asyncify(JSON.parse),\n *     function (data, next) {\n *         // data is the result of parsing the text.\n *         // If there was a parsing error, it would have been caught.\n *     }\n * ], callback);\n *\n * // passing a function returning a promise\n * async.waterfall([\n *     async.apply(fs.readFile, filename, \"utf8\"),\n *     async.asyncify(function (contents) {\n *         return db.model.create(contents);\n *     }),\n *     function (model, next) {\n *         // `model` is the instantiated model object.\n *         // If there was an error, this function would be skipped.\n *     }\n * ], callback);\n *\n * // es2017 example, though `asyncify` is not needed if your JS environment\n * // supports async functions out of the box\n * var q = async.queue(async.asyncify(async function(file) {\n *     var intermediateStep = await processFile(file);\n *     return await somePromise(intermediateStep)\n * }));\n *\n * q.push(files);\n */\nfunction asyncify(func) {\n    return (0, _initialParams2.default)(function (args, callback) {\n        var result;\n        try {\n            result = func.apply(this, args);\n        } catch (e) {\n            return callback(e);\n        }\n        // if result is Promise object\n        if ((0, _isObject2.default)(result) && typeof result.then === 'function') {\n            result.then(function (value) {\n                invokeCallback(callback, null, value);\n            }, function (err) {\n                invokeCallback(callback, err.message ? err : new Error(err));\n            });\n        } else {\n            callback(null, result);\n        }\n    });\n}\n\nfunction invokeCallback(callback, error, value) {\n    try {\n        callback(error, value);\n    } catch (e) {\n        (0, _setImmediate2.default)(rethrow, e);\n    }\n}\n\nfunction rethrow(error) {\n    throw error;\n}\nmodule.exports = exports['default'];", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.isAsync = undefined;\n\nvar _asyncify = require('../asyncify');\n\nvar _asyncify2 = _interopRequireDefault(_asyncify);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar supportsSymbol = typeof Symbol === 'function';\n\nfunction isAsync(fn) {\n    return supportsSymbol && fn[Symbol.toStringTag] === 'AsyncFunction';\n}\n\nfunction wrapAsync(asyncFn) {\n    return isAsync(asyncFn) ? (0, _asyncify2.default)(asyncFn) : asyncFn;\n}\n\nexports.default = wrapAsync;\nexports.isAsync = isAsync;", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = eachOfLimit;\n\nvar _eachOfLimit2 = require('./internal/eachOfLimit');\n\nvar _eachOfLimit3 = _interopRequireDefault(_eachOfLimit2);\n\nvar _wrapAsync = require('./internal/wrapAsync');\n\nvar _wrapAsync2 = _interopRequireDefault(_wrapAsync);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * The same as [`eachOf`]{@link module:Collections.eachOf} but runs a maximum of `limit` async operations at a\n * time.\n *\n * @name eachOfLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.eachOf]{@link module:Collections.eachOf}\n * @alias forEachOfLimit\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - An async function to apply to each\n * item in `coll`. The `key` is the item's key, or index in the case of an\n * array.\n * Invoked with (item, key, callback).\n * @param {Function} [callback] - A callback which is called when all\n * `iteratee` functions have finished, or an error occurs. Invoked with (err).\n */\nfunction eachOfLimit(coll, limit, iteratee, callback) {\n  (0, _eachOfLimit3.default)(limit)(coll, (0, _wrapAsync2.default)(iteratee), callback);\n}\nmodule.exports = exports['default'];", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = doLimit;\nfunction doLimit(fn, limit) {\n    return function (iterable, iteratee, callback) {\n        return fn(iterable, limit, iteratee, callback);\n    };\n}\nmodule.exports = exports[\"default\"];", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function (coll, iteratee, callback) {\n    var eachOfImplementation = (0, _isArrayLike2.default)(coll) ? eachOfArrayLike : eachOfGeneric;\n    eachOfImplementation(coll, (0, _wrapAsync2.default)(iteratee), callback);\n};\n\nvar _isArrayLike = require('lodash/isArrayLike');\n\nvar _isArrayLike2 = _interopRequireDefault(_isArrayLike);\n\nvar _breakLoop = require('./internal/breakLoop');\n\nvar _breakLoop2 = _interopRequireDefault(_breakLoop);\n\nvar _eachOfLimit = require('./eachOfLimit');\n\nvar _eachOfLimit2 = _interopRequireDefault(_eachOfLimit);\n\nvar _doLimit = require('./internal/doLimit');\n\nvar _doLimit2 = _interopRequireDefault(_doLimit);\n\nvar _noop = require('lodash/noop');\n\nvar _noop2 = _interopRequireDefault(_noop);\n\nvar _once = require('./internal/once');\n\nvar _once2 = _interopRequireDefault(_once);\n\nvar _onlyOnce = require('./internal/onlyOnce');\n\nvar _onlyOnce2 = _interopRequireDefault(_onlyOnce);\n\nvar _wrapAsync = require('./internal/wrapAsync');\n\nvar _wrapAsync2 = _interopRequireDefault(_wrapAsync);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// eachOf implementation optimized for array-likes\nfunction eachOfArrayLike(coll, iteratee, callback) {\n    callback = (0, _once2.default)(callback || _noop2.default);\n    var index = 0,\n        completed = 0,\n        length = coll.length;\n    if (length === 0) {\n        callback(null);\n    }\n\n    function iteratorCallback(err, value) {\n        if (err) {\n            callback(err);\n        } else if (++completed === length || value === _breakLoop2.default) {\n            callback(null);\n        }\n    }\n\n    for (; index < length; index++) {\n        iteratee(coll[index], index, (0, _onlyOnce2.default)(iteratorCallback));\n    }\n}\n\n// a generic version of eachOf which can handle array, object, and iterator cases.\nvar eachOfGeneric = (0, _doLimit2.default)(_eachOfLimit2.default, Infinity);\n\n/**\n * Like [`each`]{@link module:Collections.each}, except that it passes the key (or index) as the second argument\n * to the iteratee.\n *\n * @name eachOf\n * @static\n * @memberOf module:Collections\n * @method\n * @alias forEachOf\n * @category Collection\n * @see [async.each]{@link module:Collections.each}\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - A function to apply to each\n * item in `coll`.\n * The `key` is the item's key, or index in the case of an array.\n * Invoked with (item, key, callback).\n * @param {Function} [callback] - A callback which is called when all\n * `iteratee` functions have finished, or an error occurs. Invoked with (err).\n * @example\n *\n * var obj = {dev: \"/dev.json\", test: \"/test.json\", prod: \"/prod.json\"};\n * var configs = {};\n *\n * async.forEachOf(obj, function (value, key, callback) {\n *     fs.readFile(__dirname + value, \"utf8\", function (err, data) {\n *         if (err) return callback(err);\n *         try {\n *             configs[key] = JSON.parse(data);\n *         } catch (e) {\n *             return callback(e);\n *         }\n *         callback();\n *     });\n * }, function (err) {\n *     if (err) console.error(err.message);\n *     // configs is now a map of JSON data\n *     doSomethingWith(configs);\n * });\n */\nmodule.exports = exports['default'];", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = doParallel;\n\nvar _eachOf = require('../eachOf');\n\nvar _eachOf2 = _interopRequireDefault(_eachOf);\n\nvar _wrapAsync = require('./wrapAsync');\n\nvar _wrapAsync2 = _interopRequireDefault(_wrapAsync);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction doParallel(fn) {\n    return function (obj, iteratee, callback) {\n        return fn(_eachOf2.default, obj, (0, _wrapAsync2.default)(iteratee), callback);\n    };\n}\nmodule.exports = exports['default'];", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _asyncMap;\n\nvar _noop = require('lodash/noop');\n\nvar _noop2 = _interopRequireDefault(_noop);\n\nvar _wrapAsync = require('./wrapAsync');\n\nvar _wrapAsync2 = _interopRequireDefault(_wrapAsync);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncMap(eachfn, arr, iteratee, callback) {\n    callback = callback || _noop2.default;\n    arr = arr || [];\n    var results = [];\n    var counter = 0;\n    var _iteratee = (0, _wrapAsync2.default)(iteratee);\n\n    eachfn(arr, function (value, _, callback) {\n        var index = counter++;\n        _iteratee(value, function (err, v) {\n            results[index] = v;\n            callback(err);\n        });\n    }, function (err) {\n        callback(err, results);\n    });\n}\nmodule.exports = exports['default'];", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _doParallel = require('./internal/doParallel');\n\nvar _doParallel2 = _interopRequireDefault(_doParallel);\n\nvar _map = require('./internal/map');\n\nvar _map2 = _interopRequireDefault(_map);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Produces a new collection of values by mapping each value in `coll` through\n * the `iteratee` function. The `iteratee` is called with an item from `coll`\n * and a callback for when it has finished processing. Each of these callback\n * takes 2 arguments: an `error`, and the transformed item from `coll`. If\n * `iteratee` passes an error to its callback, the main `callback` (for the\n * `map` function) is immediately called with the error.\n *\n * Note, that since this function applies the `iteratee` to each item in\n * parallel, there is no guarantee that the `iteratee` functions will complete\n * in order. However, the results array will be in the same order as the\n * original `coll`.\n *\n * If `map` is passed an Object, the results will be an Array.  The results\n * will roughly be in the order of the original Objects' keys (but this can\n * vary across JavaScript engines).\n *\n * @name map\n * @static\n * @memberOf module:Collections\n * @method\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The iteratee should complete with the transformed item.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. Results is an Array of the\n * transformed items from the `coll`. Invoked with (err, results).\n * @example\n *\n * async.map(['file1','file2','file3'], fs.stat, function(err, results) {\n *     // results is now an array of stats for each file\n * });\n */\nexports.default = (0, _doParallel2.default)(_map2.default);\nmodule.exports = exports['default'];", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _withoutIndex;\nfunction _withoutIndex(iteratee) {\n    return function (value, index, callback) {\n        return iteratee(value, callback);\n    };\n}\nmodule.exports = exports[\"default\"];", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = eachLimit;\n\nvar _eachOfLimit = require('./internal/eachOfLimit');\n\nvar _eachOfLimit2 = _interopRequireDefault(_eachOfLimit);\n\nvar _withoutIndex = require('./internal/withoutIndex');\n\nvar _withoutIndex2 = _interopRequireDefault(_withoutIndex);\n\nvar _wrapAsync = require('./internal/wrapAsync');\n\nvar _wrapAsync2 = _interopRequireDefault(_wrapAsync);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * The same as [`each`]{@link module:Collections.each} but runs a maximum of `limit` async operations at a time.\n *\n * @name eachLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.each]{@link module:Collections.each}\n * @alias forEachLimit\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The array index is not passed to the iteratee.\n * If you need the index, use `eachOfLimit`.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called when all\n * `iteratee` functions have finished, or an error occurs. Invoked with (err).\n */\nfunction eachLimit(coll, limit, iteratee, callback) {\n  (0, _eachOfLimit2.default)(limit)(coll, (0, _withoutIndex2.default)((0, _wrapAsync2.default)(iteratee)), callback);\n}\nmodule.exports = exports['default'];", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _eachLimit = require('./eachLimit');\n\nvar _eachLimit2 = _interopRequireDefault(_eachLimit);\n\nvar _doLimit = require('./internal/doLimit');\n\nvar _doLimit2 = _interopRequireDefault(_doLimit);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * The same as [`each`]{@link module:Collections.each} but runs only a single async operation at a time.\n *\n * @name eachSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.each]{@link module:Collections.each}\n * @alias forEachSeries\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async function to apply to each\n * item in `coll`.\n * The array index is not passed to the iteratee.\n * If you need the index, use `eachOfSeries`.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called when all\n * `iteratee` functions have finished, or an error occurs. Invoked with (err).\n */\nexports.default = (0, _doLimit2.default)(_eachLimit2.default, 1);\nmodule.exports = exports['default'];", "const EventEmitter = require('events').EventEmitter\nconst inherits = require('util').inherits\n\nmodule.exports = Stoplight\n\n\ninherits(Stoplight, EventEmitter)\n\nfunction Stoplight(){\n  const self = this\n  EventEmitter.call(self)\n  self.isLocked = true\n}\n\nStoplight.prototype.go = function(){\n  const self = this\n  self.isLocked = false\n  self.emit('unlock')\n}\n\nStoplight.prototype.stop = function(){\n  const self = this\n  self.isLocked = true\n  self.emit('lock')\n}\n\nStoplight.prototype.await = function(fn){\n  const self = this\n  if (self.isLocked) {\n    self.once('unlock', fn)\n  } else {\n    setTimeout(fn)\n  }\n}", "const stringify = require('json-stable-stringify')\n\nmodule.exports = {\n  cacheIdentifierForPayload: cacheIdentifierForPayload,\n  canCache: canCache,\n  blockTagForPayload: blockTagForPayload,\n  paramsWithoutBlockTag: paramsWithoutBlockTag,\n  blockTagParamIndex: blockTagParamIndex,\n  cacheTypeForPayload: cacheTypeForPayload,\n}\n\nfunction cacheIdentifierForPayload(payload, opts = {}){\n  if (!canCache(payload)) return null\n  const { includeBlockRef } = opts\n  const params = includeBlockRef ? payload.params : paramsWithoutBlockTag(payload)\n  return payload.method + ':' + stringify(params)\n}\n\nfunction canCache(payload){\n  return cacheTypeForPayload(payload) !== 'never'\n}\n\nfunction blockTagForPayload(payload){\n  var index = blockTagParamIndex(payload);\n\n  // Block tag param not passed.\n  if (index >= payload.params.length) {\n    return null;\n  }\n\n  return payload.params[index];\n}\n\nfunction paramsWithoutBlockTag(payload){\n  var index = blockTagParamIndex(payload);\n\n  // Block tag param not passed.\n  if (index >= payload.params.length) {\n    return payload.params;\n  }\n\n  // eth_getBlockByNumber has the block tag first, then the optional includeTx? param\n  if (payload.method === 'eth_getBlockByNumber') {\n    return payload.params.slice(1);\n  }\n\n  return payload.params.slice(0,index);\n}\n\nfunction blockTagParamIndex(payload){\n  switch(payload.method) {\n    // blockTag is third param\n    case 'eth_getStorageAt':\n      return 2\n    // blockTag is second param\n    case 'eth_getBalance':\n    case 'eth_getCode':\n    case 'eth_getTransactionCount':\n    case 'eth_call':\n    case 'eth_estimateGas':\n      return 1\n    // blockTag is first param\n    case 'eth_getBlockByNumber':\n      return 0\n    // there is no blockTag\n    default:\n      return undefined\n  }\n}\n\nfunction cacheTypeForPayload(payload) {\n  switch (payload.method) {\n    // cache permanently\n    case 'web3_clientVersion':\n    case 'web3_sha3':\n    case 'eth_protocolVersion':\n    case 'eth_getBlockTransactionCountByHash':\n    case 'eth_getUncleCountByBlockHash':\n    case 'eth_getCode':\n    case 'eth_getBlockByHash':\n    case 'eth_getTransactionByHash':\n    case 'eth_getTransactionByBlockHashAndIndex':\n    case 'eth_getTransactionReceipt':\n    case 'eth_getUncleByBlockHashAndIndex':\n    case 'eth_getCompilers':\n    case 'eth_compileLLL':\n    case 'eth_compileSolidity':\n    case 'eth_compileSerpent':\n    case 'shh_version':\n      return 'perma'\n\n    // cache until fork\n    case 'eth_getBlockByNumber':\n    case 'eth_getBlockTransactionCountByNumber':\n    case 'eth_getUncleCountByBlockNumber':\n    case 'eth_getTransactionByBlockNumberAndIndex':\n    case 'eth_getUncleByBlockNumberAndIndex':\n      return 'fork'\n\n    // cache for block\n    case 'eth_gasPrice':\n    case 'eth_getBalance':\n    case 'eth_getStorageAt':\n    case 'eth_getTransactionCount':\n    case 'eth_call':\n    case 'eth_estimateGas':\n    case 'eth_getFilterLogs':\n    case 'eth_getLogs':\n    case 'eth_blockNumber':\n      return 'block'\n\n    // never cache\n    case 'net_version':\n    case 'net_peerCount':\n    case 'net_listening':\n    case 'eth_syncing':\n    case 'eth_sign':\n    case 'eth_coinbase':\n    case 'eth_mining':\n    case 'eth_hashrate':\n    case 'eth_accounts':\n    case 'eth_sendTransaction':\n    case 'eth_sendRawTransaction':\n    case 'eth_newFilter':\n    case 'eth_newBlockFilter':\n    case 'eth_newPendingTransactionFilter':\n    case 'eth_uninstallFilter':\n    case 'eth_getFilterChanges':\n    case 'eth_getWork':\n    case 'eth_submitWork':\n    case 'eth_submitHashrate':\n    case 'db_putString':\n    case 'db_getString':\n    case 'db_putHex':\n    case 'db_getHex':\n    case 'shh_post':\n    case 'shh_newIdentity':\n    case 'shh_hasIdentity':\n    case 'shh_newGroup':\n    case 'shh_addToGroup':\n    case 'shh_newFilter':\n    case 'shh_uninstallFilter':\n    case 'shh_getFilterChanges':\n    case 'shh_getMessages':\n      return 'never'\n  }\n}\n", "module.exports = createRandomId\n\n\nfunction createRandomId () {\n  // random id\n  return Math.floor(Number.MAX_SAFE_INTEGER * Math.random())\n}", "const getRandomId = require('./random-id.js')\nconst extend = require('xtend')\n\nmodule.exports = createPayload\n\n\nfunction createPayload(data){\n  return extend({\n    // defaults\n    id: getRandomId(),\n    jsonrpc: '2.0',\n    params: [],\n    // user-specified\n  }, data)\n}\n", "const EventEmitter = require('events').EventEmitter\nconst inherits = require('util').inherits\nconst ethUtil = require('ethereumjs-util')\nconst EthBlockTracker = require('eth-block-tracker')\nconst map = require('async/map')\nconst eachSeries = require('async/eachSeries')\nconst Stoplight = require('./util/stoplight.js')\nconst cacheUtils = require('./util/rpc-cache-utils.js')\nconst createPayload = require('./util/create-payload.js')\nconst noop = function(){}\n\nmodule.exports = Web3ProviderEngine\n\n\ninherits(Web3ProviderEngine, EventEmitter)\n\nfunction Web3ProviderEngine(opts) {\n  const self = this\n  EventEmitter.call(self)\n  self.setMaxListeners(30)\n  // parse options\n  opts = opts || {}\n\n  // block polling\n  const directProvider = { sendAsync: self._handleAsync.bind(self) }\n  const blockTrackerProvider = opts.blockTrackerProvider || directProvider\n  self._blockTracker = opts.blockTracker || new EthBlockTracker({\n    provider: blockTrackerProvider,\n    pollingInterval: opts.pollingInterval || 4000,\n    setSkipCacheFlag: true,\n  })\n\n  // set initialization blocker\n  self._ready = new Stoplight()\n\n  // local state\n  self.currentBlock = null\n  self._providers = []\n}\n\n// public\n\nWeb3ProviderEngine.prototype.start = function(cb = noop){\n  const self = this\n\n  // trigger start\n  self._ready.go()\n\n  // on new block, request block body and emit as events\n  self._blockTracker.on('latest', (blockNumber) => {\n    // get block body\n    self._getBlockByNumberWithRetry(blockNumber, (err, block) => {\n      if (err) {\n        this.emit('error', err)\n        return\n      }\n      if (!block) {\n        console.log(block)\n        this.emit('error', new Error(\"Could not find block\"))\n        return\n      }\n      const bufferBlock = toBufferBlock(block)\n      // set current + emit \"block\" event\n      self._setCurrentBlock(bufferBlock)\n      // emit other events\n      self.emit('rawBlock', block)\n      self.emit('latest', block)\n    })\n  })\n\n  // forward other events\n  self._blockTracker.on('sync', self.emit.bind(self, 'sync'))\n  self._blockTracker.on('error', self.emit.bind(self, 'error'))\n\n  // update state\n  self._running = true\n  // signal that we started\n  self.emit('start')\n}\n\nWeb3ProviderEngine.prototype.stop = function(){\n  const self = this\n  // stop block polling by removing event listeners\n  self._blockTracker.removeAllListeners()\n  // update state\n  self._running = false\n  // signal that we stopped\n  self.emit('stop')\n}\n\nWeb3ProviderEngine.prototype.isRunning = function(){\n  const self = this\n  return self._running\n}\n\nWeb3ProviderEngine.prototype.addProvider = function(source, index){\n  const self = this\n  if (typeof index === 'number') {\n    self._providers.splice(index, 0, source)\n  } else {\n    self._providers.push(source)\n  }\n  source.setEngine(this)\n}\n\nWeb3ProviderEngine.prototype.removeProvider = function(source){\n  const self = this\n  const index = self._providers.indexOf(source)\n  if (index < 0) throw new Error('Provider not found.')\n  self._providers.splice(index, 1)\n}\n\nWeb3ProviderEngine.prototype.send = function(payload){\n  throw new Error('Web3ProviderEngine does not support synchronous requests.')\n}\n\nWeb3ProviderEngine.prototype.sendAsync = function(payload, cb){\n  const self = this\n  self._ready.await(function(){\n\n    if (Array.isArray(payload)) {\n      // handle batch\n      map(payload, self._handleAsync.bind(self), cb)\n    } else {\n      // handle single\n      self._handleAsync(payload, cb)\n    }\n\n  })\n}\n\n// private\n\nWeb3ProviderEngine.prototype._getBlockByNumberWithRetry = function(blockNumber, cb) {\n  const self = this\n\n  let retriesRemaining = 5\n\n  attemptRequest()\n  return\n\n  function attemptRequest () {\n    self._getBlockByNumber(blockNumber, afterRequest)\n  }\n\n  function afterRequest (err, block) {\n    // anomalous error occurred\n    if (err) return cb(err)\n    // block not ready yet\n    if (!block) {\n      if (retriesRemaining > 0) {\n        // wait 1s then try again\n        retriesRemaining--\n        setTimeout(function () {\n          attemptRequest()\n        }, 1000)\n        return\n      } else {\n        // give up, return a null block\n        cb(null, null)\n        return\n      }\n    }\n    // otherwise return result\n    cb(null, block)\n    return\n  }\n}\n\n\nWeb3ProviderEngine.prototype._getBlockByNumber = function(blockNumber, cb) {\n  const req = createPayload({ method: 'eth_getBlockByNumber', params: [blockNumber, false], skipCache: true })\n  this._handleAsync(req, (err, res) => {\n    if (err) return cb(err)\n    return cb(null, res.result)\n  })\n}\n\nWeb3ProviderEngine.prototype._handleAsync = function(payload, finished) {\n  var self = this\n  var currentProvider = -1\n  var result = null\n  var error = null\n\n  var stack = []\n\n  next()\n\n  function next(after) {\n    currentProvider += 1\n    stack.unshift(after)\n\n    // Bubbled down as far as we could go, and the request wasn't\n    // handled. Return an error.\n    if (currentProvider >= self._providers.length) {\n      end(new Error('Request for method \"' + payload.method + '\" not handled by any subprovider. Please check your subprovider configuration to ensure this method is handled.'))\n    } else {\n      try {\n        var provider = self._providers[currentProvider]\n        provider.handleRequest(payload, next, end)\n      } catch (e) {\n        end(e)\n      }\n    }\n  }\n\n  function end(_error, _result) {\n    error = _error\n    result = _result\n\n    eachSeries(stack, function(fn, callback) {\n\n      if (fn) {\n        fn(error, result, callback)\n      } else {\n        callback()\n      }\n    }, function() {\n\n      var resultObj = {\n        id: payload.id,\n        jsonrpc: payload.jsonrpc,\n        result: result\n      }\n\n      if (error != null) {\n        resultObj.error = {\n          message: error.stack || error.message || error,\n          code: -32000\n        }\n        // respond with both error formats\n        finished(error, resultObj)\n      } else {\n        finished(null, resultObj)\n      }\n    })\n  }\n}\n\n//\n// from remote-data\n//\n\nWeb3ProviderEngine.prototype._setCurrentBlock = function(block){\n  const self = this\n  self.currentBlock = block\n  self.emit('block', block)\n}\n\n// util\n\nfunction toBufferBlock (jsonBlock) {\n  return {\n    number:           ethUtil.toBuffer(jsonBlock.number),\n    hash:             ethUtil.toBuffer(jsonBlock.hash),\n    parentHash:       ethUtil.toBuffer(jsonBlock.parentHash),\n    nonce:            ethUtil.toBuffer(jsonBlock.nonce),\n    mixHash:          ethUtil.toBuffer(jsonBlock.mixHash),\n    sha3Uncles:       ethUtil.toBuffer(jsonBlock.sha3Uncles),\n    logsBloom:        ethUtil.toBuffer(jsonBlock.logsBloom),\n    transactionsRoot: ethUtil.toBuffer(jsonBlock.transactionsRoot),\n    stateRoot:        ethUtil.toBuffer(jsonBlock.stateRoot),\n    receiptsRoot:     ethUtil.toBuffer(jsonBlock.receiptRoot || jsonBlock.receiptsRoot),\n    miner:            ethUtil.toBuffer(jsonBlock.miner),\n    difficulty:       ethUtil.toBuffer(jsonBlock.difficulty),\n    totalDifficulty:  ethUtil.toBuffer(jsonBlock.totalDifficulty),\n    size:             ethUtil.toBuffer(jsonBlock.size),\n    extraData:        ethUtil.toBuffer(jsonBlock.extraData),\n    gasLimit:         ethUtil.toBuffer(jsonBlock.gasLimit),\n    gasUsed:          ethUtil.toBuffer(jsonBlock.gasUsed),\n    timestamp:        ethUtil.toBuffer(jsonBlock.timestamp),\n    transactions:     jsonBlock.transactions,\n  }\n}\n", "\"use strict\";\n\nmodule.exports = createRandomId;\n\nfunction createRandomId() {\n  // random id\n  return Math.floor(Number.MAX_SAFE_INTEGER * Math.random());\n}", "\"use strict\";\n\nvar getRandomId = require('./random-id.js');\n\nvar extend = require('xtend');\n\nmodule.exports = createPayload;\n\nfunction createPayload(data) {\n  return extend({\n    // defaults\n    id: getRandomId(),\n    jsonrpc: '2.0',\n    params: [] // user-specified\n\n  }, data);\n}", "\"use strict\";\n\nvar createPayload = require('../util/create-payload.js');\n\nmodule.exports = SubProvider; // this is the base class for a subprovider -- mostly helpers\n\nfunction SubProvider() {}\n\nSubProvider.prototype.setEngine = function (engine) {\n  var self = this;\n  if (self.engine) return;\n  self.engine = engine;\n  engine.on('block', function (block) {\n    self.currentBlock = block;\n  });\n  engine.on('start', function () {\n    self.start();\n  });\n  engine.on('stop', function () {\n    self.stop();\n  });\n};\n\nSubProvider.prototype.handleRequest = function (payload, next, end) {\n  throw new Error('Subproviders should override `handleRequest`.');\n};\n\nSubProvider.prototype.emitPayload = function (payload, cb) {\n  var self = this;\n  self.engine.sendAsync(createPayload(payload), cb);\n}; // dummies for overriding\n\n\nSubProvider.prototype.stop = function () {};\n\nSubProvider.prototype.start = function () {};", "\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar Subprovider = require('./subprovider.js'); // wraps a json-rpc-engine middleware in a subprovider interface\n\n\nvar JsonRpcEngineMiddlewareSubprovider = /*#__PURE__*/function (_Subprovider) {\n  _inherits(JsonRpcEngineMiddlewareSubprovider, _Subprovider);\n\n  var _super = _createSuper(JsonRpcEngineMiddlewareSubprovider);\n\n  // take a constructorFn to call once we have a reference to the engine\n  function JsonRpcEngineMiddlewareSubprovider(constructorFn) {\n    var _this;\n\n    _classCallCheck(this, JsonRpcEngineMiddlewareSubprovider);\n\n    _this = _super.call(this);\n    if (!constructorFn) throw new Error('JsonRpcEngineMiddlewareSubprovider - no constructorFn specified');\n    _this._constructorFn = constructorFn;\n    return _this;\n  } // this is called once the subprovider has been added to the provider engine\n\n\n  _createClass(JsonRpcEngineMiddlewareSubprovider, [{\n    key: \"setEngine\",\n    value: function setEngine(engine) {\n      if (this.middleware) throw new Error('JsonRpcEngineMiddlewareSubprovider - subprovider added to engine twice');\n      var blockTracker = engine._blockTracker;\n\n      var middleware = this._constructorFn({\n        engine: engine,\n        provider: engine,\n        blockTracker: blockTracker\n      });\n\n      if (!middleware) throw new Error('JsonRpcEngineMiddlewareSubprovider - _constructorFn did not return middleware');\n      if (typeof middleware !== 'function') throw new Error('JsonRpcEngineMiddlewareSubprovider - specified middleware is not a function');\n      this.middleware = middleware;\n    }\n  }, {\n    key: \"handleRequest\",\n    value: function handleRequest(req, provEngNext, provEngEnd) {\n      var res = {\n        id: req.id\n      };\n      this.middleware(req, res, middlewareNext, middlewareEnd);\n\n      function middlewareNext(handler) {\n        provEngNext(function (err, result, cb) {\n          // update response object with result or error\n          if (err) {\n            delete res.result;\n            res.error = {\n              message: err.message || err\n            };\n          } else {\n            res.result = result;\n          } // call middleware's next handler (even if error)\n\n\n          if (handler) {\n            handler(cb);\n          } else {\n            cb();\n          }\n        });\n      }\n\n      function middlewareEnd(err) {\n        if (err) return provEngEnd(err);\n        provEngEnd(null, res.result);\n      }\n    }\n  }]);\n\n  return JsonRpcEngineMiddlewareSubprovider;\n}(Subprovider);\n\nmodule.exports = JsonRpcEngineMiddlewareSubprovider;", "const stringify = require('json-stable-stringify')\n\nmodule.exports = {\n  cacheIdentifierForPayload: cacheIdentifierForPayload,\n  canCache: canCache,\n  blockTagForPayload: blockTagForPayload,\n  paramsWithoutBlockTag: paramsWithoutBlockTag,\n  blockTagParamIndex: blockTagParamIndex,\n  cacheTypeForPayload: cacheTypeForPayload\n}\n\nfunction cacheIdentifierForPayload (payload, skipBlockRef) {\n  const simpleParams = skipBlockRef ? paramsWithoutBlockTag(payload) : payload.params\n  if (canCache(payload)) {\n    return payload.method + ':' + stringify(simpleParams)\n  } else {\n    return null\n  }\n}\n\nfunction canCache (payload) {\n  return cacheTypeForPayload(payload) !== 'never'\n}\n\nfunction blockTagForPayload (payload) {\n  let index = blockTagParamIndex(payload)\n\n  // Block tag param not passed.\n  if (index >= payload.params.length) {\n    return null\n  }\n\n  return payload.params[index]\n}\n\nfunction paramsWithoutBlockTag (payload) {\n  const index = blockTagParamIndex(payload)\n\n  // Block tag param not passed.\n  if (index >= payload.params.length) {\n    return payload.params\n  }\n\n  // eth_getBlockByNumber has the block tag first, then the optional includeTx? param\n  if (payload.method === 'eth_getBlockByNumber') {\n    return payload.params.slice(1)\n  }\n\n  return payload.params.slice(0, index)\n}\n\nfunction blockTagParamIndex (payload) {\n  switch (payload.method) {\n    // blockTag is at index 2\n    case 'eth_getStorageAt':\n      return 2\n    // blockTag is at index 1\n    case 'eth_getBalance':\n    case 'eth_getCode':\n    case 'eth_getTransactionCount':\n    case 'eth_call':\n      return 1\n    // blockTag is at index 0\n    case 'eth_getBlockByNumber':\n      return 0\n    // there is no blockTag\n    default:\n      return undefined\n  }\n}\n\nfunction cacheTypeForPayload (payload) {\n  switch (payload.method) {\n    // cache permanently\n    case 'web3_clientVersion':\n    case 'web3_sha3':\n    case 'eth_protocolVersion':\n    case 'eth_getBlockTransactionCountByHash':\n    case 'eth_getUncleCountByBlockHash':\n    case 'eth_getCode':\n    case 'eth_getBlockByHash':\n    case 'eth_getTransactionByHash':\n    case 'eth_getTransactionByBlockHashAndIndex':\n    case 'eth_getTransactionReceipt':\n    case 'eth_getUncleByBlockHashAndIndex':\n    case 'eth_getCompilers':\n    case 'eth_compileLLL':\n    case 'eth_compileSolidity':\n    case 'eth_compileSerpent':\n    case 'shh_version':\n    case 'test_permaCache':\n      return 'perma'\n\n    // cache until fork\n    case 'eth_getBlockByNumber':\n    case 'eth_getBlockTransactionCountByNumber':\n    case 'eth_getUncleCountByBlockNumber':\n    case 'eth_getTransactionByBlockNumberAndIndex':\n    case 'eth_getUncleByBlockNumberAndIndex':\n    case 'test_forkCache':\n      return 'fork'\n\n    // cache for block\n    case 'eth_gasPrice':\n    case 'eth_blockNumber':\n    case 'eth_getBalance':\n    case 'eth_getStorageAt':\n    case 'eth_getTransactionCount':\n    case 'eth_call':\n    case 'eth_estimateGas':\n    case 'eth_getFilterLogs':\n    case 'eth_getLogs':\n    case 'test_blockCache':\n      return 'block'\n\n    // never cache\n    case 'net_version':\n    case 'net_peerCount':\n    case 'net_listening':\n    case 'eth_syncing':\n    case 'eth_sign':\n    case 'eth_coinbase':\n    case 'eth_mining':\n    case 'eth_hashrate':\n    case 'eth_accounts':\n    case 'eth_sendTransaction':\n    case 'eth_sendRawTransaction':\n    case 'eth_newFilter':\n    case 'eth_newBlockFilter':\n    case 'eth_newPendingTransactionFilter':\n    case 'eth_uninstallFilter':\n    case 'eth_getFilterChanges':\n    case 'eth_getWork':\n    case 'eth_submitWork':\n    case 'eth_submitHashrate':\n    case 'db_putString':\n    case 'db_getString':\n    case 'db_putHex':\n    case 'db_getHex':\n    case 'shh_post':\n    case 'shh_newIdentity':\n    case 'shh_hasIdentity':\n    case 'shh_newGroup':\n    case 'shh_addToGroup':\n    case 'shh_newFilter':\n    case 'shh_uninstallFilter':\n    case 'shh_getFilterChanges':\n    case 'shh_getMessages':\n    case 'test_neverCache':\n      return 'never'\n  }\n}\n", "/**\n * JsonRpcEngine only accepts callback-based middleware directly.\n * createAsyncMiddleware exists to enable consumers to pass in async middleware\n * functions.\n *\n * Async middleware have no \"end\" function. Instead, they \"end\" if they return\n * without calling \"next\". Rather than passing in explicit return handlers,\n * async middleware can simply await \"next\", and perform operations on the\n * response object when execution resumes.\n *\n * To accomplish this, createAsyncMiddleware passes the async middleware a\n * wrapped \"next\" function. That function calls the internal JsonRpcEngine\n * \"next\" function with a return handler that resolves a promise when called.\n *\n * The return handler will always be called. Its resolution of the promise\n * enables the control flow described above.\n */\n\nmodule.exports = function createAsyncMiddleware (asyncMiddleware) {\n  return (req, res, next, end) => {\n\n    // nextPromise is the key to the implementation\n    // it is resolved by the return handler passed to the\n    // \"next\" function\n    let resolveNextPromise\n    const nextPromise = new Promise((resolve) => {\n      resolveNextPromise = resolve\n    })\n\n    let returnHandlerCallback, nextWasCalled\n\n    const asyncNext = async () => {\n\n      nextWasCalled = true\n\n      next((callback) => { // eslint-disable-line callback-return\n        returnHandlerCallback = callback\n        resolveNextPromise()\n      })\n      await nextPromise\n    }\n\n    asyncMiddleware(req, res, asyncNext)\n      .then(async () => {\n        if (nextWasCalled) {\n          await nextPromise // we must wait until the return handler is called\n          returnHandlerCallback(null)\n        } else {\n          end(null)\n        }\n      })\n      .catch((error) => {\n        if (returnHandlerCallback) {\n          returnHandlerCallback(error)\n        } else {\n          end(error)\n        }\n      })\n  }\n}\n", "const cacheUtils = require('./cache-utils.js')\nconst createAsyncMiddleware = require('json-rpc-engine/src/createAsyncMiddleware')\n// `<nil>` comes from https://github.com/ethereum/go-ethereum/issues/16925\nconst emptyValues = [undefined, null, '\\u003cnil\\u003e']\n\nmodule.exports = createBlockCacheMiddleware\n\n\nfunction createBlockCacheMiddleware(opts = {}) {\n  // validate options\n  const { blockTracker } = opts\n  if (!blockTracker) throw new Error('createBlockCacheMiddleware - No BlockTracker specified')\n\n  // create caching strategies\n  const blockCache = new BlockCacheStrategy()\n  const strategies = {\n    perma: blockCache,\n    block: blockCache,\n    fork: blockCache,\n  }\n\n  return createAsyncMiddleware(async (req, res, next) => {\n    // allow cach to be skipped if so specified\n    if (req.skipCache) {\n      return next()\n    }\n    // check type and matching strategy\n    const type = cacheUtils.cacheTypeForPayload(req)\n    const strategy = strategies[type]\n    // If there's no strategy in place, pass it down the chain.\n    if (!strategy) {\n      return next()\n    }\n    // If the strategy can't cache this request, ignore it.\n    if (!strategy.canCacheRequest(req)) {\n      return next()\n    }\n\n    // get block reference (number or keyword)\n    let blockTag = cacheUtils.blockTagForPayload(req)\n    if (!blockTag) blockTag = 'latest'\n\n    // get exact block number\n    let requestedBlockNumber\n    if (blockTag === 'earliest') {\n      // this just exists for symmetry with \"latest\"\n      requestedBlockNumber = '0x00'\n    } else if (blockTag === 'latest') {\n      // fetch latest block number\n      const latestBlockNumber = await blockTracker.getLatestBlock()\n      // clear all cache before latest block\n      blockCache.clearBefore(latestBlockNumber)\n      requestedBlockNumber = latestBlockNumber\n    } else {\n      // We have a hex number\n      requestedBlockNumber = blockTag\n    }\n\n    // end on a hit, continue on a miss\n    const cacheResult = await strategy.get(req, requestedBlockNumber)\n    if (cacheResult === undefined) {\n      // cache miss\n      // wait for other middleware to handle request\n      await next()\n      // add result to cache\n      await strategy.set(req, requestedBlockNumber, res.result)\n    } else {\n      // fill in result from cache\n      res.result = cacheResult\n    }\n  })\n}\n\n\n//\n// Cache Strategies\n//\n\nclass BlockCacheStrategy {\n  \n  constructor () {\n    this.cache = {}\n  }\n\n  getBlockCacheForPayload (payload, blockNumberHex) {\n    const blockNumber = Number.parseInt(blockNumberHex, 16)\n    let blockCache = this.cache[blockNumber]\n    // create new cache if necesary\n    if (!blockCache) {\n      const newCache = {}\n      this.cache[blockNumber] = newCache\n      blockCache = newCache\n    }\n    return blockCache\n  }\n\n  async get (payload, requestedBlockNumber) {\n    // lookup block cache\n    const blockCache = this.getBlockCacheForPayload(payload, requestedBlockNumber)\n    if (!blockCache) return\n    // lookup payload in block cache\n    const identifier = cacheUtils.cacheIdentifierForPayload(payload, true)\n    const cached = blockCache[identifier]\n    // may be undefined\n    return cached\n  }\n\n  async set (payload, requestedBlockNumber, result) {\n    // check if we can cached this result\n    const canCache = this.canCacheResult(payload, result)\n    if (!canCache) return\n    // set the value in the cache\n    const blockCache = this.getBlockCacheForPayload(payload, requestedBlockNumber)\n    const identifier = cacheUtils.cacheIdentifierForPayload(payload, true)\n    blockCache[identifier] = result\n  }\n\n  canCacheRequest (payload) {\n    // check request method\n    if (!cacheUtils.canCache(payload)) {\n      return false\n    }\n    // check blockTag\n    const blockTag = cacheUtils.blockTagForPayload(payload)\n    if (blockTag === 'pending') {\n      return false\n    }\n    // can be cached\n    return true\n  }\n\n  canCacheResult (payload, result) {\n    // never cache empty values (e.g. undefined)\n    if (emptyValues.includes(result)) return\n    // check if transactions have block reference before caching\n    if (['eth_getTransactionByHash', 'eth_getTransactionReceipt'].includes(payload.method)) {\n      if (!result || !result.blockHash || result.blockHash === '0x0000000000000000000000000000000000000000000000000000000000000000') {\n        return false\n      }\n    }\n    // otherwise true\n    return true\n  }\n\n  // removes all block caches with block number lower than `oldBlockHex`\n  clearBefore (oldBlockHex){\n    const self = this\n    const oldBlockNumber = Number.parseInt(oldBlockHex, 16)\n    // clear old caches\n    Object.keys(self.cache)\n      .map(Number)\n      .filter(num => num < oldBlockNumber)\n      .forEach(num => delete self.cache[num])\n  }\n\n}\n", "\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar ProviderSubprovider = require('./json-rpc-engine-middleware');\n\nvar createBlockCacheMiddleware = require('eth-json-rpc-middleware/block-cache');\n\nvar BlockCacheSubprovider = /*#__PURE__*/function (_ProviderSubprovider) {\n  _inherits(BlockCacheSubprovider, _ProviderSubprovider);\n\n  var _super = _createSuper(BlockCacheSubprovider);\n\n  function BlockCacheSubprovider(opts) {\n    _classCallCheck(this, BlockCacheSubprovider);\n\n    return _super.call(this, function (_ref) {\n      var blockTracker = _ref.blockTracker;\n      return createBlockCacheMiddleware(Object.assign({\n        blockTracker: blockTracker\n      }, opts));\n    });\n  }\n\n  return BlockCacheSubprovider;\n}(ProviderSubprovider);\n\nmodule.exports = BlockCacheSubprovider;", "\"use strict\";\n\nvar inherits = require('util').inherits;\n\nvar Subprovider = require('./subprovider.js');\n\nmodule.exports = FixtureProvider;\ninherits(FixtureProvider, Subprovider);\n\nfunction FixtureProvider(staticResponses) {\n  var self = this;\n  staticResponses = staticResponses || {};\n  self.staticResponses = staticResponses;\n}\n\nFixtureProvider.prototype.handleRequest = function (payload, next, end) {\n  var self = this;\n  var staticResponse = self.staticResponses[payload.method]; // async function\n\n  if ('function' === typeof staticResponse) {\n    staticResponse(payload, next, end); // static response - null is valid response\n  } else if (staticResponse !== undefined) {\n    // return result asynchronously\n    setTimeout(function () {\n      return end(null, staticResponse);\n    }); // no prepared response - skip\n  } else {\n    next();\n  }\n};", "\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar ProviderSubprovider = require('./json-rpc-engine-middleware');\n\nvar createFilterMiddleware = require('eth-json-rpc-filters');\n\nvar SubscriptionsSubprovider = /*#__PURE__*/function (_ProviderSubprovider) {\n  _inherits(SubscriptionsSubprovider, _ProviderSubprovider);\n\n  var _super = _createSuper(SubscriptionsSubprovider);\n\n  function SubscriptionsSubprovider() {\n    _classCallCheck(this, SubscriptionsSubprovider);\n\n    return _super.call(this, function (_ref) {\n      var blockTracker = _ref.blockTracker,\n          provider = _ref.provider,\n          engine = _ref.engine;\n      return createFilterMiddleware({\n        blockTracker: blockTracker,\n        provider: provider\n      });\n    });\n  }\n\n  return SubscriptionsSubprovider;\n}(ProviderSubprovider);\n\nmodule.exports = SubscriptionsSubprovider;", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function (tasks, callback) {\n    callback = (0, _once2.default)(callback || _noop2.default);\n    if (!(0, _isArray2.default)(tasks)) return callback(new Error('First argument to waterfall must be an array of functions'));\n    if (!tasks.length) return callback();\n    var taskIndex = 0;\n\n    function nextTask(args) {\n        var task = (0, _wrapAsync2.default)(tasks[taskIndex++]);\n        args.push((0, _onlyOnce2.default)(next));\n        task.apply(null, args);\n    }\n\n    function next(err /*, ...args*/) {\n        if (err || taskIndex === tasks.length) {\n            return callback.apply(null, arguments);\n        }\n        nextTask((0, _slice2.default)(arguments, 1));\n    }\n\n    nextTask([]);\n};\n\nvar _isArray = require('lodash/isArray');\n\nvar _isArray2 = _interopRequireDefault(_isArray);\n\nvar _noop = require('lodash/noop');\n\nvar _noop2 = _interopRequireDefault(_noop);\n\nvar _once = require('./internal/once');\n\nvar _once2 = _interopRequireDefault(_once);\n\nvar _slice = require('./internal/slice');\n\nvar _slice2 = _interopRequireDefault(_slice);\n\nvar _onlyOnce = require('./internal/onlyOnce');\n\nvar _onlyOnce2 = _interopRequireDefault(_onlyOnce);\n\nvar _wrapAsync = require('./internal/wrapAsync');\n\nvar _wrapAsync2 = _interopRequireDefault(_wrapAsync);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = exports['default'];\n\n/**\n * Runs the `tasks` array of functions in series, each passing their results to\n * the next in the array. However, if any of the `tasks` pass an error to their\n * own callback, the next function is not executed, and the main `callback` is\n * immediately called with the error.\n *\n * @name waterfall\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Array} tasks - An array of [async functions]{@link AsyncFunction}\n * to run.\n * Each function should complete with any number of `result` values.\n * The `result` values will be passed as arguments, in order, to the next task.\n * @param {Function} [callback] - An optional callback to run once all the\n * functions have completed. This will be passed the results of the last task's\n * callback. Invoked with (err, [results]).\n * @returns undefined\n * @example\n *\n * async.waterfall([\n *     function(callback) {\n *         callback(null, 'one', 'two');\n *     },\n *     function(arg1, arg2, callback) {\n *         // arg1 now equals 'one' and arg2 now equals 'two'\n *         callback(null, 'three');\n *     },\n *     function(arg1, callback) {\n *         // arg1 now equals 'three'\n *         callback(null, 'done');\n *     }\n * ], function (err, result) {\n *     // result now equals 'done'\n * });\n *\n * // Or, with named functions:\n * async.waterfall([\n *     myFirstFunction,\n *     mySecondFunction,\n *     myLastFunction,\n * ], function (err, result) {\n *     // result now equals 'done'\n * });\n * function myFirstFunction(callback) {\n *     callback(null, 'one', 'two');\n * }\n * function mySecondFunction(arg1, arg2, callback) {\n *     // arg1 now equals 'one' and arg2 now equals 'two'\n *     callback(null, 'three');\n * }\n * function myLastFunction(arg1, callback) {\n *     // arg1 now equals 'three'\n *     callback(null, 'done');\n * }\n */", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _parallel;\n\nvar _noop = require('lodash/noop');\n\nvar _noop2 = _interopRequireDefault(_noop);\n\nvar _isArrayLike = require('lodash/isArrayLike');\n\nvar _isArrayLike2 = _interopRequireDefault(_isArrayLike);\n\nvar _slice = require('./slice');\n\nvar _slice2 = _interopRequireDefault(_slice);\n\nvar _wrapAsync = require('./wrapAsync');\n\nvar _wrapAsync2 = _interopRequireDefault(_wrapAsync);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _parallel(eachfn, tasks, callback) {\n    callback = callback || _noop2.default;\n    var results = (0, _isArrayLike2.default)(tasks) ? [] : {};\n\n    eachfn(tasks, function (task, key, callback) {\n        (0, _wrapAsync2.default)(task)(function (err, result) {\n            if (arguments.length > 2) {\n                result = (0, _slice2.default)(arguments, 1);\n            }\n            results[key] = result;\n            callback(err);\n        });\n    }, function (err) {\n        callback(err, results);\n    });\n}\nmodule.exports = exports['default'];", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = parallelLimit;\n\nvar _eachOf = require('./eachOf');\n\nvar _eachOf2 = _interopRequireDefault(_eachOf);\n\nvar _parallel = require('./internal/parallel');\n\nvar _parallel2 = _interopRequireDefault(_parallel);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Run the `tasks` collection of functions in parallel, without waiting until\n * the previous function has completed. If any of the functions pass an error to\n * its callback, the main `callback` is immediately called with the value of the\n * error. Once the `tasks` have completed, the results are passed to the final\n * `callback` as an array.\n *\n * **Note:** `parallel` is about kicking-off I/O tasks in parallel, not about\n * parallel execution of code.  If your tasks do not use any timers or perform\n * any I/O, they will actually be executed in series.  Any synchronous setup\n * sections for each task will happen one after the other.  JavaScript remains\n * single-threaded.\n *\n * **Hint:** Use [`reflect`]{@link module:Utils.reflect} to continue the\n * execution of other tasks when a task fails.\n *\n * It is also possible to use an object instead of an array. Each property will\n * be run as a function and the results will be passed to the final `callback`\n * as an object instead of an array. This can be a more readable way of handling\n * results from {@link async.parallel}.\n *\n * @name parallel\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Array|Iterable|Object} tasks - A collection of\n * [async functions]{@link AsyncFunction} to run.\n * Each async function can complete with any number of optional `result` values.\n * @param {Function} [callback] - An optional callback to run once all the\n * functions have completed successfully. This function gets a results array\n * (or object) containing all the result arguments passed to the task callbacks.\n * Invoked with (err, results).\n *\n * @example\n * async.parallel([\n *     function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'one');\n *         }, 200);\n *     },\n *     function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'two');\n *         }, 100);\n *     }\n * ],\n * // optional callback\n * function(err, results) {\n *     // the results array will equal ['one','two'] even though\n *     // the second function had a shorter timeout.\n * });\n *\n * // an example using an object instead of an array\n * async.parallel({\n *     one: function(callback) {\n *         setTimeout(function() {\n *             callback(null, 1);\n *         }, 200);\n *     },\n *     two: function(callback) {\n *         setTimeout(function() {\n *             callback(null, 2);\n *         }, 100);\n *     }\n * }, function(err, results) {\n *     // results is now equals to: {one: 1, two: 2}\n * });\n */\nfunction parallelLimit(tasks, callback) {\n  (0, _parallel2.default)(_eachOf2.default, tasks, callback);\n}\nmodule.exports = exports['default'];", "\"use strict\";\n\nvar createPayload = require('./create-payload.js');\n\nmodule.exports = estimateGas;\n/*\n\nThis is a work around for https://github.com/ethereum/go-ethereum/issues/2577\n\n*/\n\nfunction estimateGas(provider, txParams, cb) {\n  provider.sendAsync(createPayload({\n    method: 'eth_estimateGas',\n    params: [txParams]\n  }), function (err, res) {\n    if (err) {\n      // handle simple value transfer case\n      if (err.message === 'no contract code at given address') {\n        return cb(null, '0xcf08');\n      } else {\n        return cb(err);\n      }\n    }\n\n    cb(null, res.result);\n  });\n}", "\"use strict\";\n\n/*\n * Emulate 'eth_accounts' / 'eth_sendTransaction' using 'eth_sendRawTransaction'\n *\n * The two callbacks a user needs to implement are:\n * - getAccounts() -- array of addresses supported\n * - signTransaction(tx) -- sign a raw transaction object\n */\nvar waterfall = require('async/waterfall');\n\nvar parallel = require('async/parallel');\n\nvar inherits = require('util').inherits;\n\nvar ethUtil = require('ethereumjs-util');\n\nvar sigUtil = require('eth-sig-util');\n\nvar extend = require('xtend');\n\nvar Semaphore = require('semaphore');\n\nvar Subprovider = require('./subprovider.js');\n\nvar estimateGas = require('../util/estimate-gas.js');\n\nvar hexRegex = /^[0-9A-Fa-f]+$/g;\nmodule.exports = HookedWalletSubprovider; // handles the following RPC methods:\n//   eth_coinbase\n//   eth_accounts\n//   eth_sendTransaction\n//   eth_sign\n//   eth_signTypedData\n//   eth_signTypedData_v3\n//   eth_signTypedData_v4\n//   personal_sign\n//   eth_decryptMessage\n//   encryption_public_key\n//   personal_ecRecover\n//   parity_postTransaction\n//   parity_checkRequest\n//   parity_defaultAccount\n//\n// Tx Signature Flow\n//\n// handleRequest: eth_sendTransaction\n//   validateTransaction (basic validity check)\n//     validateSender (checks that sender is in accounts)\n//   processTransaction (sign tx and submit to network)\n//     approveTransaction (UI approval hook)\n//     checkApproval\n//     finalizeAndSubmitTx (tx signing)\n//       nonceLock.take (bottle neck to ensure atomic nonce)\n//         fillInTxExtras (set fallback gasPrice, nonce, etc)\n//         signTransaction (perform the signature)\n//         publishTransaction (publish signed tx to network)\n//\n\ninherits(HookedWalletSubprovider, Subprovider);\n\nfunction HookedWalletSubprovider(opts) {\n  var self = this; // control flow\n\n  self.nonceLock = Semaphore(1); // data lookup\n\n  if (opts.getAccounts) self.getAccounts = opts.getAccounts; // high level override\n\n  if (opts.processTransaction) self.processTransaction = opts.processTransaction;\n  if (opts.processMessage) self.processMessage = opts.processMessage;\n  if (opts.processPersonalMessage) self.processPersonalMessage = opts.processPersonalMessage;\n  if (opts.processTypedMessage) self.processTypedMessage = opts.processTypedMessage; // approval hooks\n\n  self.approveTransaction = opts.approveTransaction || self.autoApprove;\n  self.approveMessage = opts.approveMessage || self.autoApprove;\n  self.approvePersonalMessage = opts.approvePersonalMessage || self.autoApprove;\n  self.approveDecryptMessage = opts.approveDecryptMessage || self.autoApprove;\n  self.approveEncryptionPublicKey = opts.approveEncryptionPublicKey || self.autoApprove;\n  self.approveTypedMessage = opts.approveTypedMessage || self.autoApprove; // actually perform the signature\n\n  if (opts.signTransaction) self.signTransaction = opts.signTransaction || mustProvideInConstructor('signTransaction');\n  if (opts.signMessage) self.signMessage = opts.signMessage || mustProvideInConstructor('signMessage');\n  if (opts.signPersonalMessage) self.signPersonalMessage = opts.signPersonalMessage || mustProvideInConstructor('signPersonalMessage');\n  if (opts.decryptMessage) self.decryptMessage = opts.decryptMessage || mustProvideInConstructor('decryptMessage');\n  if (opts.encryptionPublicKey) self.encryptionPublicKey = opts.encryptionPublicKey || mustProvideInConstructor('encryptionPublicKey');\n  if (opts.signTypedMessage) self.signTypedMessage = opts.signTypedMessage || mustProvideInConstructor('signTypedMessage');\n  if (opts.recoverPersonalSignature) self.recoverPersonalSignature = opts.recoverPersonalSignature; // publish to network\n\n  if (opts.publishTransaction) self.publishTransaction = opts.publishTransaction; // gas options\n\n  self.estimateGas = opts.estimateGas || self.estimateGas;\n  self.getGasPrice = opts.getGasPrice || self.getGasPrice;\n}\n\nHookedWalletSubprovider.prototype.handleRequest = function (payload, next, end) {\n  var self = this;\n  self._parityRequests = {};\n  self._parityRequestCount = 0; // switch statement is not block scoped\n  // sp we cant repeat var declarations\n\n  var txParams, msgParams, extraParams;\n  var message, address;\n\n  switch (payload.method) {\n    case 'eth_coinbase':\n      // process normally\n      self.getAccounts(function (err, accounts) {\n        if (err) return end(err);\n        var result = accounts[0] || null;\n        end(null, result);\n      });\n      return;\n\n    case 'eth_accounts':\n      // process normally\n      self.getAccounts(function (err, accounts) {\n        if (err) return end(err);\n        end(null, accounts);\n      });\n      return;\n\n    case 'eth_sendTransaction':\n      txParams = payload.params[0];\n      waterfall([function (cb) {\n        return self.validateTransaction(txParams, cb);\n      }, function (cb) {\n        return self.processTransaction(txParams, cb);\n      }], end);\n      return;\n\n    case 'eth_signTransaction':\n      txParams = payload.params[0];\n      waterfall([function (cb) {\n        return self.validateTransaction(txParams, cb);\n      }, function (cb) {\n        return self.processSignTransaction(txParams, cb);\n      }], end);\n      return;\n\n    case 'eth_sign':\n      // process normally\n      address = payload.params[0];\n      message = payload.params[1]; // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n      // good place for metadata\n\n      extraParams = payload.params[2] || {};\n      msgParams = extend(extraParams, {\n        from: address,\n        data: message\n      });\n      waterfall([function (cb) {\n        return self.validateMessage(msgParams, cb);\n      }, function (cb) {\n        return self.processMessage(msgParams, cb);\n      }], end);\n      return;\n\n    case 'personal_sign':\n      return function () {\n        // process normally\n        var first = payload.params[0];\n        var second = payload.params[1]; // We initially incorrectly ordered these parameters.\n        // To gracefully respect users who adopted this API early,\n        // we are currently gracefully recovering from the wrong param order\n        // when it is clearly identifiable.\n        //\n        // That means when the first param is definitely an address,\n        // and the second param is definitely not, but is hex.\n\n        if (resemblesData(second) && resemblesAddress(first)) {\n          var warning = \"The eth_personalSign method requires params ordered \";\n          warning += \"[message, address]. This was previously handled incorrectly, \";\n          warning += \"and has been corrected automatically. \";\n          warning += \"Please switch this param order for smooth behavior in the future.\";\n          console.warn(warning);\n          address = payload.params[0];\n          message = payload.params[1];\n        } else {\n          message = payload.params[0];\n          address = payload.params[1];\n        } // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n        // good place for metadata\n\n\n        extraParams = payload.params[2] || {};\n        msgParams = extend(extraParams, {\n          from: address,\n          data: message\n        });\n        waterfall([function (cb) {\n          return self.validatePersonalMessage(msgParams, cb);\n        }, function (cb) {\n          return self.processPersonalMessage(msgParams, cb);\n        }], end);\n      }();\n\n    case 'eth_decryptMessage':\n      return function () {\n        // process normally\n        var first = payload.params[0];\n        var second = payload.params[1]; // We initially incorrectly ordered these parameters.\n        // To gracefully respect users who adopted this API early,\n        // we are currently gracefully recovering from the wrong param order\n        // when it is clearly identifiable.\n        //\n        // That means when the first param is definitely an address,\n        // and the second param is definitely not, but is hex.\n\n        if (resemblesData(second) && resemblesAddress(first)) {\n          var warning = \"The eth_decryptMessage method requires params ordered \";\n          warning += \"[message, address]. This was previously handled incorrectly, \";\n          warning += \"and has been corrected automatically. \";\n          warning += \"Please switch this param order for smooth behavior in the future.\";\n          console.warn(warning);\n          address = payload.params[0];\n          message = payload.params[1];\n        } else {\n          message = payload.params[0];\n          address = payload.params[1];\n        } // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n        // good place for metadata\n\n\n        extraParams = payload.params[2] || {};\n        msgParams = extend(extraParams, {\n          from: address,\n          data: message\n        });\n        waterfall([function (cb) {\n          return self.validateDecryptMessage(msgParams, cb);\n        }, function (cb) {\n          return self.processDecryptMessage(msgParams, cb);\n        }], end);\n      }();\n\n    case 'encryption_public_key':\n      return function () {\n        var address = payload.params[0];\n        waterfall([function (cb) {\n          return self.validateEncryptionPublicKey(address, cb);\n        }, function (cb) {\n          return self.processEncryptionPublicKey(address, cb);\n        }], end);\n      }();\n\n    case 'personal_ecRecover':\n      return function () {\n        message = payload.params[0];\n        var signature = payload.params[1]; // non-standard \"extraParams\" to be appended to our \"msgParams\" obj\n        // good place for metadata\n\n        extraParams = payload.params[2] || {};\n        msgParams = extend(extraParams, {\n          sig: signature,\n          data: message\n        });\n        self.recoverPersonalSignature(msgParams, end);\n      }();\n\n    case 'eth_signTypedData':\n    case 'eth_signTypedData_v3':\n    case 'eth_signTypedData_v4':\n      return function () {\n        // process normally\n        var first = payload.params[0];\n        var second = payload.params[1];\n\n        if (resemblesAddress(first)) {\n          address = first;\n          message = second;\n        } else {\n          message = first;\n          address = second;\n        }\n\n        extraParams = payload.params[2] || {};\n        msgParams = extend(extraParams, {\n          from: address,\n          data: message\n        });\n        waterfall([function (cb) {\n          return self.validateTypedMessage(msgParams, cb);\n        }, function (cb) {\n          return self.processTypedMessage(msgParams, cb);\n        }], end);\n      }();\n\n    case 'parity_postTransaction':\n      txParams = payload.params[0];\n      self.parityPostTransaction(txParams, end);\n      return;\n\n    case 'parity_postSign':\n      address = payload.params[0];\n      message = payload.params[1];\n      self.parityPostSign(address, message, end);\n      return;\n\n    case 'parity_checkRequest':\n      return function () {\n        var requestId = payload.params[0];\n        self.parityCheckRequest(requestId, end);\n      }();\n\n    case 'parity_defaultAccount':\n      self.getAccounts(function (err, accounts) {\n        if (err) return end(err);\n        var account = accounts[0] || null;\n        end(null, account);\n      });\n      return;\n\n    default:\n      next();\n      return;\n  }\n}; //\n// data lookup\n//\n\n\nHookedWalletSubprovider.prototype.getAccounts = function (cb) {\n  cb(null, []);\n}; //\n// \"process\" high level flow\n//\n\n\nHookedWalletSubprovider.prototype.processTransaction = function (txParams, cb) {\n  var self = this;\n  waterfall([function (cb) {\n    return self.approveTransaction(txParams, cb);\n  }, function (didApprove, cb) {\n    return self.checkApproval('transaction', didApprove, cb);\n  }, function (cb) {\n    return self.finalizeAndSubmitTx(txParams, cb);\n  }], cb);\n};\n\nHookedWalletSubprovider.prototype.processSignTransaction = function (txParams, cb) {\n  var self = this;\n  waterfall([function (cb) {\n    return self.approveTransaction(txParams, cb);\n  }, function (didApprove, cb) {\n    return self.checkApproval('transaction', didApprove, cb);\n  }, function (cb) {\n    return self.finalizeTx(txParams, cb);\n  }], cb);\n};\n\nHookedWalletSubprovider.prototype.processMessage = function (msgParams, cb) {\n  var self = this;\n  waterfall([function (cb) {\n    return self.approveMessage(msgParams, cb);\n  }, function (didApprove, cb) {\n    return self.checkApproval('message', didApprove, cb);\n  }, function (cb) {\n    return self.signMessage(msgParams, cb);\n  }], cb);\n};\n\nHookedWalletSubprovider.prototype.processPersonalMessage = function (msgParams, cb) {\n  var self = this;\n  waterfall([function (cb) {\n    return self.approvePersonalMessage(msgParams, cb);\n  }, function (didApprove, cb) {\n    return self.checkApproval('message', didApprove, cb);\n  }, function (cb) {\n    return self.signPersonalMessage(msgParams, cb);\n  }], cb);\n};\n\nHookedWalletSubprovider.prototype.processDecryptMessage = function (msgParams, cb) {\n  var self = this;\n  waterfall([function (cb) {\n    return self.approveDecryptMessage(msgParams, cb);\n  }, function (didApprove, cb) {\n    return self.checkApproval('decryptMessage', didApprove, cb);\n  }, function (cb) {\n    return self.decryptMessage(msgParams, cb);\n  }], cb);\n};\n\nHookedWalletSubprovider.prototype.processEncryptionPublicKey = function (msgParams, cb) {\n  var self = this;\n  waterfall([function (cb) {\n    return self.approveEncryptionPublicKey(msgParams, cb);\n  }, function (didApprove, cb) {\n    return self.checkApproval('encryptionPublicKey', didApprove, cb);\n  }, function (cb) {\n    return self.encryptionPublicKey(msgParams, cb);\n  }], cb);\n};\n\nHookedWalletSubprovider.prototype.processTypedMessage = function (msgParams, cb) {\n  var self = this;\n  waterfall([function (cb) {\n    return self.approveTypedMessage(msgParams, cb);\n  }, function (didApprove, cb) {\n    return self.checkApproval('message', didApprove, cb);\n  }, function (cb) {\n    return self.signTypedMessage(msgParams, cb);\n  }], cb);\n}; //\n// approval\n//\n\n\nHookedWalletSubprovider.prototype.autoApprove = function (txParams, cb) {\n  cb(null, true);\n};\n\nHookedWalletSubprovider.prototype.checkApproval = function (type, didApprove, cb) {\n  cb(didApprove ? null : new Error('User denied ' + type + ' signature.'));\n}; //\n// parity\n//\n\n\nHookedWalletSubprovider.prototype.parityPostTransaction = function (txParams, cb) {\n  var self = this; // get next id\n\n  var count = self._parityRequestCount;\n  var reqId = \"0x\".concat(count.toString(16));\n  self._parityRequestCount++;\n  self.emitPayload({\n    method: 'eth_sendTransaction',\n    params: [txParams]\n  }, function (error, res) {\n    if (error) {\n      self._parityRequests[reqId] = {\n        error: error\n      };\n      return;\n    }\n\n    var txHash = res.result;\n    self._parityRequests[reqId] = txHash;\n  });\n  cb(null, reqId);\n};\n\nHookedWalletSubprovider.prototype.parityPostSign = function (address, message, cb) {\n  var self = this; // get next id\n\n  var count = self._parityRequestCount;\n  var reqId = \"0x\".concat(count.toString(16));\n  self._parityRequestCount++;\n  self.emitPayload({\n    method: 'eth_sign',\n    params: [address, message]\n  }, function (error, res) {\n    if (error) {\n      self._parityRequests[reqId] = {\n        error: error\n      };\n      return;\n    }\n\n    var result = res.result;\n    self._parityRequests[reqId] = result;\n  });\n  cb(null, reqId);\n};\n\nHookedWalletSubprovider.prototype.parityCheckRequest = function (reqId, cb) {\n  var self = this;\n  var result = self._parityRequests[reqId] || null; // tx not handled yet\n\n  if (!result) return cb(null, null); // tx was rejected (or other error)\n\n  if (result.error) return cb(result.error); // tx sent\n\n  cb(null, result);\n}; //\n// signature and recovery\n//\n\n\nHookedWalletSubprovider.prototype.recoverPersonalSignature = function (msgParams, cb) {\n  var senderHex;\n\n  try {\n    senderHex = sigUtil.recoverPersonalSignature(msgParams);\n  } catch (err) {\n    return cb(err);\n  }\n\n  cb(null, senderHex);\n}; //\n// validation\n//\n\n\nHookedWalletSubprovider.prototype.validateTransaction = function (txParams, cb) {\n  var self = this; // shortcut: undefined sender is invalid\n\n  if (txParams.from === undefined) return cb(new Error(\"Undefined address - from address required to sign transaction.\"));\n  self.validateSender(txParams.from, function (err, senderIsValid) {\n    if (err) return cb(err);\n    if (!senderIsValid) return cb(new Error(\"Unknown address - unable to sign transaction for this address: \\\"\".concat(txParams.from, \"\\\"\")));\n    cb();\n  });\n};\n\nHookedWalletSubprovider.prototype.validateMessage = function (msgParams, cb) {\n  var self = this;\n  if (msgParams.from === undefined) return cb(new Error(\"Undefined address - from address required to sign message.\"));\n  self.validateSender(msgParams.from, function (err, senderIsValid) {\n    if (err) return cb(err);\n    if (!senderIsValid) return cb(new Error(\"Unknown address - unable to sign message for this address: \\\"\".concat(msgParams.from, \"\\\"\")));\n    cb();\n  });\n};\n\nHookedWalletSubprovider.prototype.validatePersonalMessage = function (msgParams, cb) {\n  var self = this;\n  if (msgParams.from === undefined) return cb(new Error(\"Undefined address - from address required to sign personal message.\"));\n  if (msgParams.data === undefined) return cb(new Error(\"Undefined message - message required to sign personal message.\"));\n  if (!isValidHex(msgParams.data)) return cb(new Error(\"HookedWalletSubprovider - validateMessage - message was not encoded as hex.\"));\n  self.validateSender(msgParams.from, function (err, senderIsValid) {\n    if (err) return cb(err);\n    if (!senderIsValid) return cb(new Error(\"Unknown address - unable to sign message for this address: \\\"\".concat(msgParams.from, \"\\\"\")));\n    cb();\n  });\n};\n\nHookedWalletSubprovider.prototype.validateDecryptMessage = function (msgParams, cb) {\n  var self = this;\n  if (msgParams.from === undefined) return cb(new Error(\"Undefined address - from address required to decrypt message.\"));\n  if (msgParams.data === undefined) return cb(new Error(\"Undefined message - message required to decrypt message.\"));\n  if (!isValidHex(msgParams.data)) return cb(new Error(\"HookedWalletSubprovider - validateDecryptMessage - message was not encoded as hex.\"));\n  self.validateSender(msgParams.from, function (err, senderIsValid) {\n    if (err) return cb(err);\n    if (!senderIsValid) return cb(new Error(\"Unknown address - unable to decrypt message for this address: \\\"\".concat(msgParams.from, \"\\\"\")));\n    cb();\n  });\n};\n\nHookedWalletSubprovider.prototype.validateEncryptionPublicKey = function (address, cb) {\n  var self = this;\n  self.validateSender(address, function (err, senderIsValid) {\n    if (err) return cb(err);\n    if (!senderIsValid) return cb(new Error(\"Unknown address - unable to obtain encryption public key for this address: \\\"\".concat(address, \"\\\"\")));\n    cb();\n  });\n};\n\nHookedWalletSubprovider.prototype.validateTypedMessage = function (msgParams, cb) {\n  if (msgParams.from === undefined) return cb(new Error(\"Undefined address - from address required to sign typed data.\"));\n  if (msgParams.data === undefined) return cb(new Error(\"Undefined data - message required to sign typed data.\"));\n  this.validateSender(msgParams.from, function (err, senderIsValid) {\n    if (err) return cb(err);\n    if (!senderIsValid) return cb(new Error(\"Unknown address - unable to sign message for this address: \\\"\".concat(msgParams.from, \"\\\"\")));\n    cb();\n  });\n};\n\nHookedWalletSubprovider.prototype.validateSender = function (senderAddress, cb) {\n  var self = this; // shortcut: undefined sender is invalid\n\n  if (!senderAddress) return cb(null, false);\n  self.getAccounts(function (err, accounts) {\n    if (err) return cb(err);\n    var senderIsValid = accounts.map(toLowerCase).indexOf(senderAddress.toLowerCase()) !== -1;\n    cb(null, senderIsValid);\n  });\n}; //\n// tx helpers\n//\n\n\nHookedWalletSubprovider.prototype.finalizeAndSubmitTx = function (txParams, cb) {\n  var self = this; // can only allow one tx to pass through this flow at a time\n  // so we can atomically consume a nonce\n\n  self.nonceLock.take(function () {\n    waterfall([self.fillInTxExtras.bind(self, txParams), self.signTransaction.bind(self), self.publishTransaction.bind(self)], function (err, txHash) {\n      self.nonceLock.leave();\n      if (err) return cb(err);\n      cb(null, txHash);\n    });\n  });\n};\n\nHookedWalletSubprovider.prototype.finalizeTx = function (txParams, cb) {\n  var self = this; // can only allow one tx to pass through this flow at a time\n  // so we can atomically consume a nonce\n\n  self.nonceLock.take(function () {\n    waterfall([self.fillInTxExtras.bind(self, txParams), self.signTransaction.bind(self)], function (err, signedTx) {\n      self.nonceLock.leave();\n      if (err) return cb(err);\n      cb(null, {\n        raw: signedTx,\n        tx: txParams\n      });\n    });\n  });\n};\n\nHookedWalletSubprovider.prototype.publishTransaction = function (rawTx, cb) {\n  var self = this;\n  self.emitPayload({\n    method: 'eth_sendRawTransaction',\n    params: [rawTx]\n  }, function (err, res) {\n    if (err) return cb(err);\n    cb(null, res.result);\n  });\n};\n\nHookedWalletSubprovider.prototype.estimateGas = function (txParams, cb) {\n  var self = this;\n  estimateGas(self.engine, txParams, cb);\n};\n\nHookedWalletSubprovider.prototype.getGasPrice = function (cb) {\n  var self = this;\n  self.emitPayload({\n    method: 'eth_gasPrice',\n    params: []\n  }, function (err, res) {\n    if (err) return cb(err);\n    cb(null, res.result);\n  });\n};\n\nHookedWalletSubprovider.prototype.fillInTxExtras = function (txParams, cb) {\n  var self = this;\n  var address = txParams.from; // console.log('fillInTxExtras - address:', address)\n\n  var tasks = {};\n\n  if (txParams.gasPrice === undefined) {\n    // console.log(\"need to get gasprice\")\n    tasks.gasPrice = self.getGasPrice.bind(self);\n  }\n\n  if (txParams.nonce === undefined) {\n    // console.log(\"need to get nonce\")\n    tasks.nonce = self.emitPayload.bind(self, {\n      method: 'eth_getTransactionCount',\n      params: [address, 'pending']\n    });\n  }\n\n  if (txParams.gas === undefined) {\n    // console.log(\"need to get gas\")\n    tasks.gas = self.estimateGas.bind(self, cloneTxParams(txParams));\n  }\n\n  parallel(tasks, function (err, taskResults) {\n    if (err) return cb(err);\n    var result = {};\n    if (taskResults.gasPrice) result.gasPrice = taskResults.gasPrice;\n    if (taskResults.nonce) result.nonce = taskResults.nonce.result;\n    if (taskResults.gas) result.gas = taskResults.gas;\n    cb(null, extend(txParams, result));\n  });\n}; // util\n// we use this to clean any custom params from the txParams\n\n\nfunction cloneTxParams(txParams) {\n  return {\n    from: txParams.from,\n    to: txParams.to,\n    value: txParams.value,\n    data: txParams.data,\n    gas: txParams.gas,\n    gasPrice: txParams.gasPrice,\n    nonce: txParams.nonce\n  };\n}\n\nfunction toLowerCase(string) {\n  return string.toLowerCase();\n}\n\nfunction resemblesAddress(string) {\n  var fixed = ethUtil.addHexPrefix(string);\n  var isValid = ethUtil.isValidAddress(fixed);\n  return isValid;\n} // Returns true if resembles hex data\n// but definitely not a valid address.\n\n\nfunction resemblesData(string) {\n  var fixed = ethUtil.addHexPrefix(string);\n  var isValidAddress = ethUtil.isValidAddress(fixed);\n  return !isValidAddress && isValidHex(string);\n}\n\nfunction isValidHex(data) {\n  var isString = typeof data === 'string';\n  if (!isString) return false;\n  var isHexPrefixed = data.slice(0, 2) === '0x';\n  if (!isHexPrefixed) return false;\n  var nonPrefixed = data.slice(2);\n  var isValid = nonPrefixed.match(hexRegex);\n  return isValid;\n}\n\nfunction mustProvideInConstructor(methodName) {\n  return function (params, cb) {\n    cb(new Error('ProviderEngine - HookedWalletSubprovider - Must provide \"' + methodName + '\" fn in constructor options'));\n  };\n}", "'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ethUtil = require('ethereumjs-util');\nvar fees = require('ethereum-common/params.json');\nvar BN = ethUtil.BN;\n\n// secp256k1n/2\nvar N_DIV_2 = new BN('7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0', 16);\n\n/**\n * Creates a new transaction object.\n *\n * @example\n * var rawTx = {\n *   nonce: '00',\n *   gasPrice: '09184e72a000',\n *   gasLimit: '2710',\n *   to: '0000000000000000000000000000000000000000',\n *   value: '00',\n *   data: '7f7465737432000000000000000000000000000000000000000000000000000000600057',\n *   v: '1c',\n *   r: '5e1d3a76fbf824220eafc8c79ad578ad2b67d01b0c2425eb1f1347e8f50882ab',\n *   s: '5bd428537f05f9830e93792f90ea6a3e2d1ee84952dd96edbae9f658f831ab13'\n * };\n * var tx = new Transaction(rawTx);\n *\n * @class\n * @param {Buffer | Array | Object} data a transaction can be initiailized with either a buffer containing the RLP serialized transaction or an array of buffers relating to each of the tx Properties, listed in order below in the exmple.\n *\n * Or lastly an Object containing the Properties of the transaction like in the Usage example.\n *\n * For Object and Arrays each of the elements can either be a Buffer, a hex-prefixed (0x) String , Number, or an object with a toBuffer method such as Bignum\n *\n * @property {Buffer} raw The raw rlp encoded transaction\n * @param {Buffer} data.nonce nonce number\n * @param {Buffer} data.gasLimit transaction gas limit\n * @param {Buffer} data.gasPrice transaction gas price\n * @param {Buffer} data.to to the to address\n * @param {Buffer} data.value the amount of ether sent\n * @param {Buffer} data.data this will contain the data of the message or the init of a contract\n * @param {Buffer} data.v EC signature parameter\n * @param {Buffer} data.r EC signature parameter\n * @param {Buffer} data.s EC recovery ID\n * @param {Number} data.chainId EIP 155 chainId - mainnet: 1, ropsten: 3\n * */\n\nvar Transaction = function () {\n  function Transaction(data) {\n    _classCallCheck(this, Transaction);\n\n    data = data || {};\n    // Define Properties\n    var fields = [{\n      name: 'nonce',\n      length: 32,\n      allowLess: true,\n      default: new Buffer([])\n    }, {\n      name: 'gasPrice',\n      length: 32,\n      allowLess: true,\n      default: new Buffer([])\n    }, {\n      name: 'gasLimit',\n      alias: 'gas',\n      length: 32,\n      allowLess: true,\n      default: new Buffer([])\n    }, {\n      name: 'to',\n      allowZero: true,\n      length: 20,\n      default: new Buffer([])\n    }, {\n      name: 'value',\n      length: 32,\n      allowLess: true,\n      default: new Buffer([])\n    }, {\n      name: 'data',\n      alias: 'input',\n      allowZero: true,\n      default: new Buffer([])\n    }, {\n      name: 'v',\n      allowZero: true,\n      default: new Buffer([0x1c])\n    }, {\n      name: 'r',\n      length: 32,\n      allowZero: true,\n      allowLess: true,\n      default: new Buffer([])\n    }, {\n      name: 's',\n      length: 32,\n      allowZero: true,\n      allowLess: true,\n      default: new Buffer([])\n    }];\n\n    /**\n     * Returns the rlp encoding of the transaction\n     * @method serialize\n     * @return {Buffer}\n     * @memberof Transaction\n     * @name serialize\n     */\n    // attached serialize\n    ethUtil.defineProperties(this, fields, data);\n\n    /**\n     * @property {Buffer} from (read only) sender address of this transaction, mathematically derived from other parameters.\n     * @name from\n     * @memberof Transaction\n     */\n    Object.defineProperty(this, 'from', {\n      enumerable: true,\n      configurable: true,\n      get: this.getSenderAddress.bind(this)\n    });\n\n    // calculate chainId from signature\n    var sigV = ethUtil.bufferToInt(this.v);\n    var chainId = Math.floor((sigV - 35) / 2);\n    if (chainId < 0) chainId = 0;\n\n    // set chainId\n    this._chainId = chainId || data.chainId || 0;\n    this._homestead = true;\n  }\n\n  /**\n   * If the tx's `to` is to the creation address\n   * @return {Boolean}\n   */\n\n\n  Transaction.prototype.toCreationAddress = function toCreationAddress() {\n    return this.to.toString('hex') === '';\n  };\n\n  /**\n   * Computes a sha3-256 hash of the serialized tx\n   * @param {Boolean} [includeSignature=true] whether or not to inculde the signature\n   * @return {Buffer}\n   */\n\n\n  Transaction.prototype.hash = function hash(includeSignature) {\n    if (includeSignature === undefined) includeSignature = true;\n\n    // EIP155 spec:\n    // when computing the hash of a transaction for purposes of signing or recovering,\n    // instead of hashing only the first six elements (ie. nonce, gasprice, startgas, to, value, data),\n    // hash nine elements, with v replaced by CHAIN_ID, r = 0 and s = 0\n\n    var items = void 0;\n    if (includeSignature) {\n      items = this.raw;\n    } else {\n      if (this._chainId > 0) {\n        var raw = this.raw.slice();\n        this.v = this._chainId;\n        this.r = 0;\n        this.s = 0;\n        items = this.raw;\n        this.raw = raw;\n      } else {\n        items = this.raw.slice(0, 6);\n      }\n    }\n\n    // create hash\n    return ethUtil.rlphash(items);\n  };\n\n  /**\n   * returns the public key of the sender\n   * @return {Buffer}\n   */\n\n\n  Transaction.prototype.getChainId = function getChainId() {\n    return this._chainId;\n  };\n\n  /**\n   * returns the sender's address\n   * @return {Buffer}\n   */\n\n\n  Transaction.prototype.getSenderAddress = function getSenderAddress() {\n    if (this._from) {\n      return this._from;\n    }\n    var pubkey = this.getSenderPublicKey();\n    this._from = ethUtil.publicToAddress(pubkey);\n    return this._from;\n  };\n\n  /**\n   * returns the public key of the sender\n   * @return {Buffer}\n   */\n\n\n  Transaction.prototype.getSenderPublicKey = function getSenderPublicKey() {\n    if (!this._senderPubKey || !this._senderPubKey.length) {\n      if (!this.verifySignature()) throw new Error('Invalid Signature');\n    }\n    return this._senderPubKey;\n  };\n\n  /**\n   * Determines if the signature is valid\n   * @return {Boolean}\n   */\n\n\n  Transaction.prototype.verifySignature = function verifySignature() {\n    var msgHash = this.hash(false);\n    // All transaction signatures whose s-value is greater than secp256k1n/2 are considered invalid.\n    if (this._homestead && new BN(this.s).cmp(N_DIV_2) === 1) {\n      return false;\n    }\n\n    try {\n      var v = ethUtil.bufferToInt(this.v);\n      if (this._chainId > 0) {\n        v -= this._chainId * 2 + 8;\n      }\n      this._senderPubKey = ethUtil.ecrecover(msgHash, v, this.r, this.s);\n    } catch (e) {\n      return false;\n    }\n\n    return !!this._senderPubKey;\n  };\n\n  /**\n   * sign a transaction with a given a private key\n   * @param {Buffer} privateKey\n   */\n\n\n  Transaction.prototype.sign = function sign(privateKey) {\n    var msgHash = this.hash(false);\n    var sig = ethUtil.ecsign(msgHash, privateKey);\n    if (this._chainId > 0) {\n      sig.v += this._chainId * 2 + 8;\n    }\n    Object.assign(this, sig);\n  };\n\n  /**\n   * The amount of gas paid for the data in this tx\n   * @return {BN}\n   */\n\n\n  Transaction.prototype.getDataFee = function getDataFee() {\n    var data = this.raw[5];\n    var cost = new BN(0);\n    for (var i = 0; i < data.length; i++) {\n      data[i] === 0 ? cost.iaddn(fees.txDataZeroGas.v) : cost.iaddn(fees.txDataNonZeroGas.v);\n    }\n    return cost;\n  };\n\n  /**\n   * the minimum amount of gas the tx must have (DataFee + TxFee + Creation Fee)\n   * @return {BN}\n   */\n\n\n  Transaction.prototype.getBaseFee = function getBaseFee() {\n    var fee = this.getDataFee().iaddn(fees.txGas.v);\n    if (this._homestead && this.toCreationAddress()) {\n      fee.iaddn(fees.txCreation.v);\n    }\n    return fee;\n  };\n\n  /**\n   * the up front amount that an account must have for this transaction to be valid\n   * @return {BN}\n   */\n\n\n  Transaction.prototype.getUpfrontCost = function getUpfrontCost() {\n    return new BN(this.gasLimit).imul(new BN(this.gasPrice)).iadd(new BN(this.value));\n  };\n\n  /**\n   * validates the signature and checks to see if it has enough gas\n   * @param {Boolean} [stringError=false] whether to return a string with a dscription of why the validation failed or return a Bloolean\n   * @return {Boolean|String}\n   */\n\n\n  Transaction.prototype.validate = function validate(stringError) {\n    var errors = [];\n    if (!this.verifySignature()) {\n      errors.push('Invalid Signature');\n    }\n\n    if (this.getBaseFee().cmp(new BN(this.gasLimit)) > 0) {\n      errors.push(['gas limit is too low. Need at least ' + this.getBaseFee()]);\n    }\n\n    if (stringError === undefined || stringError === false) {\n      return errors.length === 0;\n    } else {\n      return errors.join(' ');\n    }\n  };\n\n  return Transaction;\n}();\n\nmodule.exports = Transaction;", "\"use strict\";\n\nvar stringify = require('json-stable-stringify');\n\nmodule.exports = {\n  cacheIdentifierForPayload: cacheIdentifierForPayload,\n  canCache: canCache,\n  blockTagForPayload: blockTagForPayload,\n  paramsWithoutBlockTag: paramsWithoutBlockTag,\n  blockTagParamIndex: blockTagParamIndex,\n  cacheTypeForPayload: cacheTypeForPayload\n};\n\nfunction cacheIdentifierForPayload(payload) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  if (!canCache(payload)) return null;\n  var includeBlockRef = opts.includeBlockRef;\n  var params = includeBlockRef ? payload.params : paramsWithoutBlockTag(payload);\n  return payload.method + ':' + stringify(params);\n}\n\nfunction canCache(payload) {\n  return cacheTypeForPayload(payload) !== 'never';\n}\n\nfunction blockTagForPayload(payload) {\n  var index = blockTagParamIndex(payload); // Block tag param not passed.\n\n  if (index >= payload.params.length) {\n    return null;\n  }\n\n  return payload.params[index];\n}\n\nfunction paramsWithoutBlockTag(payload) {\n  var index = blockTagParamIndex(payload); // Block tag param not passed.\n\n  if (index >= payload.params.length) {\n    return payload.params;\n  } // eth_getBlockByNumber has the block tag first, then the optional includeTx? param\n\n\n  if (payload.method === 'eth_getBlockByNumber') {\n    return payload.params.slice(1);\n  }\n\n  return payload.params.slice(0, index);\n}\n\nfunction blockTagParamIndex(payload) {\n  switch (payload.method) {\n    // blockTag is third param\n    case 'eth_getStorageAt':\n      return 2;\n    // blockTag is second param\n\n    case 'eth_getBalance':\n    case 'eth_getCode':\n    case 'eth_getTransactionCount':\n    case 'eth_call':\n    case 'eth_estimateGas':\n      return 1;\n    // blockTag is first param\n\n    case 'eth_getBlockByNumber':\n      return 0;\n    // there is no blockTag\n\n    default:\n      return undefined;\n  }\n}\n\nfunction cacheTypeForPayload(payload) {\n  switch (payload.method) {\n    // cache permanently\n    case 'web3_clientVersion':\n    case 'web3_sha3':\n    case 'eth_protocolVersion':\n    case 'eth_getBlockTransactionCountByHash':\n    case 'eth_getUncleCountByBlockHash':\n    case 'eth_getCode':\n    case 'eth_getBlockByHash':\n    case 'eth_getTransactionByHash':\n    case 'eth_getTransactionByBlockHashAndIndex':\n    case 'eth_getTransactionReceipt':\n    case 'eth_getUncleByBlockHashAndIndex':\n    case 'eth_getCompilers':\n    case 'eth_compileLLL':\n    case 'eth_compileSolidity':\n    case 'eth_compileSerpent':\n    case 'shh_version':\n      return 'perma';\n    // cache until fork\n\n    case 'eth_getBlockByNumber':\n    case 'eth_getBlockTransactionCountByNumber':\n    case 'eth_getUncleCountByBlockNumber':\n    case 'eth_getTransactionByBlockNumberAndIndex':\n    case 'eth_getUncleByBlockNumberAndIndex':\n      return 'fork';\n    // cache for block\n\n    case 'eth_gasPrice':\n    case 'eth_getBalance':\n    case 'eth_getStorageAt':\n    case 'eth_getTransactionCount':\n    case 'eth_call':\n    case 'eth_estimateGas':\n    case 'eth_getFilterLogs':\n    case 'eth_getLogs':\n    case 'eth_blockNumber':\n      return 'block';\n    // never cache\n\n    case 'net_version':\n    case 'net_peerCount':\n    case 'net_listening':\n    case 'eth_syncing':\n    case 'eth_sign':\n    case 'eth_coinbase':\n    case 'eth_mining':\n    case 'eth_hashrate':\n    case 'eth_accounts':\n    case 'eth_sendTransaction':\n    case 'eth_sendRawTransaction':\n    case 'eth_newFilter':\n    case 'eth_newBlockFilter':\n    case 'eth_newPendingTransactionFilter':\n    case 'eth_uninstallFilter':\n    case 'eth_getFilterChanges':\n    case 'eth_getWork':\n    case 'eth_submitWork':\n    case 'eth_submitHashrate':\n    case 'db_putString':\n    case 'db_getString':\n    case 'db_putHex':\n    case 'db_getHex':\n    case 'shh_post':\n    case 'shh_newIdentity':\n    case 'shh_hasIdentity':\n    case 'shh_newGroup':\n    case 'shh_addToGroup':\n    case 'shh_newFilter':\n    case 'shh_uninstallFilter':\n    case 'shh_getFilterChanges':\n    case 'shh_getMessages':\n      return 'never';\n  }\n}", "\"use strict\";\n\nvar inherits = require('util').inherits;\n\nvar Transaction = require('ethereumjs-tx');\n\nvar ethUtil = require('ethereumjs-util');\n\nvar Subprovider = require('./subprovider.js');\n\nvar blockTagForPayload = require('../util/rpc-cache-utils').blockTagForPayload;\n\nmodule.exports = NonceTrackerSubprovider; // handles the following RPC methods:\n//   eth_getTransactionCount (pending only)\n//\n// observes the following RPC methods:\n//   eth_sendRawTransaction\n//   evm_revert (to clear the nonce cache)\n\ninherits(NonceTrackerSubprovider, Subprovider);\n\nfunction NonceTrackerSubprovider(opts) {\n  var self = this;\n  self.nonceCache = {};\n}\n\nNonceTrackerSubprovider.prototype.handleRequest = function (payload, next, end) {\n  var self = this;\n\n  switch (payload.method) {\n    case 'eth_getTransactionCount':\n      var blockTag = blockTagForPayload(payload);\n      var address = payload.params[0].toLowerCase();\n      var cachedResult = self.nonceCache[address]; // only handle requests against the 'pending' blockTag\n\n      if (blockTag === 'pending') {\n        // has a result\n        if (cachedResult) {\n          end(null, cachedResult); // fallthrough then populate cache\n        } else {\n          next(function (err, result, cb) {\n            if (err) return cb();\n\n            if (self.nonceCache[address] === undefined) {\n              self.nonceCache[address] = result;\n            }\n\n            cb();\n          });\n        }\n      } else {\n        next();\n      }\n\n      return;\n\n    case 'eth_sendRawTransaction':\n      // allow the request to continue normally\n      next(function (err, result, cb) {\n        // only update local nonce if tx was submitted correctly\n        if (err) return cb(); // parse raw tx\n\n        var rawTx = payload.params[0];\n        var stripped = ethUtil.stripHexPrefix(rawTx);\n        var rawData = Buffer.from(ethUtil.stripHexPrefix(rawTx), 'hex');\n        var tx = new Transaction(Buffer.from(ethUtil.stripHexPrefix(rawTx), 'hex')); // extract address\n\n        var address = '0x' + tx.getSenderAddress().toString('hex').toLowerCase(); // extract nonce and increment\n\n        var nonce = ethUtil.bufferToInt(tx.nonce);\n        nonce++; // hexify and normalize\n\n        var hexNonce = nonce.toString(16);\n        if (hexNonce.length % 2) hexNonce = '0' + hexNonce;\n        hexNonce = '0x' + hexNonce; // dont update our record on the nonce until the submit was successful\n        // update cache\n\n        self.nonceCache[address] = hexNonce;\n        cb();\n      });\n      return;\n    // Clear cache on a testrpc revert\n\n    case 'evm_revert':\n      self.nonceCache = {};\n      next();\n      return;\n\n    default:\n      next();\n      return;\n  }\n};", "\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar ProviderSubprovider = require('./json-rpc-engine-middleware');\n\nvar createSubscriptionManager = require('eth-json-rpc-filters/subscriptionManager');\n\nvar SubscriptionsSubprovider = /*#__PURE__*/function (_ProviderSubprovider) {\n  _inherits(SubscriptionsSubprovider, _ProviderSubprovider);\n\n  var _super = _createSuper(SubscriptionsSubprovider);\n\n  function SubscriptionsSubprovider() {\n    _classCallCheck(this, SubscriptionsSubprovider);\n\n    return _super.call(this, function (_ref) {\n      var blockTracker = _ref.blockTracker,\n          provider = _ref.provider,\n          engine = _ref.engine;\n\n      var _createSubscriptionMa = createSubscriptionManager({\n        blockTracker: blockTracker,\n        provider: provider\n      }),\n          events = _createSubscriptionMa.events,\n          middleware = _createSubscriptionMa.middleware; // forward subscription events on the engine\n\n\n      events.on('notification', function (data) {\n        return engine.emit('data', null, data);\n      }); // return the subscription install/remove middleware\n\n      return middleware;\n    });\n  }\n\n  return SubscriptionsSubprovider;\n}(ProviderSubprovider);\n\nmodule.exports = SubscriptionsSubprovider;", "import d from \"./node_modules/@portis/web3/es/index.js\";export default d;", "import { INetwork } from './interfaces';\n\nexport function networkAdapter(network: string | INetwork, gasRelay?: boolean) {\n  const networkObj = typeof network === 'string' ? Object.assign({}, networks[network]) : network;\n\n  if (typeof networkObj !== 'object') {\n    throw new Error(\n      \"[Portis] illegal 'network' parameter. Read more about it here: https://docs.portis.io/#/configuration?id=network\",\n    );\n  }\n\n  if (!networkObj.nodeUrl) {\n    throw new Error(\n      \"[Portis] 'nodeUrl' is required. Read more about it here: https://docs.portis.io/#/configuration?id=network\",\n    );\n  }\n\n  if (gasRelay && !networkObj.gasRelayHubAddress) {\n    throw new Error(`[Portis] can't find default gas relay hub for ${network}`);\n  }\n\n  if (typeof network === 'string' && !gasRelay) {\n    delete networkObj.gasRelayHubAddress;\n  }\n\n  return networkObj;\n}\n\nconst networks: { [key: string]: INetwork } = {\n  mainnet: {\n    nodeUrl: 'https://mainnet.infura.io/v3/faa4639b090f46499f29d894da0551a0',\n    chainId: '1',\n    gasRelayHubAddress: '0xD216153c06E857cD7f72665E0aF1d7D82172F494',\n  },\n  ropsten: {\n    nodeUrl: 'https://ropsten.infura.io/v3/faa4639b090f46499f29d894da0551a0',\n    chainId: '3',\n    gasRelayHubAddress: '0xD216153c06E857cD7f72665E0aF1d7D82172F494',\n  },\n  rinkeby: {\n    nodeUrl: 'https://rinkeby.infura.io/v3/faa4639b090f46499f29d894da0551a0',\n    chainId: '4',\n    gasRelayHubAddress: '0xD216153c06E857cD7f72665E0aF1d7D82172F494',\n  },\n  goerli: {\n    nodeUrl: 'https://goerli.infura.io/v3/faa4639b090f46499f29d894da0551a0',\n    chainId: '5',\n  },\n  ubiq: {\n    nodeUrl: 'https://rpc1.ubiqscan.io',\n    chainId: '8',\n  },\n  thundercoreTestnet: {\n    nodeUrl: 'https://testnet-rpc.thundercore.com:8544',\n    chainId: '18',\n  },\n  orchid: {\n    nodeUrl: 'https://public-node.rsk.co',\n    chainId: '30',\n  },\n  orchidTestnet: {\n    nodeUrl: 'https://public-node.testnet.rsk.co',\n    chainId: '31',\n  },\n  kovan: {\n    nodeUrl: 'https://kovan.infura.io/v3/faa4639b090f46499f29d894da0551a0',\n    chainId: '42',\n    gasRelayHubAddress: '0xD216153c06E857cD7f72665E0aF1d7D82172F494',\n  },\n  classic: {\n    nodeUrl: 'https://ethereumclassic.network',\n    chainId: '61',\n  },\n  sokol: {\n    nodeUrl: 'https://sokol.poa.network',\n    chainId: '77',\n  },\n  core: {\n    nodeUrl: 'https://core.poa.network',\n    chainId: '99',\n  },\n  xdai: {\n    nodeUrl: 'https://dai.poa.network',\n    chainId: '100',\n    gasRelayHubAddress: '0xD216153c06E857cD7f72665E0aF1d7D82172F494',\n  },\n  thundercore: {\n    nodeUrl: 'https://mainnet-rpc.thundercore.com',\n    chainId: '108',\n  },\n  fuse: {\n    nodeUrl: 'https://rpc.fusenet.io',\n    chainId: '122',\n  },\n  lightstreams: {\n    nodeUrl: 'https://node.mainnet.lightstreams.io',\n    chainId: '163',\n  },\n  matic: {\n    nodeUrl: 'https://rpc-mainnet.matic.network',\n    chainId: '137',\n  },\n  maticMumbai: {\n    nodeUrl: 'https://rpc-mumbai.matic.today',\n    chainId: '80001',\n  },\n  maticAlpha: {\n    nodeUrl: 'https://alpha.ethereum.matic.network',\n    chainId: '4626',\n  },\n  maticTestnet: {\n    nodeUrl: 'https://testnet2.matic.network',\n    chainId: '8995',\n  },\n};\n", "import { isClientSide } from './isClientSide';\n\nlet loaded = false;\n\nexport function onWindowLoad() {\n  return new Promise<void>((resolve, reject) => {\n    if (!isClientSide()) {\n      reject();\n    } else if (loaded) {\n      resolve();\n    } else if (['loaded', 'interactive', 'complete'].indexOf(document.readyState) > -1) {\n      loaded = true;\n      resolve();\n    } else {\n      window.addEventListener(\n        'load',\n        () => {\n          loaded = true;\n          resolve();\n        },\n        false,\n      );\n    }\n  });\n}\n", "export const isClientSide = () => !!(typeof window !== 'undefined' && window.document);\n", "export function validateSecureOrigin() {\n  const isLocalhost = location.hostname === 'localhost' || location.hostname === '127.0.0.1';\n  const isSecureOrigin = location.protocol === 'https:';\n  const isSecure = isLocalhost || isSecureOrigin;\n\n  if (!isSecure) {\n    throw `[Portis] Access to the WebCrypto API is restricted to secure origins.\\nIf this is a development environment please use http://localhost:${\n      location.port\n    } instead.\\nOtherwise, please use an SSL certificate.`;\n  }\n}\n", "import Penpal from 'penpal';\nimport { ISDKConfig, IConnectionMethods, IWidget, BTCSignTxSDKInput, IPurchaseERC20Params } from '../interfaces';\n\nimport { onWindowLoad } from '../utils/onWindowLoad';\nimport { styles } from '../styles';\nimport { validateSecureOrigin } from '../utils/secureOrigin';\n\n// Create a .env file to override the default WIDGET_URL when running locally\nconst WIDGET_URL = process.env.PORTIS_WIDGET_URL || 'https://widget.portis.io';\nconst STAGING_WIDGET_URL = 'https://widget-staging.portis.io';\nconst PORTIS_IFRAME_CLASS = 'por_portis-widget-frame';\nconst PORTIS_CONTAINER_CLASS = 'por_portis-container';\n\nexport function windowLoadHandler() {\n  if (document.getElementsByClassName(PORTIS_IFRAME_CLASS).length) {\n    console.warn(\n      'Portis script was already loaded. This might cause unexpected behavior. If loading with a <script> tag, please make sure that you only load it once.',\n    );\n  }\n}\n\nexport default class WidgetManager {\n  private widgetPromise?: Promise<IWidget>;\n  private widgetInstance?: IWidget;\n  private _widgetUrl = WIDGET_URL;\n  private _onLoginCallback: (walletAddress: string, email?: string, reputation?: string) => void = () => {};\n  private _onLogoutCallback: () => void = () => {};\n  private _onActiveWalletChangedCallback: (walletAddress: string) => void = () => {};\n  private _onErrorCallback: (error: Error) => void = () => {};\n\n  constructor(private _widgetConfig: ISDKConfig, private _clearProviderSession: () => void) {\n    validateSecureOrigin();\n    if (_widgetConfig.staging) {\n      console.warn('Please note: you are using the Portis STAGING environment.');\n      this._widgetUrl = STAGING_WIDGET_URL;\n    }\n    WidgetManager._checkIfWidgetAlreadyInitialized();\n  }\n\n  // async singleton\n  async getWidget() {\n    if (!this.widgetInstance) {\n      if (!this.widgetPromise) {\n        this.widgetPromise = this._initWidget();\n      }\n      this.widgetInstance = await this.widgetPromise;\n    }\n    return this.widgetInstance;\n  }\n\n  setDefaultEmail(email: string) {\n    this._widgetConfig.defaultEmail = email;\n  }\n\n  // Population by the dev of SDK callbacks that might be invoked by the widget\n\n  setOnLoginCallback(callback: (walletAddress: string, email?: string, reputation?: string) => void) {\n    this._onLoginCallback = callback;\n  }\n\n  setOnLogoutCallback(callback: () => void) {\n    this._onLogoutCallback = callback;\n  }\n\n  setOnActiveWalletChangedCallback(callback: (walletAddress: string) => void) {\n    this._onActiveWalletChangedCallback = callback;\n  }\n\n  setOnErrorCallback(callback: (error: Error) => void) {\n    this._onErrorCallback = callback;\n  }\n\n  // SDK methods that could be invoked by the user and handled by the widget\n\n  async showPortis() {\n    const widgetCommunication = (await this.getWidget()).communication;\n    return widgetCommunication.showPortis(this._widgetConfig);\n  }\n\n  async getCampaignInfo(campaignId: string) {\n    const widgetCommunication = (await this.getWidget()).communication;\n    return widgetCommunication.getCampaignInfo(campaignId);\n  }\n\n  async claimVoucher(voucherId: string) {\n    const widgetCommunication = (await this.getWidget()).communication;\n    return widgetCommunication.claimVoucher(voucherId, this._widgetConfig);\n  }\n\n  async logout() {\n    const widgetCommunication = (await this.getWidget()).communication;\n    return widgetCommunication.logout();\n  }\n\n  async getExtendedPublicKey(path: string = \"m/44'/60'/0'/0/0\", coin: string = 'Ethereum') {\n    const widgetCommunication = (await this.getWidget()).communication;\n    return widgetCommunication.getExtendedPublicKey(path, coin, this._widgetConfig);\n  }\n\n  async importWallet(mnemonicOrPrivateKey: string) {\n    const widgetCommunication = (await this.getWidget()).communication;\n    return widgetCommunication.importWallet(mnemonicOrPrivateKey, this._widgetConfig);\n  }\n\n  async isLoggedIn() {\n    const widgetCommunication = (await this.getWidget()).communication;\n    return widgetCommunication.isLoggedIn();\n  }\n\n  async signBitcoinTransaction(params: BTCSignTxSDKInput) {\n    const widgetCommunication = (await this.getWidget()).communication;\n    return widgetCommunication.signBitcoinTransaction(params, this._widgetConfig);\n  }\n\n  async showBitcoinWallet(path: string = \"m/49'/0'/0'/0/0\") {\n    const widgetCommunication = (await this.getWidget()).communication;\n    return widgetCommunication.showBitcoinWallet(path, this._widgetConfig);\n  }\n\n  async purchaseERC20(params: IPurchaseERC20Params) {\n    const widgetCommunication = (await this.getWidget()).communication;\n    return widgetCommunication.purchaseERC20(params, this._widgetConfig);\n  }\n\n  // internal methods\n\n  private static _checkIfWidgetAlreadyInitialized() {\n    if (document.getElementsByClassName(PORTIS_CONTAINER_CLASS).length) {\n      console.warn(\n        'An instance of Portis was already initialized. This is probably a mistake. Make sure that you use the same Portis instance throughout your app.',\n      );\n    }\n  }\n\n  private async _initWidget(): Promise<IWidget> {\n    await onWindowLoad();\n\n    const style = document.createElement('style');\n    style.innerHTML = styles;\n\n    const container = document.createElement('div');\n    container.className = PORTIS_CONTAINER_CLASS;\n\n    const widgetFrame = document.createElement('div');\n    widgetFrame.id = `portis-container-${Date.now()}`;\n    widgetFrame.className = PORTIS_IFRAME_CLASS;\n\n    container.appendChild(widgetFrame);\n    document.body.appendChild(container);\n    document.head.appendChild(style);\n\n    const connection = Penpal.connectToChild<IConnectionMethods>({\n      url: this._widgetUrl,\n      appendTo: document.getElementById(widgetFrame.id)!,\n      methods: {\n        setHeight: this._setHeight.bind(this),\n        getWindowSize: WidgetManager._getWindowSize.bind(this),\n        onLogin: this._onLogin.bind(this),\n        onLogout: this._onLogout.bind(this),\n        onActiveWalletChanged: this._onActiveWalletChanged.bind(this),\n        onError: this._onError.bind(this),\n      },\n    });\n\n    const communication = await connection.promise;\n    communication.setSdkConfig(this._widgetConfig);\n    connection.iframe.style.position = 'absolute';\n    connection.iframe.style.height = '100%';\n    connection.iframe.style.width = '100%';\n    connection.iframe.style.border = '0 transparent';\n\n    return { communication, widgetFrame };\n  }\n\n  private async _setHeight(height: number) {\n    const widgetFrame = (await this.getWidget()).widgetFrame;\n    widgetFrame.style.height = `${height}px`;\n  }\n\n  private static _getWindowSize() {\n    const body = document.getElementsByTagName('body')[0];\n    const width = window.innerWidth || document.documentElement.clientWidth || body.clientWidth;\n    const height = window.innerHeight || document.documentElement.clientHeight || body.clientHeight;\n    return { width, height };\n  }\n\n  private _onLogin(walletAddress: string, email?: string, reputation?: string) {\n    if (this._onLoginCallback) {\n      this._onLoginCallback(walletAddress, email, reputation);\n    }\n  }\n\n  private _onLogout() {\n    this._clearProviderSession();\n    if (this._onLogoutCallback) {\n      this._onLogoutCallback();\n    }\n  }\n\n  private _onActiveWalletChanged(walletAddress: string) {\n    if (this._onActiveWalletChangedCallback) {\n      this._onActiveWalletChangedCallback(walletAddress);\n    }\n  }\n\n  private _onError(error: Error) {\n    if (this._onErrorCallback) {\n      this._onErrorCallback(error);\n    }\n  }\n}\n", "export const styles = `\n.por_portis-container {\n  position: fixed;\n  width: 0px;\n  height: 0px;\n  top: 0px;\n  right: 0px;\n  z-index: 2147483647;\n}\n\n@media (max-width: 576px) {\n  .por_portis-container {\n    bottom: 0;\n    top: auto;\n  }\n}\n\n.por_portis-widget-frame {\n  position: fixed;\n  width: 375px;\n  height: 0;\n  top: 20px;\n  right: 20px;\n  box-shadow: 0 5px 40px rgba(0,0,0,.16);\n  border-radius: 8px;\n  overflow: hidden;\n  z-index: 2147483000;\n}\n\n@media (max-width: 576px) {\n  .por_portis-widget-frame {\n    bottom: 0;\n    top: auto;\n    width: 100%;\n    right: 0;\n    left: 0;\n    border-bottom-left-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n}\n`;\n", "import { Query } from './query';\n\nconst { addHexPrefix, stripHexPrefix, BN } = require('ethereumjs-util');\nconst SIMPLE_GAS_COST = '0x5208'; // Hex for 21000, cost of a simple send.\n\ntype TxParams = any;\ntype GasHex = string;\n\nexport async function getTxGas(query: Query, txParams: any) {\n  const block = await query.getBlockByNumber('latest', false);\n  const { safeGas, simpleSend, gasLimitSpecified } = await safeTxGas(query, txParams, block.gasLimit);\n\n  if (simpleSend || gasLimitSpecified) {\n    return safeGas;\n  }\n\n  try {\n    const gas = await estimateTxGas(query, txParams, block.gasLimit, safeGas);\n    return gas;\n  } catch (error) {\n    return safeGas;\n  }\n}\n\nasync function safeTxGas(query: Query, txParams: TxParams, blockGasLimitHex: GasHex) {\n  // check if gasLimit is already specified\n  const gasLimitSpecified = Boolean(txParams.gas);\n\n  // if it is, use that value\n  if (gasLimitSpecified) {\n    return { safeGas: txParams.gas, simpleSend: false, gasLimitSpecified: true };\n  }\n\n  const recipient = txParams.to;\n  const hasRecipient = Boolean(recipient);\n\n  // see if we can set the gas based on the recipient\n  if (hasRecipient) {\n    const code = await query.getCode(recipient);\n    // For an address with no code, geth will return '0x', and ganache-core v2.2.1 will return '0x0'\n    const codeIsEmpty = !code || code === '0x' || code === '0x0';\n\n    if (codeIsEmpty) {\n      // if there's data in the params, but there's no contract code, it's not a valid transaction\n      if (txParams.data) {\n        const err = new Error('Trying to call a function on a non-contract address');\n        throw err;\n      }\n\n      // This is a standard ether simple send, gas requirement is exactly 21k\n      return { safeGas: SIMPLE_GAS_COST, simpleSend: true, gasLimitSpecified: false };\n    }\n  }\n\n  // fallback to block gasLimit\n  const blockGasLimitBN = hexToBn(blockGasLimitHex);\n  const saferGasLimitBN = BnMultiplyByFraction(blockGasLimitBN, 19, 20);\n  return { safeGas: bnToHex(saferGasLimitBN), simpleSend: false, gasLimitSpecified: false };\n}\n\nasync function estimateTxGas(query: Query, txParams: TxParams, blockGasLimitHex: GasHex, safeGas: GasHex) {\n  txParams.gas = safeGas;\n  const estimatedGas = addHexPrefix(await query.estimateGas(txParams));\n  return addGasBuffer(estimatedGas, blockGasLimitHex);\n}\n\nfunction addGasBuffer(initialGasLimitHex: GasHex, blockGasLimitHex: GasHex) {\n  const initialGasLimitBn = hexToBn(initialGasLimitHex);\n  const blockGasLimitBn = hexToBn(blockGasLimitHex);\n  const upperGasLimitBn = blockGasLimitBn.muln(0.9);\n  const bufferedGasLimitBn = initialGasLimitBn.muln(1.5);\n\n  // if initialGasLimit is above blockGasLimit, dont modify it\n  if (initialGasLimitBn.gt(upperGasLimitBn)) return bnToHex(initialGasLimitBn);\n  // if bufferedGasLimit is below blockGasLimit, use bufferedGasLimit\n  if (bufferedGasLimitBn.lt(upperGasLimitBn)) return bnToHex(bufferedGasLimitBn);\n  // otherwise use blockGasLimit\n  return bnToHex(upperGasLimitBn);\n}\n\nfunction hexToBn(inputHex: GasHex) {\n  return new BN(stripHexPrefix(inputHex), 16);\n}\n\nfunction bnToHex(inputBn: typeof BN) {\n  return addHexPrefix(inputBn.toString(16));\n}\n\nfunction BnMultiplyByFraction(targetBN: typeof BN, numerator: typeof BN, denominator: typeof BN) {\n  const numBN = new BN(numerator);\n  const denomBN = new BN(denominator);\n  return targetBN.mul(numBN).div(denomBN);\n}\n", "export class Query {\n  constructor(private provider: any) {}\n\n  getBlockByNumber(blockNumber: string, fullTransaction: boolean) {\n    return this.sendAsync('eth_getBlockByNumber', blockNumber, fullTransaction);\n  }\n\n  getCode(address: string, blockNumber: string = 'latest') {\n    return this.sendAsync('eth_getCode', address, blockNumber);\n  }\n\n  estimateGas(txParams: any) {\n    return this.sendAsync('eth_estimateGas', txParams);\n  }\n\n  private sendAsync(methodName: string, ...args: any[]) {\n    return new Promise<any>((resolve, reject) => {\n      this.provider.sendAsync(\n        {\n          id: 42,\n          jsonrpc: '2.0',\n          method: methodName,\n          params: args,\n        },\n        (error: any, response: any) => {\n          if (error) {\n            reject(error);\n          } else {\n            resolve(response.result);\n          }\n        },\n      );\n    });\n  }\n}\n", "const ProviderEngine = require('web3-provider-engine');\nconst CacheSubprovider = require('web3-provider-engine/dist/es5/subproviders/cache.js');\nconst FixtureSubprovider = require('web3-provider-engine/dist/es5/subproviders/fixture.js');\nconst FilterSubprovider = require('web3-provider-engine/dist/es5/subproviders/filters.js');\nconst HookedWalletSubprovider = require('web3-provider-engine/dist/es5/subproviders/hooked-wallet.js');\nconst NonceSubprovider = require('web3-provider-engine/dist/es5/subproviders/nonce-tracker.js');\nconst SubscriptionsSubprovider = require('web3-provider-engine/dist/es5/subproviders/subscriptions.js');\nimport { networkAdapter } from '../networks';\nimport { ISDKConfig, INetwork, IConnectionMethods } from '../interfaces';\nimport { getTxGas } from '../utils/getTxGas';\nimport { Query } from '../utils/query';\nimport { AsyncMethodReturns } from 'penpal';\n\ntype ProviderCallback = (error: string | null, result: any) => void;\nexport default class Web3Manager {\n  private engine: typeof ProviderEngine;\n  provider: typeof ProviderEngine;\n  private _selectedAddress?: string;\n  private _network?: string;\n\n  constructor(\n    private config: ISDKConfig,\n    private _getWidgetCommunication: () => Promise<AsyncMethodReturns<IConnectionMethods>>,\n  ) {\n    this.provider = this._initProvider();\n  }\n\n  setSelectedAddress(selectedAddress: string) {\n    this._selectedAddress = selectedAddress;\n  }\n\n  changeNetwork(network: string | INetwork, gasRelay?: boolean) {\n    const newNetwork = networkAdapter(network, gasRelay);\n    this.clearSubprovider(NonceSubprovider);\n    this.clearSubprovider(CacheSubprovider);\n    this.config.network = newNetwork;\n  }\n\n  private _initProvider() {\n    // don't init the engine twice\n    if (this.engine) {\n      return this.engine;\n    }\n\n    this.engine = new ProviderEngine();\n    const query = new Query(this.engine);\n\n    this.engine.send = (payload: any, callback: any) => {\n      // Web3 1.0 beta.38 (and above) calls `send` with method and parameters\n      if (typeof payload === 'string') {\n        return new Promise((resolve, reject) => {\n          this.engine.sendAsync(\n            {\n              jsonrpc: '2.0',\n              id: 42,\n              method: payload,\n              params: callback || [],\n            },\n            (error: any, response: any) => {\n              if (error) {\n                reject(error);\n              } else {\n                resolve(response.result);\n              }\n            },\n          );\n        });\n      }\n\n      // Web3 1.0 beta.37 (and below) uses `send` with a callback for async queries\n      if (callback) {\n        this.engine.sendAsync(payload, callback);\n        return;\n      }\n\n      let result: any = null;\n      switch (payload.method) {\n        case 'eth_accounts':\n          result = this._selectedAddress ? [this._selectedAddress] : [];\n          break;\n\n        case 'eth_coinbase':\n          result = this._selectedAddress ? [this._selectedAddress] : [];\n          break;\n\n        case 'net_version':\n          result = this._network;\n          break;\n\n        case 'eth_uninstallFilter':\n          this.engine.sendAsync(payload, (_: any) => _);\n          result = true;\n          break;\n\n        default:\n          var message = `The Portis Web3 object does not support synchronous methods like ${\n            payload.method\n          } without a callback parameter.`;\n          throw new Error(message);\n      }\n\n      return {\n        id: payload.id,\n        jsonrpc: payload.jsonrpc,\n        result,\n      };\n    };\n\n    this.engine.addProvider(\n      new FixtureSubprovider({\n        web3_clientVersion: `Portis/v${this.config.version}/javascript`,\n        net_listening: true,\n        eth_hashrate: '0x00',\n        eth_mining: false,\n        eth_syncing: true,\n      }),\n    );\n\n    // cache layer\n    this.engine.addProvider(new CacheSubprovider());\n\n    // subscriptions manager\n    this.engine.addProvider(new SubscriptionsSubprovider());\n\n    // filters\n    this.engine.addProvider(new FilterSubprovider());\n\n    // pending nonce\n    this.engine.addProvider(new NonceSubprovider());\n\n    // set default id when needed\n    this.engine.addProvider({\n      setEngine: (_: any) => _,\n      handleRequest: async (payload: any, next: () => {}) => {\n        if (!payload.id) {\n          payload.id = 42;\n        }\n        next();\n      },\n    });\n\n    // main web3 functionality - carried out via widget communication\n    this.engine.addProvider(\n      new HookedWalletSubprovider({\n        getAccounts: async (cb: ProviderCallback) => {\n          const widgetCommunication = await this._getWidgetCommunication();\n          const { error, result } = await widgetCommunication.getAccounts(this.config);\n          if (!error && result) {\n            this._selectedAddress = result[0];\n          }\n          cb(error, result);\n        },\n        signTransaction: async (txParams: any, cb: ProviderCallback) => {\n          const widgetCommunication = await this._getWidgetCommunication();\n          const { error, result } = await widgetCommunication.signTransaction(txParams, this.config);\n          cb(error, result);\n        },\n        signMessage: async (msgParams: any, cb: ProviderCallback) => {\n          const widgetCommunication = await this._getWidgetCommunication();\n          const params = { ...msgParams, messageStandard: 'signMessage' };\n          const { error, result } = await widgetCommunication.signMessage(params, this.config);\n          cb(error, result);\n        },\n        signPersonalMessage: async (msgParams: any, cb: ProviderCallback) => {\n          const widgetCommunication = await this._getWidgetCommunication();\n          const params = { ...msgParams, messageStandard: 'signPersonalMessage' };\n          const { error, result } = await widgetCommunication.signMessage(params, this.config);\n          cb(error, result);\n        },\n        signTypedMessage: async (msgParams: any, cb: ProviderCallback) => {\n          const widgetCommunication = await this._getWidgetCommunication();\n          const params = { ...msgParams, messageStandard: 'signTypedMessage' };\n          const { error, result } = await widgetCommunication.signMessage(params, this.config);\n          cb(error, result);\n        },\n        signTypedMessageV3: async (msgParams: any, cb: ProviderCallback) => {\n          const widgetCommunication = await this._getWidgetCommunication();\n          const params = { ...msgParams, messageStandard: 'signTypedMessageV3' };\n          const { error, result } = await widgetCommunication.signMessage(params, this.config);\n          cb(error, result);\n        },\n        estimateGas: async (txParams: any, cb: ProviderCallback) => {\n          const gas = await getTxGas(query, txParams);\n          cb(null, gas);\n        },\n        getGasPrice: async (cb: ProviderCallback) => {\n          cb(null, '');\n        },\n      }),\n    );\n\n    this.engine.addProvider({\n      setEngine: (_: any) => _,\n      handleRequest: async (payload: any, next: () => {}, end: (error: string | null, result: any) => {}) => {\n        const widgetCommunication = await this._getWidgetCommunication();\n        const { error, result } = await widgetCommunication.relay(payload, this.config);\n        if (payload.method === 'net_version') {\n          this._network = result;\n          this.engine.networkVersion = this._network;\n        }\n        end(error, result);\n      },\n    });\n\n    this.engine.enable = () =>\n      new Promise((resolve, reject) => {\n        this.engine.sendAsync({ method: 'eth_accounts' }, (error: any, response: any) => {\n          if (error) {\n            reject(error);\n          } else {\n            resolve(response.result);\n          }\n        });\n      });\n\n    this.engine.isConnected = () => {\n      return true;\n    };\n\n    this.engine.isPortis = true;\n\n    this.engine.on('error', (error: any) => {\n      if (error && error.message && error.message.includes('PollingBlockTracker')) {\n        console.warn('If you see this warning constantly, there might be an error with your RPC node.');\n      } else {\n        console.error(error);\n      }\n    });\n\n    this.engine.start();\n    return this.engine;\n  }\n\n  private clearSubprovider(subproviderType: any) {\n    const subprovider = this.provider._providers.find((subprovider: any) => subprovider instanceof subproviderType);\n    this.provider.removeProvider(subprovider);\n    this.provider.addProvider(new subproviderType());\n  }\n}\n", "export const mockify = <T extends {}>(obj: T): T =>\n  new Proxy(obj, {\n    get: (target: any, prop) => {\n      if (target[prop] instanceof Function) {\n        return () => {};\n      } else {\n        return undefined;\n      }\n    },\n  }) as T;\n", "import { networkAdapter } from './networks';\nimport { INetwork, IOptions, BTCSignTxSDKInput, ISDKConfig, IWidget } from './interfaces';\nimport { onWindowLoad } from './utils/onWindowLoad';\nimport { validateSecureOrigin } from './utils/secureOrigin';\nimport WidgetManager, { windowLoadHandler } from './widget/widgetManager';\nimport Web3Manager from './web3/web3Manager';\nimport { isClientSide } from './utils/isClientSide';\nimport { mockify } from './utils/mockify';\n\nconst VERSION = '$$PORTIS_SDK_VERSION$$';\n\nconst SUPPORTED_SCOPES = ['email', 'reputation'];\n\nonWindowLoad()\n  .then(windowLoadHandler)\n  .catch(() => {}); // Prevents unhandledPromiseRejectionWarning, which happens when using React SSR;\n\nclass Portis {\n  private _widgetManagerInstance?: WidgetManager;\n  private _web3ManagerInstance?: Web3Manager;\n  private _config?: ISDKConfig;\n\n  constructor(dappId: string, network: string | INetwork, options: IOptions = {}) {\n    // If rendered in SSR, return a mock version of the Portis object.\n    // All methods are callable and all properties exist, but they do nothing.\n    if (!isClientSide()) {\n      return mockify<Portis>(this);\n    }\n\n    validateSecureOrigin();\n    this._validateParams(dappId, network, options);\n    this._config = {\n      dappId,\n      network: networkAdapter(network, options.gasRelay),\n      version: VERSION,\n      scope: options.scope,\n      registerPageByDefault: options.registerPageByDefault,\n      staging: options.staging,\n    };\n\n    this._getWidgetCommunication = this._getWidgetCommunication.bind(this);\n    this._widgetManagerInstance = new WidgetManager(this.config, this._clearProviderSession);\n    this._web3ManagerInstance = new Web3Manager(this.config, this._getWidgetCommunication);\n\n    this.setDefaultEmail = this.setDefaultEmail.bind(this);\n    this.changeNetwork = this.changeNetwork.bind(this);\n    this.getWidget = this.getWidget.bind(this);\n    this.onLogin = this.onLogin.bind(this);\n    this.onLogout = this.onLogout.bind(this);\n    this.onActiveWalletChanged = this.onActiveWalletChanged.bind(this);\n    this.onError = this.onError.bind(this);\n    this.showPortis = this.showPortis.bind(this);\n    this.getCampaignInfo = this.getCampaignInfo.bind(this);\n    this.claimVoucher = this.claimVoucher.bind(this);\n    this.getExtendedPublicKey = this.getExtendedPublicKey.bind(this);\n    this.importWallet = this.importWallet.bind(this);\n    this.isLoggedIn = this.isLoggedIn.bind(this);\n    this.signBitcoinTransaction = this.signBitcoinTransaction.bind(this);\n    this.showBitcoinWallet = this.showBitcoinWallet.bind(this);\n    this.purchaseERC20 = this.purchaseERC20.bind(this);\n  }\n\n  get _widgetManager() {\n    return this._widgetManagerInstance!;\n  }\n\n  get _web3Manager() {\n    return this._web3ManagerInstance!;\n  }\n\n  get config() {\n    return this._config!;\n  }\n\n  private _clearProviderSession() {\n    this._web3Manager.setSelectedAddress('');\n  }\n\n  private async _getWidgetCommunication() {\n    return (await this._widgetManager.getWidget()).communication;\n  }\n\n  get web3Provider() {\n    return this._web3Manager.provider;\n  }\n\n  // Todo: deprecate\n  get provider() {\n    return this.web3Provider;\n  }\n\n  changeNetwork(network: string | INetwork, gasRelay?: boolean) {\n    this._web3Manager.changeNetwork(network, gasRelay);\n  }\n\n  setDefaultEmail(email: string) {\n    this._widgetManager.setDefaultEmail(email);\n  }\n\n  // async singleton\n  async getWidget(): Promise<IWidget> {\n    return this._widgetManager.getWidget();\n  }\n\n  // Population by the dev of SDK callbacks that might be invoked by the widget\n\n  onLogin(callback: (walletAddress: string, email?: string, reputation?: string) => void) {\n    this._widgetManager.setOnLoginCallback(callback);\n  }\n\n  onLogout(callback: () => void) {\n    this._widgetManager.setOnLogoutCallback(callback);\n  }\n\n  onActiveWalletChanged(callback: (walletAddress: string) => void) {\n    this._widgetManager.setOnActiveWalletChangedCallback(callback);\n  }\n\n  onError(callback: (error: Error) => void) {\n    this._widgetManager.setOnErrorCallback(callback);\n  }\n\n  // SDK methods that could be invoked by the user and handled by the widget\n\n  async showPortis() {\n    return this._widgetManager.showPortis();\n  }\n\n  async getCampaignInfo(campaignId: string) {\n    return this._widgetManager.getCampaignInfo(campaignId);\n  }\n\n  async claimVoucher(voucherId: string) {\n    return this._widgetManager.claimVoucher(voucherId);\n  }\n\n  async logout() {\n    return this._widgetManager.logout();\n  }\n\n  async getExtendedPublicKey(path: string = \"m/44'/60'/0'/0/0\", coin: string = 'Ethereum') {\n    return this._widgetManager.getExtendedPublicKey(path, coin);\n  }\n\n  async importWallet(mnemonicOrPrivateKey: string) {\n    return this._widgetManager.importWallet(mnemonicOrPrivateKey);\n  }\n\n  async isLoggedIn() {\n    return this._widgetManager.isLoggedIn();\n  }\n\n  async signBitcoinTransaction(params: BTCSignTxSDKInput) {\n    return this._widgetManager.signBitcoinTransaction(params);\n  }\n\n  async showBitcoinWallet(path: string = \"m/49'/0'/0'/0/0\") {\n    return this._widgetManager.showBitcoinWallet(path);\n  }\n\n  async purchaseERC20(tokenAddress: string, amount: string, tokenSymbol: string, logoURL?: string) {\n    return this._widgetManager.purchaseERC20({tokenAddress, amount, tokenSymbol, logoURL});\n  }\n\n  // internal methods\n  private _validateParams(dappId: string, network: string | INetwork, options: IOptions) {\n    if (!dappId) {\n      throw new Error(\"[Portis] 'dappId' is required. Get your dappId here: https://dashboard.portis.io\");\n    }\n\n    if (!network) {\n      throw new Error(\n        \"[Portis] 'network' is required. Read more about it here: https://docs.portis.io/#/configuration?id=network\",\n      );\n    }\n\n    if (options.scope) {\n      if (!Array.isArray(options.scope)) {\n        throw new Error(\n          \"[Portis] 'scope' must be an array. Read more about it here: https://docs.portis.io/#/configuration?id=scope\",\n        );\n      }\n\n      const unknownScope = options.scope.filter(item => SUPPORTED_SCOPES.indexOf(item) < 0);\n      if (unknownScope.length > 0) {\n        throw new Error(\n          \"[Portis] invalid 'scope' parameter. Read more about it here: https://docs.portis.io/#/configuration?id=scope\",\n        );\n      }\n    }\n\n    if (options.registerPageByDefault !== undefined && typeof options.registerPageByDefault !== 'boolean') {\n      throw new Error(\n        \"[Portis] invalid 'registerPageByDefault' parameter, must be a boolean. Read more about it here: https://docs.portis.io/#/configuration?id=registerPageByDefault\",\n      );\n    }\n  }\n}\n\nexport default Portis;\n"],
  "mappings": "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",
  "names": []
}
