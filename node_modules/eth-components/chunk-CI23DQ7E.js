import{transactor}from"./chunk-GRNYWZIC.js";import{EthComponentsSettingsContext}from"./chunk-5EJARFTI.js";import{__objRest,__spreadProps,__spreadValues}from"./chunk-5WBKJH57.js";import{formatUnits}from"@ethersproject/units";import{BigNumber as BigNumber2}from"ethers";import React12 from"react";import{Skeleton,Typography as Typography3}from"antd";import{useResolveEnsName as useResolveEnsName2}from"eth-hooks/dapps";import React11 from"react";import Blockies3 from"react-blockies";import{useThemeSwitcher as useThemeSwitcher2}from"react-css-theme-switcher";import{Button}from"antd";import{useUserAddress}from"eth-hooks";import{useEthersContext,useBlockNumberContext}from"eth-hooks/context";import React,{useState}from"react";import{useThemeSwitcher}from"react-css-theme-switcher";import{useDebounce}from"use-debounce";import{useIsMounted}from"usehooks-ts";var Account=props=>{let blockNumber=useBlockNumberContext(),ethersContext=useEthersContext(),showLoadModal=!ethersContext.active,[connecting,setConnecting]=useState(!1),isMounted=useIsMounted(),[loadingButton,loadingButtonDebounce]=useDebounce(connecting,1e3,{maxWait:1500});loadingButton&&connecting&&setConnecting(!1);let address=useUserAddress(props.signer),[resolvedAddress]=useDebounce(props.hasContextConnect?ethersContext.account:address,200,{trailing:!0}),[resolvedSigner]=useDebounce(props.hasContextConnect?ethersContext.signer:props.signer,200,{trailing:!0}),handleLoginClick=()=>{var _a;if(props.createLoginConnector!=null){let connector=(_a=props.createLoginConnector)==null?void 0:_a.call(props);isMounted()?connector?(setConnecting(!0),ethersContext.openModal(connector)):console.warn("openModal: A valid EthersModalConnector was not provided"):console.log("openModal: no longer mounted")}},loadModalButton=React.createElement(React.Fragment,null,showLoadModal&&props.createLoginConnector&&React.createElement(Button,{loading:loadingButtonDebounce.isPending(),key:"loginbutton",style:{verticalAlign:"top",marginLeft:8,marginTop:4},shape:"round",size:"large",onClick:handleLoginClick},"connect")),logoutButton=React.createElement(React.Fragment,null,!showLoadModal&&props.createLoginConnector&&React.createElement(Button,{key:"logoutbutton",style:{verticalAlign:"top",marginLeft:8,marginTop:4},shape:"round",size:"large",onClick:ethersContext.disconnectModal},"logout")),{currentTheme}=useThemeSwitcher(),display=React.createElement("span",null,resolvedAddress!=null&&React.createElement(React.Fragment,null,React.createElement(Address,{punkBlockie:!0,address:resolvedAddress,fontSize:props.fontSize,ensProvider:props.ensProvider,blockExplorer:props.blockExplorer,minimized:!1}),React.createElement(Balance,{address:resolvedAddress,price:props.price}),resolvedSigner&&React.createElement(Wallet,{signer:resolvedSigner,ensProvider:props.ensProvider,localProvider:props.localProvider,price:props.price,color:currentTheme==="light"?"#1890ff":"#2caad9"})));return React.createElement("div",null,display,props.hasContextConnect&&React.createElement(React.Fragment,null,loadModalButton,logoutButton))};import{CameraOutlined,QrcodeOutlined}from"@ant-design/icons";import{Badge,Input}from"antd";import{useResolveEnsName}from"eth-hooks/dapps";import React2,{useCallback,useState as useState2}from"react";import QrReader from"react-qr-reader";var AddressInput=props=>{var _a,_b;let[scan,setScan]=useState2(!1),ensName=useResolveEnsName(props.ensProvider,(_a=props.address)!=null?_a:""),scannerButton=React2.createElement("div",{style:{marginTop:4,cursor:"pointer"},onClick:()=>{setScan(!scan)}},React2.createElement(Badge,{count:React2.createElement(CameraOutlined,{style:{fontSize:9}})},React2.createElement(QrcodeOutlined,{style:{fontSize:18}}))," ","Scan"),updateAddress=useCallback(async newValue=>{var _a2,_b2;if(newValue!=null){let address=newValue;if(address.indexOf(".eth")>0||address.indexOf(".xyz")>0)try{let possibleAddress=await((_b2=(_a2=props.ensProvider)==null?void 0:_a2.resolveName)==null?void 0:_b2.call(_a2,address));possibleAddress&&(address=possibleAddress)}catch{}props.onChange&&props.onChange(address)}},[props.ensProvider,props.onChange]);return React2.createElement("div",null,scan?React2.createElement("div",{style:{zIndex:256,position:"absolute",left:0,top:0,width:"100%"},onClick:()=>{setScan(!1)}},React2.createElement(QrReader,{delay:250,resolution:1200,onError:e=>{console.log("SCAN ERROR",e),setScan(!1)},onScan:newValue=>{if(newValue){console.log("SCAN VALUE",newValue);let possibleNewValue=newValue;possibleNewValue.indexOf("/")>=0&&(possibleNewValue=possibleNewValue.substr(possibleNewValue.lastIndexOf("0x")),console.log("CLEANED VALUE",possibleNewValue)),setScan(!1),updateAddress(possibleNewValue)}},style:{width:"100%"}})):"",React2.createElement(Input,{id:"0xAddress",name:"0xAddress",autoComplete:"off",autoFocus:props.autoFocus,placeholder:props.placeholder?props.placeholder:"address",prefix:React2.createElement(Blockie,{address:(_b=props.address)!=null?_b:"",scale:3}),value:ensName||props.address,addonAfter:scannerButton,onChange:e=>{updateAddress(e.target.value)}}))};import{formatEther}from"@ethersproject/units";import{useBalance as useBalance2}from"eth-hooks";import{BigNumber}from"ethers";import React3,{useState as useState3}from"react";var Balance=props=>{var _a,_b;let[dollarMode,setDollarMode]=useState3(!0),balance=useBalance2(props.address),resolvedBalance=BigNumber.from(balance);props.balance!=null&&(resolvedBalance=BigNumber.from(props.balance));let floatBalance=parseFloat("0.00");if(resolvedBalance){let etherBalance=formatEther(resolvedBalance);floatBalance=parseFloat(etherBalance)}let display=floatBalance.toFixed(4),price=(_a=props.price)!=null?_a:props.dollarMultiplier;return price&&dollarMode&&(display="$"+(floatBalance*price).toFixed(2)),React3.createElement("span",{style:{verticalAlign:"middle",fontSize:(_b=props.size)!=null?_b:24,padding:8,cursor:"pointer"},onClick:()=>{setDollarMode(!dollarMode)}},display)};import React4 from"react";import Blockies from"react-blockies";var Blockie=props=>!props.address||typeof props.address.toLowerCase!="function"?React4.createElement("span",null):React4.createElement(Blockies,__spreadValues({seed:props.address.toLowerCase()},props));import{Input as Input2}from"antd";import React5,{useEffect,useState as useState4}from"react";var EtherInput=props=>{let[mode,setMode]=useState4(props.price?"USD":"ETH"),[display,setDisplay]=useState4(),[value,setValue]=useState4(),currentValue=props.value?props.value:value,option=title=>(props==null?void 0:props.price)!=null?React5.createElement(React5.Fragment,null):React5.createElement("div",{style:{cursor:"pointer"},onClick:()=>{if(mode==="USD")setMode("ETH"),setDisplay(currentValue);else if(setMode("USD"),currentValue){let usdValue=""+(parseFloat(currentValue)*props.price).toFixed(2);setDisplay(usdValue)}else setDisplay(currentValue)}},title),prefix,addonAfter;return mode==="USD"?(prefix="$",addonAfter=option("USD \u{1F500}")):(prefix="\u039E",addonAfter=option("ETH \u{1F500}")),useEffect(()=>{currentValue||setDisplay("")},[currentValue]),React5.createElement(Input2,{placeholder:props.placeholder?props.placeholder:"amount in "+mode,autoFocus:props.autoFocus,prefix,value:display,addonAfter,onChange:e=>{var _a;let newValue=e.target.value;if(mode==="USD"){let possibleNewValue=parseFloat(newValue);if(possibleNewValue){let ethValue=possibleNewValue/((_a=props.price)!=null?_a:1);setValue(ethValue.toString()),typeof props.onChange=="function"&&props.onChange(ethValue.toString()),setDisplay(newValue)}else setDisplay(newValue)}else setValue(newValue),typeof props.onChange=="function"&&props.onChange(newValue),setDisplay(newValue)}})};import{SendOutlined}from"@ant-design/icons";import{parseEther}from"@ethersproject/units";import{Button as Button2,Input as Input3,Tooltip}from"antd";import{useResolveEnsAddress}from"eth-hooks/dapps";import{ethers}from"ethers";import React6,{useCallback as useCallback2,useContext,useState as useState5}from"react";import Blockies2 from"react-blockies";var Faucet=props=>{let[recipient,setRecipient]=useState5(""),context=useContext(EthComponentsSettingsContext),blockie;props.faucetAddress&&typeof props.faucetAddress.toLowerCase=="function"?blockie=React6.createElement(Blockies2,{seed:props.faucetAddress.toLowerCase(),size:8,scale:4}):blockie=React6.createElement("div",null);let updateAddress=useCallback2(newValue=>{newValue!=null&&setRecipient(newValue)},[]),resolvedAddress=useResolveEnsAddress(props.mainnetProvider,recipient!=null?recipient:""),toAddress=ethers.utils.isAddress(recipient)?recipient:resolvedAddress,localSigner=props.localProvider.getSigner();return React6.createElement("span",null,React6.createElement(Input3,{size:"large",placeholder:props.placeholder?props.placeholder:"local faucet",prefix:blockie,value:recipient,onChange:e=>{updateAddress(e.target.value)},suffix:React6.createElement(Tooltip,{title:"Faucet: Send local ether to an address."},React6.createElement(Button2,{onClick:()=>{if(localSigner&&context&&ethers.utils.isAddress(toAddress)){let tx=transactor(context,localSigner);tx&&!!recipient&&tx({to:toAddress,value:parseEther("0.01")}).then(()=>{setRecipient("")})}else console.warn("Faucet: invalid address")},shape:"circle",icon:React6.createElement(SendOutlined,null)}),React6.createElement(Wallet,{color:"#888888",signer:localSigner,localProvider:props.localProvider,ensProvider:props.mainnetProvider,price:props.price}))}))};import{Button as Button3}from"antd";import{useGasPrice}from"eth-hooks";import React7 from"react";var GasGauge=props=>{let gasPrice=useGasPrice(props.chainId,props.speed,props.currentNetwork);return React7.createElement(Button3,{onClick:()=>{window.open("https://ethgasstation.info/")},size:"large",shape:"round"},React7.createElement("span",{style:{marginRight:8}},React7.createElement("span",{role:"img","aria-label":"fuelpump"},"\u26FD\uFE0F")),gasPrice!=null?gasPrice:"\u2753")};import{message,Typography}from"antd";import QR from"qrcode.react";import React8,{useState as useState6,useEffect as useEffect2}from"react";var useWindowSize=()=>{let isClient=typeof window=="object";function getSize(){return{width:isClient?window.innerWidth:void 0,height:isClient?window.innerHeight:void 0}}let[windowSize,setWindowSize]=useState6(getSize);return useEffect2(()=>{let handleResize=()=>{setWindowSize(getSize())};return isClient&&window.addEventListener("resize",handleResize),()=>{window.removeEventListener("resize",handleResize)}},[]),windowSize},PunkBlockie=props=>{var _a,_b;let size=useWindowSize();size.width||(size.width=100),size.height||(size.height=100);let minSize=360,qrWidth;size.width&&size.width/3<minSize?qrWidth=minSize:qrWidth=(_a=size.width)!=null?_a:minSize/3;let scale=(_b=props.scale)!=null?_b:Math.min(size.height-130,size.width,1024)/(qrWidth*1),offset=.42,url=window.location.href+"",hardcodedSizeForNow=380,punkSize=112,part1=props.address&&props.address.substr(2,20),part2=props.address&&props.address.substr(22),x=parseInt(part1,16)%100,y=parseInt(part2,16)%100;return React8.createElement("div",{style:{transform:`scale(${props.scale?props.scale:"1"})`,transformOrigin:"50% 50%",margin:"auto",position:"relative",width:hardcodedSizeForNow},onClick:()=>{let el=document.createElement("textarea");el.value=props.address,document.body.appendChild(el),el.select(),document.execCommand("copy"),document.body.removeChild(el);let iconPunkSize=40;message.success(React8.createElement("span",{style:{position:"relative"}},"Copied Address",React8.createElement("div",{style:{position:"absolute",left:-60,top:-14}},React8.createElement("div",{style:{position:"relative",width:iconPunkSize,height:iconPunkSize-1,overflow:"hidden"}},React8.createElement("img",{src:"/punks.png",style:{position:"absolute",left:-iconPunkSize*x,top:-iconPunkSize*y,width:iconPunkSize*100,height:iconPunkSize*100,imageRendering:"pixelated"}})))))}},React8.createElement("div",{style:{position:"absolute",opacity:.5,left:hardcodedSizeForNow/2-46,top:hardcodedSizeForNow/2-46}},React8.createElement(Blockie,{address:props.address,scale:11.5})),React8.createElement("div",{style:{position:"absolute",left:hardcodedSizeForNow/2-53,top:hardcodedSizeForNow/2-65}},React8.createElement("div",{style:{position:"relative",width:punkSize,height:punkSize-1,overflow:"hidden"}},React8.createElement("img",{src:"/punks.png",style:{position:"absolute",left:-punkSize*x,top:-punkSize*y-1,width:punkSize*100,height:punkSize*100,imageRendering:"pixelated"}}))),props.withQr?React8.createElement(QR,{level:"H",includeMargin:!1,value:props.address?"ethereum:"+props.address:"",size:hardcodedSizeForNow,imageSettings:{width:105,height:105,excavate:!0,src:"qr"}}):"")};import{KeyOutlined,QrcodeOutlined as QrcodeOutlined2,SendOutlined as SendOutlined2,WalletOutlined}from"@ant-design/icons";import{parseEther as parseEther2}from"@ethersproject/units";import{Button as Button4,Modal,Spin,Tooltip as Tooltip2,Typography as Typography2}from"antd";import{useBurnerSigner,useUserAddress as useUserAddress2}from"eth-hooks";import QR2 from"qrcode.react";import React9,{useContext as useContext2,useState as useState7}from"react";var{Text,Paragraph}=Typography2,Wallet=props=>{var _a;let burner=useBurnerSigner(props.localProvider),account=useUserAddress2(props.signer),[open,setOpen]=useState7(!1),[qr,setQr]=useState7(),[amount,setAmount]=useState7(""),[toAddress,setToAddress]=useState7(""),[publicKey,setPublicKey]=useState7(),context=useContext2(EthComponentsSettingsContext),providerSend=props.signer?React9.createElement(Tooltip2,{title:"Wallet"},React9.createElement(WalletOutlined,{onClick:()=>{setOpen(!open)},rotate:-90,style:{padding:7,color:props.color?props.color:"",cursor:"pointer",fontSize:28,verticalAlign:"middle"}})):React9.createElement(React9.Fragment,null),display,receiveButton,privateKeyButton;if(qr)display=React9.createElement("div",null,React9.createElement("div",null,React9.createElement(Text,{copyable:!0},account)),React9.createElement(QR2,{value:account!=null?account:"",size:450,level:"H",includeMargin:!0,renderAs:"svg",imageSettings:{excavate:!1,src:"copy"}})),receiveButton=React9.createElement(Button4,{key:"hide",onClick:()=>{setQr("")}},React9.createElement(QrcodeOutlined2,null)," Hide"),privateKeyButton=React9.createElement(Button4,{key:"hide",onClick:()=>{setPublicKey(account),setQr("")}},React9.createElement(KeyOutlined,null)," Private Key");else if(publicKey){if((props.signer==null||account==null)&&(display=React9.createElement("div",null,React9.createElement("b",null,"*initalizing*"))),burner.account==null)display=React9.createElement("div",null,React9.createElement("b",null,"*unknown*, burner signer not initalized"));else if(burner.account!==account)display=React9.createElement("div",null,React9.createElement("b",null,"*injected account*, burner private key unknown"));else{let burnerPrivateKey=(_a=burner.getBurnerPrivateKey())!=null?_a:"";display=React9.createElement("div",null,React9.createElement("b",null,"Private Key:"),React9.createElement("div",null,React9.createElement(Text,{copyable:!0},burnerPrivateKey)),React9.createElement("hr",null),React9.createElement("i",null,"Point your camera phone at qr code to open in",React9.createElement("a",{target:"_blank",href:"https://xdai.io/"+burnerPrivateKey,rel:"noopener noreferrer"},"burner wallet"),":"),React9.createElement(QR2,{value:"https://xdai.io/"+burnerPrivateKey,size:450,level:"H",includeMargin:!0,renderAs:"svg",imageSettings:{excavate:!1,src:"dai"}}),React9.createElement(Paragraph,{style:{fontSize:"16"},copyable:!0},"https://xdai.io/"+burnerPrivateKey))}receiveButton=React9.createElement(Button4,{key:"receive",onClick:()=>{setQr(account),setPublicKey("")}},React9.createElement(QrcodeOutlined2,null)," Receive"),privateKeyButton=React9.createElement(Button4,{key:"hide",onClick:()=>{setPublicKey(""),setQr("")}},React9.createElement(KeyOutlined,null)," Hide")}else{let inputStyle={padding:10};display=React9.createElement("div",null,React9.createElement("div",{style:inputStyle},React9.createElement(AddressInput,{autoFocus:!0,ensProvider:props.ensProvider,placeholder:"to address",address:toAddress,onChange:setToAddress})),React9.createElement("div",{style:inputStyle},React9.createElement(EtherInput,{price:props.price,value:amount,onChange:value=>{setAmount(value)}}))),receiveButton=React9.createElement(Button4,{key:"receive",onClick:()=>{setQr(account),setPublicKey("")}},React9.createElement(QrcodeOutlined2,null)," Receive"),privateKeyButton=React9.createElement(Button4,{key:"hide",onClick:()=>{setPublicKey(account),setQr("")}},React9.createElement(KeyOutlined,null)," Private Key")}let disableSend=amount==null||toAddress==null||qr!=null&&qr!=="";return React9.createElement("span",null,providerSend,React9.createElement(Modal,{visible:open,title:React9.createElement("div",null,account?React9.createElement(Address,{address:account,ensProvider:props.ensProvider}):React9.createElement(Spin,null),React9.createElement("div",{style:{float:"right",paddingRight:25}},React9.createElement(Balance,{address:account,dollarMultiplier:props.price}))),onOk:()=>{setQr(""),setPublicKey(""),setOpen(!open)},onCancel:()=>{setQr(""),setPublicKey(""),setOpen(!open)},footer:[privateKeyButton,receiveButton,React9.createElement(Button4,{key:"submit",type:"primary",disabled:disableSend,loading:!1,onClick:()=>{let tx=transactor(context,props.signer),value;try{value=parseEther2(""+amount)}catch{value=parseEther2(""+parseFloat(amount).toFixed(8))}tx==null||tx({to:toAddress,value}),setOpen(!open),setQr("")}},React9.createElement(SendOutlined2,null)," Send")]},display))};var{Text:Text2,Link}=Typography3,blockExplorerLink=(address,blockExplorer)=>`${blockExplorer||"https://etherscan.io/"}address/${address}`,Address=_a=>{var _b=_a,{minimized=!1,punkBlockie=!1,size="short"}=_b,rest=__objRest(_b,["minimized","punkBlockie","size"]);let props=__spreadProps(__spreadValues({},rest),{size,minimized,punkBlockie}),address=props.address,ensName="",{currentTheme}=useThemeSwitcher2();if(ensName=useResolveEnsName2(props.ensProvider,address),!address)return React11.createElement("span",null,React11.createElement(Skeleton,{avatar:!0,paragraph:{rows:1}}));let displayAddress=address.substr(0,6),ensSplit=ensName&&ensName.split(".");ensSplit&&ensSplit[ensSplit.length-1]==="eth"?displayAddress=ensName:props.size==="short"?displayAddress+="..."+address.substr(-4):props.size==="long"&&(displayAddress=address);let etherscanLink=blockExplorerLink(address,props.blockExplorer);if(props.minimized)return props.noLink?React11.createElement("span",{style:{verticalAlign:"middle"}},React11.createElement("span",{style:{verticalAlign:"middle",position:"relative"}},React11.createElement("div",{style:{position:"absolute",left:-213,top:-62}},React11.createElement(PunkBlockie,{withQr:!1,address:address.toLowerCase(),scale:.35})))):React11.createElement("span",{style:{verticalAlign:"middle"}},React11.createElement("a",{style:{color:currentTheme==="light"?"#222222":"#ddd"},target:"_blank",href:etherscanLink,rel:"noopener noreferrer"},React11.createElement("span",{style:{verticalAlign:"middle",position:"relative"}},React11.createElement("div",{style:{position:"absolute",left:-213,top:-62}},React11.createElement(PunkBlockie,{withQr:!1,address:address.toLowerCase(),scale:.35})))));let copyable=props.hideCopy?void 0:{text:address},text=React11.createElement(React11.Fragment,null,React11.createElement(Link,{style:{color:currentTheme==="light"?"#222222":"#ddd"},editable:props.onChange?{onChange:props.onChange}:!1,copyable,href:etherscanLink,target:"_blank"},displayAddress));return React11.createElement("span",{style:{position:"relative"}},props.punkBlockie?React11.createElement("span",{style:{verticalAlign:"middle"}},React11.createElement("div",{style:{position:"absolute",left:-213,top:-62}},React11.createElement(PunkBlockie,{withQr:!1,address:address.toLowerCase(),scale:.4}))):React11.createElement("span",{style:{verticalAlign:"middle"}},React11.createElement(Blockies3,{seed:address.toLowerCase(),size:8,scale:props.fontSize?props.fontSize/7:4})),React11.createElement("span",{style:{verticalAlign:"middle",paddingLeft:5,fontSize:props.fontSize?props.fontSize:28}},text))};var tryToDisplay=thing=>{if(thing==null)return"";if(thing&&thing instanceof BigNumber2)try{return thing.toNumber()}catch{return"\u039E"+formatUnits(thing,"ether")}return thing&&typeof thing=="string"&&thing.indexOf("0x")===0&&thing.length===42?React12.createElement(Address,{address:thing,fontSize:22}):JSON.stringify(thing)};import{Col,Divider,Row}from"antd";import React13,{useCallback as useCallback3,useEffect as useEffect3,useState as useState8}from"react";import{useIsMounted as useIsMounted2}from"usehooks-ts";var DisplayVariable=props=>{let[variable,setVariable]=useState8(""),isMounted=useIsMounted2(),refresh=useCallback3(async()=>{try{if(props.contractFunction){let result=await props.contractFunction();isMounted()&&(setVariable(result),props.setTriggerRefresh(!1))}}catch(e){console.log(e)}},[props,isMounted]);return useEffect3(()=>{refresh()},[refresh,props.refreshRequired,props.contractFunction]),React13.createElement("div",null,React13.createElement(Row,null,React13.createElement(Col,{span:8,style:{textAlign:"right",opacity:.333,paddingRight:6,fontSize:24}},props.functionInfo.name),React13.createElement(Col,{span:14},React13.createElement("h2",null,tryToDisplay(variable))),React13.createElement(Col,{span:2},React13.createElement("h2",null,React13.createElement("a",{href:"#",onClick:refresh},"\u{1F504}")))),React13.createElement(Divider,null))};import{BigNumber as BigNumber3}from"@ethersproject/bignumber";import{Button as Button5,Col as Col2,Divider as Divider2,Input as Input4,Row as Row2,Tooltip as Tooltip3}from"antd";import{useEthersContext as useEthersContext2}from"eth-hooks/context";import{utils}from"ethers";import React14,{useState as useState9,useContext as useContext3}from"react";import Blockies4 from"react-blockies";var getFunctionInputKey=(functionInfo,input,inputIndex)=>{let name=(input==null?void 0:input.name)?input.name:`input_${inputIndex}_`;return functionInfo.name+"_"+name+"_"+input.type},FunctionForm=props=>{let[form,setForm]=useState9({}),[txValue,setTxValue]=useState9(""),[returnValue,setReturnValue]=useState9(),ethersContext=useEthersContext2(),ethComponentsSettings=useContext3(EthComponentsSettingsContext),inputs=props.functionFragment.inputs.map((input,inputIndex)=>{let key=getFunctionInputKey(props.functionFragment,input,inputIndex),buttons=React14.createElement(React14.Fragment,null);if(input.type==="bytes32")buttons=React14.createElement(Tooltip3,{placement:"right",title:"to bytes32"},React14.createElement("div",{style:{cursor:"pointer"},onClick:()=>{if(utils.isHexString(form[key])){let formUpdate=__spreadValues({},form);formUpdate[key]=utils.parseBytes32String(form[key]),setForm(formUpdate)}else{let formUpdate=__spreadValues({},form);formUpdate[key]=utils.formatBytes32String(form[key]),setForm(formUpdate)}}},"#\uFE0F\u20E3"));else if(input.type==="bytes")buttons=React14.createElement(Tooltip3,{placement:"right",title:"to hex"},React14.createElement("div",{style:{cursor:"pointer"},onClick:()=>{if(utils.isHexString(form[key])){let formUpdate=__spreadValues({},form);formUpdate[key]=utils.toUtf8String(form[key]),setForm(formUpdate)}else{let formUpdate=__spreadValues({},form);formUpdate[key]=utils.hexlify(utils.toUtf8Bytes(form[key])),setForm(formUpdate)}}},"#\uFE0F\u20E3"));else if(input.type==="uint256")buttons=React14.createElement(Tooltip3,{placement:"right",title:"* 10 ** 18"},React14.createElement("div",{style:{cursor:"pointer"},onClick:()=>{let formUpdate=__spreadValues({},form);formUpdate[key]=utils.parseEther(form[key]),setForm(formUpdate)}},"\u2734\uFE0F"));else if(input.type==="address"){let possibleAddress=form[key]&&form[key].toLowerCase&&form[key].toLowerCase().trim();possibleAddress&&possibleAddress.length===42&&(buttons=React14.createElement(Tooltip3,{placement:"right",title:"blockie"},React14.createElement(Blockies4,{seed:possibleAddress,scale:3})))}return React14.createElement("div",{style:{margin:2},key},React14.createElement(Input4,{size:"large",placeholder:input.name?input.type+" "+input.name:input.type,autoComplete:"off",value:form[key],name:key,onChange:event=>{let formUpdate=__spreadValues({},form);formUpdate[event.target.name]=event.target.value,setForm(formUpdate)},suffix:buttons}))}),txValueInput=React14.createElement("div",{style:{margin:2},key:"txValueInput"},React14.createElement(Input4,{placeholder:"transaction value",onChange:e=>setTxValue(e.target.value),value:txValue,addonAfter:React14.createElement("div",null,React14.createElement(Row2,null,React14.createElement(Col2,{span:16},React14.createElement(Tooltip3,{placement:"right",title:" * 10^18 "},React14.createElement("div",{style:{cursor:"pointer"},onClick:()=>{let floatValue=parseFloat(txValue);floatValue&&setTxValue(`${floatValue*10**18}`)}},"\u2733\uFE0F"))),React14.createElement(Col2,{span:16},React14.createElement(Tooltip3,{placement:"right",title:"number to hex"},React14.createElement("div",{style:{cursor:"pointer"},onClick:()=>{setTxValue(BigNumber3.from(txValue).toHexString())}},"#\uFE0F\u20E3")))))}));props.functionFragment.payable&&inputs.push(txValueInput);let buttonIcon=props.functionFragment.type==="call"?React14.createElement(Button5,{style:{marginLeft:-32}},"Read\u{1F4E1}"):React14.createElement(Button5,{style:{marginLeft:-32}},"Send\u{1F4B8}");return inputs.push(React14.createElement("div",{style:{cursor:"pointer",margin:2},key:"goButton"},React14.createElement(Input4,{onChange:e=>setReturnValue(e.target.value),defaultValue:"",bordered:!1,disabled:!0,value:returnValue,suffix:React14.createElement("div",{style:{width:50,height:30,margin:0},onClick:async()=>{let args=props.functionFragment.inputs.map((input,inputIndex)=>{let key=getFunctionInputKey(props.functionFragment,input,inputIndex),value=form[key];return input.baseType==="array"?value=JSON.parse(value):input.type==="bool"&&(value==="true"||value==="1"||value==="0x1"||value==="0x01"||value==="0x0001"?value=1:value=0),value}),result;if(props.functionFragment.stateMutability==="view"||props.functionFragment.stateMutability==="pure")try{let returned=await props.contractFunction(...args);result=tryToDisplay(returned)}catch(err){console.error(err)}else{let overrides={};txValue&&(overrides.value=txValue),props.gasPrice&&(overrides.gasPrice=props.gasPrice);let tx=transactor(ethComponentsSettings,ethersContext.signer,props.gasPrice);if(tx&&(ethersContext==null?void 0:ethersContext.chainId)!=null){let returned=await tx(props.contractFunction(...args,overrides));result=tryToDisplay(returned)}}console.log("SETTING RESULT:",result),setReturnValue(result),props.setTriggerRefresh(!0)}},buttonIcon)}))),React14.createElement("div",null,React14.createElement(Row2,null,React14.createElement(Col2,{span:8,style:{textAlign:"right",opacity:.333,paddingRight:6,fontSize:24}},props.functionFragment.name),React14.createElement(Col2,{span:16},inputs)),React14.createElement(Divider2,null))};import{Card,Typography as Typography4}from"antd";import{useContractExistsAtAddress}from"eth-hooks";import{useEthersContext as useEthersContext3}from"eth-hooks/context";import React16,{useState as useState10}from"react";import React15 from"react";var CodeView=props=>React15.createElement("span",{className:"highlight",style:{marginLeft:4,padding:4,borderRadius:4,fontWeight:"bolder"}},props.children),NoContractDisplay=props=>React15.createElement("div",{style:{padding:16}},props.showLoading&&"Loading...",React15.createElement("div",{style:{padding:16}},"\u{1F91A}\u{1F3FD} Make sure you have deployed your contract and selected the right network!"),React15.createElement("div",{style:{padding:16}},"You need to run",React15.createElement(CodeView,null,"yarn run chain"),"and",React15.createElement(CodeView,null,"to see your contract here.")),React15.createElement("div",{style:{padding:16}},React15.createElement("span",{style:{marginRight:4},role:"img","aria-label":"warning"},"\u2622\uFE0F"),"Warning: You might need to run",React15.createElement(CodeView,null,"yarn run deploy"),React15.createElement("i",null,"again")," after the frontend comes up!"));var{Text:Text3}=Typography4,isQueryable=fn=>(fn.stateMutability==="view"||fn.stateMutability==="pure")&&fn.inputs.length===0,GenericContract=props=>{var _a,_b,_c;let ethersContext=useEthersContext3(),contractIsDeployed=useContractExistsAtAddress(props.contract),[refreshRequired,setTriggerRefresh]=useState10(!1),contractDisplay=(props.contract?Object.values(props.contract.interface.functions).filter(fn=>fn.type==="function"&&!(props.show&&props.show.indexOf(fn.name)<0)):[]).map(fn=>{var _a2,_b2,_c2,_d,_e;if(!ethersContext.signer)return React16.createElement(React16.Fragment,null);let contractFunc=fn.stateMutability==="view"||fn.stateMutability==="pure"?(_a2=props.contract)==null?void 0:_a2[fn.name]:(_c2=(_b2=props.contract)==null?void 0:_b2.connect(ethersContext.signer))==null?void 0:_c2[fn.name];return typeof contractFunc=="function"?isQueryable(fn)?React16.createElement(DisplayVariable,{key:fn.name,contractFunction:(_d=props.contract)==null?void 0:_d[fn.name],functionInfo:fn,refreshRequired,setTriggerRefresh}):React16.createElement(FunctionForm,{key:"FF"+fn.name,contractFunction:contractFunc,functionFragment:fn,gasPrice:(_e=props.gasPrice)!=null?_e:0,setTriggerRefresh}):null}),fontSize=24;return React16.createElement("div",{style:{margin:"auto",width:"70vw"}},React16.createElement(Card,{title:React16.createElement("div",null,React16.createElement(Text3,{style:{fontSize,verticalAlign:"middle"}},props.contractName),React16.createElement("div",{style:{float:"right"}},React16.createElement(Account,{signer:(_a=props.contract)==null?void 0:_a.signer,ensProvider:props.mainnetProvider,price:(_b=props.tokenPrice)!=null?_b:0,blockExplorer:props.blockExplorer,fontSize,hasContextConnect:!1}),props.addressElement)),size:"default",style:{marginTop:25,width:"100%"},loading:ethersContext.ethersProvider==null||ethersContext.signer==null},contractIsDeployed?contractDisplay:React16.createElement(NoContractDisplay,{showLoading:ethersContext.signer==null||((_c=props.contract)==null?void 0:_c.provider)==null})))};export{Account,Address,AddressInput,Balance,Blockie,EtherInput,Faucet,GasGauge,tryToDisplay,DisplayVariable,FunctionForm,NoContractDisplay,GenericContract,PunkBlockie,Wallet};
//# sourceMappingURL=chunk-CI23DQ7E.js.map
